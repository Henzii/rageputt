(this.webpackJsonprageputt=this.webpackJsonprageputt||[]).push([[0],{345:function(e,t,a){},365:function(e,t,a){"use strict";a.r(t);var n,r,i,s,c,o,l,u,j,d,b,h,p,O,m,x,v,f,g=a(0),k=a(18),y=a.n(k),w=a(19),S=a(51),I=(a(345),a(16)),C=a(28),T=a(25),R=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:"SET_NOTIFICATION",data:{type:t,message:e,title:a}}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{alive:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return{message:t.data.message,title:t.data.title,type:t.data.type,alive:!0};case"KILL_NOTIFICATION":return Object(T.a)(Object(T.a)({},e),{},{alive:!1});default:return e}},N=a(405),$=a(440),E=a(409),U=a(2),F=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.notification}));return Object(U.jsx)(N.a,{open:t.alive,autoHideDuration:5e3,onClose:function(){e({type:"KILL_NOTIFICATION",data:{}})},transitionDuration:{enter:1e3,exit:2e3},TransitionProps:{direction:"left"},children:Object(U.jsxs)($.a,{severity:t.type,variant:"filled",elevation:3,children:[""!==t.title&&Object(U.jsx)(E.a,{children:t.title}),t.message]})})},D=a(430),q=a(66),M=a(370),B=a(421),A=a(322),W=a(379),L=(0,a(23).makeStyles)({paper:{padding:5,paddingLeft:15,marginBottom:20,borderRadius:15},listPaper:{borderRadius:10},dialogi:{padding:50},divider:{margin:0}}),z=function(e){var t=e.menuOpen,a=e.setMenuOpen,n=!Object(w.c)((function(e){return e.user})).user,r=L();return Object(U.jsxs)(q.a,{open:t,variant:"persistent",anchor:"left",children:[Object(U.jsx)(M.a,{onClick:function(){return a(!1)},children:Object(U.jsx)(D.a,{})}),Object(U.jsx)(B.a,{className:r.divider}),Object(U.jsx)(A.a,{children:Object(U.jsx)(W.a,{button:!0,component:S.b,to:"/",onClick:function(){return a(!1)},children:"Etusivu"})}),Object(U.jsx)(B.a,{className:r.divider}),Object(U.jsx)(A.a,{children:Object(U.jsx)(W.a,{disabled:n,button:!0,component:S.b,to:"/peli",onClick:function(){return a(!1)},children:"Uusi peli"})}),Object(U.jsx)(B.a,{className:r.divider}),Object(U.jsxs)(A.a,{children:[Object(U.jsx)(W.a,{disabled:n,button:!0,component:S.b,to:"/vanhat",onClick:function(){return a(!1)},children:"Vanhat pelit"}),Object(U.jsx)(W.a,{disabled:n,button:!0,component:S.b,to:"/stats",onClick:function(){return a(!1)},children:"Statistiikka"})]}),Object(U.jsx)(B.a,{className:r.divider}),Object(U.jsx)(A.a,{children:Object(U.jsx)(W.a,{disabled:n,button:!0,component:S.b,to:"/kaverit",onClick:function(){return a(!1)},children:"Kaverit"})}),Object(U.jsx)(B.a,{className:r.divider}),Object(U.jsxs)(A.a,{children:[Object(U.jsx)(W.a,{component:S.b,to:"/asetukset",disabled:n,button:!0,onClick:function(){return a(!1)},children:"Asetukset"}),Object(U.jsx)(W.a,{button:!0,component:S.b,to:"/createUser",onClick:function(){return a(!1)},children:"Luo tunnus"}),Object(U.jsx)(W.a,{button:!0,component:S.b,to:"/login",onClick:function(){return a(!1)},children:"Kirjaudu sis\xe4\xe4n"})]})]})},V=a(412),K=a(427),G=a(62),_=a(307),J=a.n(_),Y=function(e){var t=e.openMenu,a=Object(C.g)(),n=Object(g.useState)(0),r=Object(I.a)(n,2),i=r[0],s=r[1],c=Object(g.useState)(null),o=Object(I.a)(c,2),l=o[0],u=o[1];return console.log(i),Object(U.jsx)(V.a,{position:"static",children:Object(U.jsxs)(K.a,{children:[Object(U.jsx)(M.a,{edge:"start",onClick:t,children:Object(U.jsx)(J.a,{})}),Object(U.jsx)(G.a,{variant:"h5",style:{flexGrow:1,marginBottom:0},onClick:function(){s(i+1),null!==l&&clearTimeout(l),i>10&&a.push("/dev"),u(setTimeout((function(){s(0)}),500))},children:"RagePutt"})]})})},Q=a(27),H=a.n(Q),Z=a(47),X=a(436),ee=a(446),te=a(417),ae=a(413),ne=a(318),re=a(442),ie=a(426),se=a(423),ce=a(432),oe=a(296),le=a(422),ue=a(444),je=a(414),de=a(416),be=a(415),he=a(37),pe=a(96),Oe=Object(pe.a)(n||(n=Object(he.a)(["\n    fragment UserFullInfo on User {\n        name\n        user\n        email\n        shareStats\n        friends { user name id }\n        friendRequests { user name id }\n        id\n    }\n"]))),me=Object(pe.a)(r||(r=Object(he.a)(["\n    fragment GameDetails on Game {\n        finished\n        timestamp\n        players { user { user name id } tulokset }\n        id\n    }\n"]))),xe=Object(pe.a)(i||(i=Object(he.a)(["\n    mutation restoreAccount( $email: String!) {\n        restoreAccount( email: $email )\n    }\n"]))),ve=Object(pe.a)(s||(s=Object(he.a)(["\n    mutation login($user: String!, $password: String!) {\n        login(\n            user: $user\n            password: $password\n        ) {\n            value\n            user { user name }\n        }\n    }\n\n\n"]))),fe=Object(pe.a)(c||(c=Object(he.a)(["\n    mutation changeSettings($name: String, $password: String, $email: String, $shareStats: Boolean) {\n        changeSettings(\n            name: $name,\n            password: $password,\n            email: $email,\n            shareStats: $shareStats\n        ) {\n            name\n            user\n            email\n            shareStats\n            friends { user name id }\n            friendRequests { user name id }\n        }\n    }\n"]))),ge=Object(pe.a)(o||(o=Object(he.a)(["\n    mutation endGame ($id: String!) {\n        finishGame(\n            roundId: $id\n        )\n    }\n"]))),ke=Object(pe.a)(l||(l=Object(he.a)(["\n    mutation createGame ($pelaajat: [String]) {\n        createGame(\n            pelaajat: $pelaajat\n        )\n    }\n"]))),ye=Object(pe.a)(u||(u=Object(he.a)(["\n    mutation deleteGame ( $roundId: String!) {\n        deleteGame(\n            roundId: $roundId\n        )\n    }\n"]))),we=Object(pe.a)(j||(j=Object(he.a)(["\n    mutation setScore($roundId: String!, $round: ID!, $player: String!, $score: Int!) {\n        setScore(\n            roundId: $roundId\n            round: $round\n            player: $player\n            score: $score\n        ) {\n            finished\n            timestamp\n            players {\n                user { user }\n                tulokset\n            }\n        }\n    }\n"]))),Se=Object(pe.a)(d||(d=Object(he.a)(["\n    mutation createUser($user: String!, $password: String!, $name: String, $email: String) {\n        createUser(\n            user: $user\n            password: $password\n            name: $name\n            email: $email\n        ) {\n            user\n        }\n    }\n"]))),Ie=Object(pe.a)(b||(b=Object(he.a)(["\n    mutation handleFriendRequest($friendId: String!, $answer: Boolean!) {\n        handleFriendRequest(\n            friendId: $friendId\n            action: $answer\n        ) {\n            ...UserFullInfo\n        }\n    }","\n"])),Oe),Ce=Object(pe.a)(h||(h=Object(he.a)(["\n    mutation sendFriendRequest($name: String!) {\n        sendFriendRequest(\n            fName: $name\n        )\n    }\n"]))),Te=function(e){for(var t=0,a=10,n=0;n<e.length;n++){if(null===e[n])return t;t+=e[n]*a,a=5+e[n]}return t},Re=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[{dist:"5m",putteja:0,puttejaSisaan:0,prossa:0},{dist:"6m",putteja:0,puttejaSisaan:0,prossa:0},{dist:"7m",putteja:0,puttejaSisaan:0,prossa:0},{dist:"8m",putteja:0,puttejaSisaan:0,prossa:0},{dist:"9m",putteja:0,puttejaSisaan:0,prossa:0},{dist:"10m",putteja:0,puttejaSisaan:0,prossa:0}],a=0;a<e.length;a++){if(null===e[a])return t;var n=0!==a?e[a-1]:5;t[n].putteja+=5,t[n].puttejaSisaan+=e[a],t[n].prossa=t[n].puttejaSisaan/t[n].putteja*100}return t},Pe=function(e){var t=new Date(0);t.setUTCMilliseconds(e);var a=t.getHours()+t.getTimezoneOffset()/60,n=t.getMinutes();return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()+" "+(a<10?"0"+a:a)+":"+(t.getMinutes()<10?"0"+n:n)},Ne=function(e){var t,a=e.loading,n=[];for(t=0;t<6;t++)a&&t===Number(a)?n.push(Object(U.jsx)(te.a,{})):n.push(Object(U.jsx)(se.a,{item:!0,xs:!0,children:Object(U.jsx)(le.a,{labelPlacement:"top",value:t,label:t,control:Object(U.jsx)(ue.a,{color:"primary",size:"small",style:{padding:"0px"}})})},t));return n},$e=function(e){var t=e.player,a=e.round,n=Object(w.c)((function(e){return e.tulokset})),r=Object(w.b)(),i=Object(g.useState)(null),s=Object(I.a)(i,2),c=s[0],o=s[1],l=Object(ee.a)(we,{variables:{roundId:n.roundId}}),u=Object(I.a)(l,1)[0],j=a>0?5+t.tulokset[a-1]:10,d=Te(t.tulokset),b=t.tulokset[a];return isNaN(b)&&(b=null),Object(U.jsxs)(je.a,{className:"tulos-kortti",elevation:3,children:[Object(U.jsx)(de.a,{title:t.user.name,action:j+"m",subheader:d+" points"}),Object(U.jsx)(be.a,{style:{padding:"15px 0px"},children:Object(U.jsx)(oe.a,{row:!0,style:{whiteSpace:"nowrap"},value:b,onChange:function(e){o(e.target.value),u({variables:{roundId:n.roundId,round:n.round,player:t.user.user,score:Number(e.target.value)}}).catch((function(e){r(R(e.message,"error"))})).finally((function(){o(null),a>0&&!t.tulokset[a-1]&&r(R("Kierroksen "+a+" tulos puuttuu","warning"))}))},children:Object(U.jsx)(se.a,{container:!0,children:Object(U.jsx)(Ne,{loading:c})})})})]})},Ee=a(431),Ue=a(447),Fe=Object(pe.a)(p||(p=Object(he.a)(["\n    query getMe {\n        getMe{\n           ...UserFullInfo\n        }\n    } ","\n"])),Oe),De=Object(pe.a)(O||(O=Object(he.a)(["\n    query getGames {\n        getGames {\n           ...GameDetails\n        }\n    } ","\n"])),me),qe=Object(pe.a)(m||(m=Object(he.a)(["\n    query getGames( $userId: ID ) {\n        getGames( userId: $userId ) {\n            ...GameDetails\n        }\n    } ","\n"])),me),Me=Object(pe.a)(x||(x=Object(he.a)(["\n    query getRound($roundId: String!) {\n        getRound(\n            roundId: $roundId\n        ) {\n            finished\n            timestamp\n            id\n            players {\n                user { user name }\n                tulokset\n            }\n        }\n    }\n"]))),Be=Object(pe.a)(v||(v=Object(he.a)(["\n    query isUsernameAvailable( $user: String! ) {\n        isUsernameAvailable( user: $user)\n    }\n"]))),Ae=Object(pe.a)(f||(f=Object(he.a)(["\nsubscription changedCard( $roundId: String!) {\n    changedCard( roundId: $roundId) {\n        data {\n            tulokset\n            user { user name }\n        }\n    }\n}\n"]))),We=function(e){var t=e.kierrosData,a=e.tulokset,n=Object(w.b)(),r=a.round,i=Object(Ee.a)(),s=Object(Ue.a)(Ae,{variables:{roundId:t.data.getRound.id}});return Object(g.useEffect)((function(){if(!s.loading){var e=i.readQuery({query:Me,variables:{roundId:t.data.getRound.id}});null!==e&&i.writeQuery({query:Me,variables:{roundId:t.data.getRound.id},data:{getRound:Object(T.a)(Object(T.a)({},e.getRound),{},{players:e.getRound.players.map((function(e){return e.user.user===s.data.changedCard.data.user.user?s.data.changedCard.data:e}))})}})}}),[s]),Object(U.jsxs)("div",{children:[Object(U.jsxs)(se.a,{container:!0,className:"rundiValitsin",children:[Object(U.jsx)(se.a,{item:!0,children:Object(U.jsx)(M.a,{onClick:function(){return n({type:"DEC_ROUND"})},children:Object(U.jsx)(D.a,{})})}),Object(U.jsxs)(se.a,{item:!0,component:"h2",children:[" ",r+1,"/20"]}),Object(U.jsx)(se.a,{item:!0,children:Object(U.jsx)(M.a,{onClick:function(){return n({type:"INC_ROUND"})},children:Object(U.jsx)(ce.a,{})})})]}),t.data.getRound.players.map((function(e){return Object(U.jsx)($e,{player:e,round:r},e.user.user+"ppp")}))]})},Le=a(433),ze=function(){var e=Object(Le.a)(Fe),t=e.loading,a=e.data,n=e.refetch,r=Object(g.useState)(null),i=Object(I.a)(r,2),s=i[0],c=i[1],o=Object(Ee.a)();Object(g.useEffect)((function(){!t&&a&&c(a.getMe)}),[a,t]);return{me:s,loading:t,refetch:n,updateCache:function(e){!function(e,t,a,n){var r={query:t,variables:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,data:{}};r.data[n]=a,e.writeQuery(r)}(o,Fe,e,"getMe")}}},Ve=a(419),Ke=a(418),Ge=a(375),_e=a(443),Je=a(389),Ye=function(e){var t=e.options;return!0===e.mappedOptions?Array.from(t.keys()).map((function(e){return Object(U.jsx)("option",{value:t.get(e),children:e},e)})):t.map((function(e){return Object(U.jsx)("option",{children:e},e)}))},Qe=function(e){var t=e.options,a=e.variant,n=void 0===a?"outlined":a,r=e.mappedOptions,i=void 0!==r&&r,s=e.onChange;return Object(U.jsx)(Je.a,{native:!0,defaultValue:0,variant:n,onChange:function(e){return s(e.target.value)},children:Object(U.jsx)(Ye,{options:t,mappedOptions:i})})},He=a(434),Ze=a(435),Xe=function(e){var t=e.kaveri,a=e.kaverit,n=e.setKaverit;return Object(U.jsx)(le.a,{control:Object(U.jsx)(_e.a,{onChange:function(){a.includes(t.id)?n(a.filter((function(e){return e!==t.id}))):n(a.concat(t.id))},icon:Object(U.jsx)(Ze.a,{fontSize:"large"}),checkedIcon:Object(U.jsx)(He.a,{fontSize:"large",color:"primary"})}),label:t.name})},et=function(e){var t=e.open,a=e.setModal,n=e.handleNewGame,r=ze().me,i=Object(g.useState)([]),s=Object(I.a)(i,2),c=s[0],o=s[1];return null===r?Object(U.jsx)(ne.a,{open:!0,children:Object(U.jsx)(te.a,{})}):(console.log(c),Object(U.jsx)(Ve.a,{open:t,fullWidth:!0,maxWidth:"xs",PaperProps:{style:{borderRadius:20}},children:Object(U.jsxs)(Ke.a,{children:[Object(U.jsx)(G.a,{variant:"h4",children:"Uusi peli"}),Object(U.jsxs)(G.a,{variant:"h5",children:["Pelimoodi: ",Object(U.jsx)(Qe,{options:["Normaali"]})]}),Object(U.jsx)(G.a,{variant:"h5",children:"Valitse pelaajat"}),Object(U.jsxs)(Ge.a,{children:[Object(U.jsx)(le.a,{control:Object(U.jsx)(_e.a,{checkedIcon:Object(U.jsx)(He.a,{fontSize:"large"}),checked:!0}),label:"Min\xe4"}),r.friends.map((function(e){return Object(U.jsx)(Xe,{kaverit:c,setKaverit:o,kaveri:e},e.user)}))]}),Object(U.jsxs)(se.a,{container:!0,justify:"space-around",style:{marginTop:20},children:[Object(U.jsx)(se.a,{item:!0,children:Object(U.jsx)(ae.a,{color:"primary",variant:"contained",onClick:function(){return n(c)},children:"Aloita peli"})}),Object(U.jsx)(se.a,{item:!0,children:Object(U.jsx)(ae.a,{color:"secondary",variant:"contained",onClick:function(){return a(!1)},children:"Peruuta"})})]})]})}))},tt=a(93),at=a(68),nt=a(26),rt=function(e){var t=e.data,a=e.otsikko,n=void 0===a?"":a,r=e.paperStyle,i=void 0!==r&&r,s=(e.paperProps,L());return Object(U.jsx)(tt.a,{className:!0===i?s.paper:null,children:Object(U.jsxs)(at.c,{data:t,height:"250",children:[Object(U.jsx)(at.e,{text:n}),Object(U.jsx)(at.a,{}),Object(U.jsx)(at.f,{min:0,max:100}),Object(U.jsx)(at.b,{argumentField:"dist",valueField:"prossa"}),Object(U.jsx)(nt.a,{})]})})},it=function(e){var t=e.player,a=Re(t.tulokset);return Object(U.jsx)(rt,{data:a,otsikko:t.user.name,paperProps:{elevation:3,style:{marginBottom:"5px"}}})},st=a(170),ct=function(e){var t=e.children,a=e.value,n=e.index,r=Object(st.a)(e,["children","value","index"]);return Object(U.jsx)("div",Object(T.a)(Object(T.a)({hidden:a!==n},r),{},{children:a===n&&t}))},ot=function(){var e=Object(w.b)(),t=Object(g.useState)(!1),a=Object(I.a)(t,2),n=a[0],r=a[1],i=Object(g.useState)(0),s=Object(I.a)(i,2),c=s[0],o=s[1],l=Object(w.c)((function(e){return e.tulokset})),u=Object(w.c)((function(e){return e.user})),j=Object(X.a)(Me),d=Object(I.a)(j,2),b=d[0],h=d[1],p=Object(ee.a)(ke),O=Object(I.a)(p,1)[0],m=Object(ee.a)(ge),x=Object(I.a)(m,1)[0],v=Object(ee.a)(ye),f=Object(I.a)(v,1)[0];Object(g.useEffect)((function(){if(l.roundId&&h.roundId!==l.roundId)try{b({variables:{roundId:l.roundId}})}catch(e){console.log("Virhe peli\xe4 hakiessa",e.message)}}),[l.roundId]);var k=function(){var t=Object(Z.a)(H.a.mark((function t(a){var n;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O({variables:{pelaajat:a},refetchQueries:[{query:De}]});case 3:n=t.sent,e({type:"SET_ID",data:{roundId:n.data.createGame}}),e(R("Uusi peli luotu","info")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e(R("Virhe uuden pelin luonnissa","error")),console.log(t.t0.message);case 12:r(!1);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(Z.a)(H.a.mark((function t(){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f({variables:{roundId:l.roundId},refetchQueries:[{query:De}]});case 3:e({type:"RESET_ROUND"}),e(R("Peli poistettu","success")),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e(R("Virhe pelin poistamisessa","error")),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(Z.a)(H.a.mark((function t(){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x({variables:{id:l.roundId},refetchQueries:[{query:De}]});case 3:e(R("Peli p\xe4\xe4tetty","warning")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("Virhe pelin p\xe4\xe4tt\xe4misess\xe4. "+t.t0.message);case 9:return t.abrupt("return",Object(U.jsx)(C.a,{to:"/pelit"}));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return u.user?h.loading?Object(U.jsx)(ne.a,{open:!0,children:Object(U.jsx)(te.a,{})}):null!==l.roundId&&h.data?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(re.a,{value:c,onChange:function(e,t){return o(t)},variant:"fullWidth",children:[Object(U.jsx)(ie.a,{label:"Peli"}),Object(U.jsx)(ie.a,{label:"Asetukset"}),Object(U.jsx)(ie.a,{label:"Statsit"})]}),Object(U.jsxs)(Ke.a,{children:[Object(U.jsx)(ct,{value:c,index:0,children:Object(U.jsx)(We,{kierrosData:h,tulokset:l})}),Object(U.jsxs)(ct,{value:c,index:1,children:[Object(U.jsx)(G.a,{variant:"h5",gutterBottom:!0,children:"Poistu pelist\xe4"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Poistu p\xe4\xe4valikkoon. Peli on tallennettu ja tulosten merkkaamista voi jatkaa."}),Object(U.jsx)(ae.a,{size:"large",onClick:function(){return e({type:"RESET_ROUND"})},variant:"contained",color:"primary",fullWidth:!0,children:"Poistu pelist\xe4"}),Object(U.jsx)(B.a,{style:{margin:"15px 0px"}}),Object(U.jsx)(G.a,{variant:"h5",gutterBottom:!0,children:"P\xe4\xe4t\xe4 peli"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Peli p\xe4\xe4tet\xe4\xe4n. Tulosten kirjaaminen suljetaan. Tulokset lasketaan mukaan statistiikkoihin."}),Object(U.jsx)(ae.a,{onClick:S,size:"large",variant:"contained",color:"primary",fullWidth:!0,children:"P\xe4\xe4t\xe4 peli"}),Object(U.jsx)(B.a,{style:{margin:"15px 0px"}}),Object(U.jsx)(G.a,{variant:"h5",gutterBottom:!0,children:"Poista peli"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Peli poistetaan"}),Object(U.jsx)(ae.a,{size:"large",onClick:y,variant:"contained",color:"primary",fullWidth:!0,children:"Poista peli"})]}),Object(U.jsx)(ct,{value:c,index:2,children:h.data.getRound.players.map((function(e){return Object(U.jsx)(it,{player:e},"ps"+e.user.user)}))})]})]}):Object(U.jsxs)(Ke.a,{children:[Object(U.jsx)(G.a,{variant:"h4",gutterBottom:!0,children:"Pakko p\xe4\xe4st\xe4 puttaa"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Ei aktiivista peli\xe4 k\xe4ynniss\xe4. Aloita joko uusi peli tai jatkaa vanhaa peli\xe4."}),Object(U.jsx)(G.a,{paragraph:!0,children:"Vanhan pelin jatkaminen onnistuu aktivoimalla se 'Vanhat peli' -osiosta."}),Object(U.jsx)(ae.a,{onClick:function(){return r(!0)},color:"primary",variant:"contained",size:"large",fullWidth:!0,children:"Aloita uusi peli"}),Object(U.jsx)(et,{open:n,setModal:r,handleNewGame:k})]}):Object(U.jsx)(C.a,{to:"/login"})},lt=a(76),ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(g.useState)(e),a=Object(I.a)(t,2),n=a[0],r=a[1],i=Object(w.b)(),s=Object(Le.a)(qe,{variables:{userId:n}}),c=Object(g.useState)(null),o=Object(I.a)(c,2),l=o[0],u=o[1];return Object(g.useEffect)((function(){s.loading||(s.error?i(R("K\xe4ytt\xe4j\xe4 on est\xe4nyt jakamisen","error")):u(s.data.getGames))}),[s]),{games:l,setUserId:r,userId:n}},jt=function(){var e=ut(),t=e.games,a=e.setUserId,n=e.userId,r=Object(w.c)((function(e){return e.user})),i=ze().me;if(null===t||null===i)return Object(U.jsx)(ne.a,{open:!0,children:Object(U.jsx)(te.a,{})});for(var s=Re(),c=[],o=0,l=0;l<t.length;l++)if(t[l].finished){console.log({userId:n,user:r.id});var u=t[l].players.find((function(e){return e.user.id===n?n:i.id}));s=Re(u.tulokset,s);var j=Te(u.tulokset);j>o&&(o=j),c.push({game:l,score:j})}var d=new Map;d.set("Min\xe4",i.id);var b,h=Object(lt.a)(i.friends);try{for(h.s();!(b=h.n()).done;){var p=b.value;d.set(p.name,p.id)}}catch(O){h.e(O)}finally{h.f()}return Object(U.jsxs)(Ke.a,{children:[Object(U.jsxs)(G.a,{variant:"h5",children:["Pelaaja: ",Object(U.jsx)(Qe,{options:d,mappedOptions:!0,onChange:function(e){return a(e)}})]}),Object(U.jsxs)(se.a,{container:!0,direction:"column",children:[Object(U.jsxs)(se.a,{item:!0,component:G.a,children:["Pelej\xe4: ",t.length]}),Object(U.jsxs)(se.a,{item:!0,component:G.a,children:["Paras tulos: ",o]})]}),Object(U.jsx)(rt,{data:s,otsikko:"Puttiprossat",paperStyle:!0}),Object(U.jsx)(tt.a,{style:{borderRadius:15},children:Object(U.jsxs)(at.c,{data:c,height:"200",children:[Object(U.jsx)(at.e,{text:"Pisteet"}),Object(U.jsx)(at.a,{}),Object(U.jsx)(at.f,{}),Object(U.jsx)(at.d,{argumentField:"game",valueField:"score"}),Object(U.jsx)(nt.a,{})]})})]})},dt=a(429),bt=function(e,t){return{type:"SET_USER",data:{user:t,name:e}}},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{user:t.data.user,name:t.data.name};case"CLEAR_USER":return{};default:return e}},pt=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.user})),a=Object(g.useState)(!1),n=Object(I.a)(a,2),r=n[0],i=n[1],s=Object(ee.a)(ve),c=Object(I.a)(s,1)[0],o=Object(Ee.a)(),l=function(){var t=Object(Z.a)(H.a.mark((function t(a){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.clearStore();case 2:window.localStorage.clear(),e({type:"CLEAR_USER",data:{}}),e({type:"RESET_ROUND"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(Z.a)(H.a.mark((function t(a){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),i(!0),c({variables:{user:a.target.user.value,password:a.target.password.value}}).then((function(t){window.localStorage.setItem("rageToken",t.data.login.value),console.log("Login data: ",t.data.login);var a=bt(t.data.login.user.name,t.data.login.user.user);e(a),i(!1)})).catch((function(t){e(R("V\xe4\xe4r\xe4 tunnus tai salasana","error")),i(!1)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t.user?Object(U.jsxs)(Ke.a,{children:[Object(U.jsx)(G.a,{variant:"h4",gutterBottom:!0,children:"Kirjautunut"}),Object(U.jsxs)(G.a,{paragraph:!0,children:["Olet kirjautunut tunnuksella ",Object(U.jsx)("b",{children:t.user})]}),Object(U.jsx)(ae.a,{onClick:l,variant:"contained",color:"primary",children:"Kirjaudu ulos"})]}):Object(U.jsxs)(Ke.a,{children:[Object(U.jsx)(ne.a,{open:r,children:Object(U.jsx)(te.a,{})}),Object(U.jsx)(G.a,{variant:"h4",gutterBottom:!0,children:"Kirjaudu sis\xe4\xe4n"}),Object(U.jsx)("form",{onSubmit:u,children:Object(U.jsxs)(se.a,{container:!0,spacing:1,children:[Object(U.jsx)(se.a,{item:!0,xs:12,children:Object(U.jsx)(dt.a,{name:"user",label:"Tunnus",variant:"outlined",fullWidth:!0})}),Object(U.jsx)(se.a,{item:!0,xs:12,children:Object(U.jsx)(dt.a,{name:"password",label:"Salasana",variant:"outlined",type:"password",fullWidth:!0})}),Object(U.jsx)(se.a,{item:!0,xs:12,children:Object(U.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",size:"large",children:"Kirjaudu"})})]})}),Object(U.jsx)(B.a,{}),Object(U.jsx)(G.a,{variant:"h6",children:"Unohtuiko salasana"}),Object(U.jsx)(G.a,{paragraph:!0,children:Object(U.jsx)(S.b,{to:"/palautus",children:"Voi ei, unohdin salasanani"})})]})},Ot=function(){var e=Object(X.a)(Be),t=Object(I.a)(e,2),a=t[0],n=t[1],r=n.loading,i=n.data,s=Object(g.useState)(""),c=Object(I.a)(s,2),o=c[0],l=c[1],u=Object(g.useState)(null),j=Object(I.a)(u,2),d=j[0],b=j[1],h=Object(g.useState)(null),p=Object(I.a)(h,2),O=p[0],m=p[1];Object(g.useEffect)((function(){!r&&i&&""!==o&&b(i.isUsernameAvailable)}),[i,r]);return{username:o,setName:function(e){l(e),b(""===e?null:"loading"),null!==O&&clearTimeout(O);var t=setTimeout((function(){a({variables:{user:e}})}),1e3);m(t)},available:d}},mt=function(e){var t=e.handleSendFriendRequest,a=Ot(),n=a.username,r=a.setName,i=a.available;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(G.a,{variant:"h5",children:"L\xe4het\xe4 kaveripyynt\xf6"}),Object(U.jsxs)("form",{onSubmit:t,children:[Object(U.jsx)(dt.a,{label:"Nimi",variant:"outlined",name:"kaveri",size:"small",style:{color:"green"},value:n,onChange:function(e){return r(e.target.value)},error:!0===i,helperText:!0===i?"Nime\xe4 ei l\xf6ydy":""}),"loading"===i&&Object(U.jsx)("span",{style:{marginLeft:10},children:Object(U.jsx)(te.a,{})}),Object(U.jsx)("br",{}),Object(U.jsx)(ae.a,{disabled:!1!==i,type:"submit",variant:"contained",size:"large",color:"primary",style:{marginTop:"5px"},children:"L\xe4het\xe4"})]})]})},xt=a(437),vt=a(438),ft=function(e){var t=e.kaveri,a=e.handleFriendRequest,n=L();return Object(U.jsx)(W.a,{children:Object(U.jsxs)(se.a,{container:!0,component:tt.a,elevation:3,className:n.listPaper,justify:"space-between",alignItems:"center",children:[Object(U.jsxs)(se.a,{item:!0,xs:8,children:[t.user," (",t.name,")"]}),Object(U.jsxs)(se.a,{item:!0,children:[Object(U.jsx)(M.a,{onClick:function(){return a(t.id,!0)},children:Object(U.jsx)(xt.a,{style:{color:"green"}})}),Object(U.jsx)(M.a,{onClick:function(){return a(t.id,!1)},children:Object(U.jsx)(vt.a,{style:{color:"#ff4040"}})})]})]})})},gt=function(e){var t=e.pyynnot,a=e.handleFriendRequest;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(G.a,{variant:"h5",children:"Kaveripyynn\xf6t"}),Object(U.jsx)(A.a,{dense:!0,children:t.map((function(e){return Object(U.jsx)(ft,{handleFriendRequest:a,kaveri:e},e.id)}))})]})},kt=function(e){var t=e.kaveri;return Object(U.jsx)(W.a,{children:Object(U.jsxs)(tt.a,{elevation:3,children:[Object(U.jsx)("strong",{children:t.name})," (",t.user,")"]})})},yt=function(e){var t=e.kaverit;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(G.a,{variant:"h6",children:["Sinulla on ",t.length," kaveria"]}),Object(U.jsx)(A.a,{dense:!0,children:t.map((function(e){return Object(U.jsx)(kt,{kaveri:e},e.user)}))})]})},wt=function(){var e=ze(),t=e.me,a=e.loading,n=e.refetch,r=e.updateCache,i=Object(w.b)(),s=Object(ee.a)(Ie),c=Object(I.a)(s,1)[0],o=Object(ee.a)(Ce),l=Object(I.a)(o,1)[0],u=function(){var e=Object(Z.a)(H.a.mark((function e(t,a){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c({variables:{friendId:t,answer:a}});case 3:n=e.sent,r(n.data.handleFriendRequest),i(R("Kaveripyynt\xf6 k\xe4sitelty","success")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),i(R("Tapahtui virhe: "+e.t0.message,"error"));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}();return a||!t?Object(U.jsx)(te.a,{}):(console.log(t),Object(U.jsxs)(Ke.a,{children:[Object(U.jsx)(G.a,{variant:"h4",children:"Kaverit"}),Object(U.jsx)(yt,{kaverit:t.friends}),Object(U.jsx)(B.a,{}),Object(U.jsx)(mt,{handleSendFriendRequest:function(e){e.preventDefault(),l({variables:{name:e.target.kaveri.value}}).then((function(e){i(R("Kaveripyynt\xf6 l\xe4hetetty!","success"))})).catch((function(e){i(R("Pyynt\xf6 ep\xe4onnistui: "+e.message,"error"))})),e.target.kaveri.value=""}}),Object(U.jsx)(B.a,{}),t.friendRequests.length>0&&Object(U.jsx)(gt,{pyynnot:t.friendRequests,handleFriendRequest:u}),Object(U.jsx)(ae.a,{fullWidth:!0,variant:"outlined",onClick:function(){n()},children:"P\xe4ivit\xe4 kaveripyynn\xf6t"})]}))},St=a(425),It=function(e){var t=e.me;return Object(U.jsxs)("div",{children:[Object(U.jsx)(G.a,{variant:"h4",gutterBottom:!0,children:"Tiedot"}),Object(U.jsx)(G.a,{variant:"h6",children:"Tunnus"}),Object(U.jsx)(G.a,{children:t.user}),Object(U.jsx)(G.a,{variant:"h6",children:"N\xe4ytt\xf6nimi"}),Object(U.jsx)(G.a,{children:t.name}),Object(U.jsx)(G.a,{variant:"h6",children:"S\xe4hk\xf6posti"}),Object(U.jsx)(G.a,{children:t.email})]})},Ct=function(e){var t=e.vaihdaSalasana,a=Object(g.useState)({uusiPw:"",uusiPw2:"",ok:!1}),n=Object(I.a)(a,2),r=n[0],i=n[1],s=function(e){var t=Object(T.a)({},r);t[e.target.name]=e.target.value,t.uusiPw===t.uusiPw2&&""!==t.uusiPw?t.ok=!0:t.ok=!1,i(t)};return Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({password:r.uusiPw}),i({uusiPw:"",uusiPw2:"",ok:!1})},children:[Object(U.jsx)(G.a,{variant:"h5",gutterBottom:!0,children:"Vaihda salasana"}),Object(U.jsxs)(se.a,{container:!0,spacing:1,children:[Object(U.jsx)(se.a,{item:!0,xs:12,children:Object(U.jsx)(dt.a,{variant:"outlined",value:r.uusiPw,name:"uusiPw",label:"Uusi salasana",size:"small",type:"password",onChange:s})}),Object(U.jsx)(se.a,{item:!0,xs:12,children:Object(U.jsx)(dt.a,{variant:"outlined",value:r.uusiPw2,name:"uusiPw2",label:"Uusi uudestaan",size:"small",type:"password",onChange:s})}),Object(U.jsx)(se.a,{item:!0,children:Object(U.jsx)(ae.a,{variant:"contained",color:"primary",type:"submit",disabled:!r.ok,children:"Vaihda"})})]})]})},Tt=function(e){var t,a=e.handleChangeEmail,n=Object(g.useState)(""),r=Object(I.a)(n,2),i=r[0],s=r[1];return Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a({email:i}),s("")},children:[Object(U.jsx)(G.a,{variant:"h5",label:"email",children:"Vaihda email"}),Object(U.jsx)(dt.a,{variant:"outlined",name:"email",value:i,placeholder:"Uusi email",size:"small",onChange:function(e){return s(e.target.value)}}),"\xa0",Object(U.jsx)(ae.a,{variant:"contained",color:"primary",type:"submit",disabled:(t=i,!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())),children:"Vaihda"})]})},Rt=function(e){var t=e.handleChangeName,a=Object(g.useState)(""),n=Object(I.a)(a,2),r=n[0],i=n[1];return Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:r}),i("")},children:[Object(U.jsx)(G.a,{variant:"h5",children:"Vaihda n\xe4ytt\xf6nimi"}),Object(U.jsx)(dt.a,{value:r,variant:"outlined",label:"Uusi nimi",size:"small",onChange:function(e){return i(e.target.value)}}),"\xa0",Object(U.jsx)(ae.a,{variant:"contained",type:"submit",disabled:r.length<3,color:"primary",children:"Ok"})]})},Pt=function(){var e=ze(),t=e.me,a=e.updateCache,n=Object(w.b)(),r=Object(ee.a)(fe),i=Object(I.a)(r,1)[0],s=Object(Ee.a)(),c=function(){var e=Object(Z.a)(H.a.mark((function e(t){var r,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:"",email:"",password:"",shareStats:null},e.prev=1,e.next=4,i({variables:Object(T.a)(Object(T.a)({},r),t)});case 4:s=e.sent,a(s.data.changeSettings),n(R("Tietoja vaihdettu","success")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),n(R("Virhe! ".concat(e.t0.message),"error"));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(Z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.clearStore();case 2:n(R("V\xe4limuisti tyhjennetty","info"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return null===t?Object(U.jsx)(ne.a,{open:!0,children:Object(U.jsx)(te.a,{})}):(console.log(t),Object(U.jsxs)(Ke.a,{children:[Object(U.jsx)(It,{me:t}),Object(U.jsx)(B.a,{}),Object(U.jsxs)(se.a,{container:!0,justify:"space-between",direction:"row",alignItems:"center",children:[Object(U.jsx)(se.a,{item:!0,xs:8,component:G.a,children:"Salli kavereiden n\xe4hd\xe4 tilastoni"}),Object(U.jsx)(se.a,{item:!0,style:{paddingRight:10},children:Object(U.jsx)(St.a,{color:"primary",checked:null===t||void 0===t?void 0:t.shareStats,onChange:function(){return c({shareStats:!t.shareStats})}})})]}),Object(U.jsx)(B.a,{}),Object(U.jsx)(Ct,{vaihdaSalasana:c}),Object(U.jsx)(B.a,{}),Object(U.jsx)(Rt,{handleChangeName:c}),Object(U.jsx)(B.a,{}),Object(U.jsx)(Tt,{me:t,handleChangeEmail:c}),Object(U.jsx)(B.a,{}),Object(U.jsx)(G.a,{variant:"h5",children:"Tyhjenn\xe4 v\xe4limuisti"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Jos tuntuu ett\xe4 asiat eiv\xe4t n\xe4y oikein, voit yritt\xe4\xe4 tyhjent\xe4\xe4 v\xe4limuistin."}),Object(U.jsx)(ae.a,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:o,children:"Tyhjenn\xe4 v\xe4limuisti"})]}))},Nt=function(e){var t=e.children,a=e.variant,n=void 0===a?"contained":a,r=e.color,i=void 0===r?"primary":r,s=Object(st.a)(e,["children","variant","color"]);return Object(U.jsx)(ae.a,Object(T.a)(Object(T.a)({},s),{},{variant:n,color:i,style:{margin:"7px 0px",marginRight:5},children:t}))},$t=function(){var e=Object(ee.a)(Se),t=Object(I.a)(e,2),a=t[0],n=t[1],r=Object(w.b)(),i=Ot(),s=i.username,c=i.setName,o=i.available,l=Object(g.useState)({tunnus:!1,password:!1}),u=Object(I.a)(l,2),j=u[0],d=u[1],b=function(){var e=Object(Z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==(n={user:t.target.user.value,password:t.target.password.value,name:t.target.name.value,email:t.target.email.value}).user){e.next=6;break}d(Object(T.a)(Object(T.a)({},j),{},{tunnus:!0})),e.next=19;break;case 6:if(""!==n.password&&n.password===t.target.password2.value){e.next=10;break}d(Object(T.a)(Object(T.a)({},j),{},{password:!0})),e.next=19;break;case 10:return e.prev=10,e.next=13,a({variables:n});case 13:r(R("Tunnukset luotiin onnistuneesti","success")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),r(R("Virhe tunnusten luonnissa: "+e.t0.message,"error"));case 19:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}();return n.loading?Object(U.jsx)("h2",{children:"Creating user..."}):n.called&&!n.error?Object(U.jsx)(C.a,{to:"/login"}):Object(U.jsxs)(Ke.a,{children:[Object(U.jsx)(G.a,{variant:"h4",children:"Luo tunnus"}),Object(U.jsx)(G.a,{variant:"h5",children:"Perustiedot"}),Object(U.jsxs)("form",{onSubmit:b,children:[Object(U.jsxs)(se.a,{container:!0,direction:"column",spacing:1,children:[Object(U.jsx)(se.a,{item:!0,children:Object(U.jsx)(dt.a,{error:j.tunnus||!1===o,name:"user",label:"Tunnus",variant:"outlined",required:!0,value:s,onChange:function(e){return c(e.target.value)},helperText:!1===o?"Tunnus on jo k\xe4yt\xf6ss\xe4":""})}),Object(U.jsx)(se.a,{item:!0,children:Object(U.jsx)(dt.a,{error:j.password,name:"password",type:"password",label:"Salasana",variant:"outlined",required:!0})}),Object(U.jsx)(se.a,{item:!0,children:Object(U.jsx)(dt.a,{error:j.password,name:"password2",label:"Salasana uudestaan",type:"password",variant:"outlined",required:!0})})]}),Object(U.jsx)(B.a,{}),Object(U.jsx)(G.a,{variant:"h5",gutterBottom:!0,children:"Lis\xe4tiedot"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Ei pakollisia. S\xe4hk\xf6postiosoitteen antaminen mahdollistaa tunnuksen palauttamisen."}),Object(U.jsxs)(se.a,{container:!0,direction:"column",spacing:1,children:[Object(U.jsx)(se.a,{item:!0,children:Object(U.jsx)(dt.a,{name:"name",label:"Nimi",variant:"outlined"})}),Object(U.jsx)(se.a,{item:!0,children:Object(U.jsx)(dt.a,{name:"email",label:"S\xe4hk\xf6posti",variant:"outlined",fullWidth:!0})}),Object(U.jsx)(se.a,{item:!0,children:Object(U.jsx)(Nt,{disabled:!1===o,type:"submit",size:"large",variant:"contained",color:"primary",children:"Luo tunnus"})})]})]})]})},Et=a(411),Ut=a(311),Ft=a.n(Ut),Dt=a(310),qt=a.n(Dt),Mt=function(e){var t=e.peli,a=e.aktivoi,n=e.poista,r=e.user,i=t.players.find((function(e){return e.user.user===r})).tulokset,s=Te(i),c=Object(g.useState)(!1),o=Object(I.a)(c,2),l=o[0],u=o[1];return 0===i.length&&(i=[0]),Object(U.jsxs)(je.a,{style:{marginBottom:"5px"},variant:"outlined",children:[Object(U.jsx)(de.a,{avatar:!t.finished&&Object(U.jsx)(qt.a,{style:{color:"orange"}}),action:Object(U.jsx)(M.a,{onClick:function(){return u(!l)},size:"small",children:Object(U.jsx)(Ft.a,{})}),title:l?s:null,subheader:l?Pe(t.timestamp):s}),Object(U.jsx)(Et.a,{in:l,unmountOnExit:!0,timeout:"auto",children:Object(U.jsxs)(be.a,{style:{paddingTop:"0px"},children:[Object(U.jsx)(ae.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return a(t.id)},children:"Aktivoi"}),"\xa0",Object(U.jsx)(ae.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return n(t.id)},children:"Poista"}),Object(U.jsxs)(G.a,{children:["Puttiprossa: ",(i.reduce((function(e,t){return e+t}))/(5*i.length)*100).toFixed()]}),Object(U.jsx)(rt,{data:Re(i)})]})})]})},Bt=function(e){var t=e.open,a=e.title,n=void 0===a?"Oletko varma?":a,r=e.text,i=void 0===r?"Aivan varma?":r,s=e.close,c=void 0===s?null:s,o=e.onYesClick,l=e.onNoClick,u=void 0===l?null:l;return t?Object(U.jsx)(Ve.a,{open:!0,onClick:c,children:Object(U.jsxs)(Ke.a,{style:{paddingBottom:"15px"},children:[Object(U.jsx)(G.a,{variant:"h4",gutterBottom:!0,children:n}),Object(U.jsx)(G.a,{paragraph:!0,children:i}),Object(U.jsxs)(se.a,{container:!0,style:{flexGrow:1,width:"100%",textAlign:"center"},children:[Object(U.jsx)(se.a,{item:!0,xs:6,children:Object(U.jsx)(ae.a,{variant:"contained",color:"primary",onClick:o,children:"Kyll\xe4"})}),Object(U.jsx)(se.a,{item:!0,xs:6,children:Object(U.jsx)(ae.a,{variant:"contained",color:"secondary",onClick:u,children:"Ei"})})]})]})}):null},At=function(){var e=Object(Le.a)(De),t=Object(w.c)((function(e){return e.user})),a=Object(w.b)(),n=Object(g.useState)(null),r=Object(I.a)(n,2),i=r[0],s=r[1],c=Object(ee.a)(ye),o=Object(I.a)(c,1)[0],l=function(e){a({type:"SET_ID",data:{roundId:e}}),a(R("Siirry peliin valitsemalla 'Uusi peli'","info","Peli aktivoitu"))},u=function(){var e=Object(Z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Poistetaan",i);try{o({variables:{roundId:i},refetchQueries:[{query:De}]}),a(R("Peli poistettu","success"))}catch(t){a(R("Virhe pelin poistamisessa","error")),console.log(t.message)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t.user?e.loading?Object(U.jsx)(ne.a,{open:!0,children:Object(U.jsx)(te.a,{})}):(console.log(e),Object(U.jsxs)("div",{children:[Object(U.jsxs)(Ke.a,{children:[Object(U.jsx)(G.a,{variant:"h5",gutterBottom:!0,children:"Vanhat peli"}),e.data.getGames.map((function(e){return Object(U.jsx)(Mt,{user:t.user,aktivoi:l,poista:function(e){return s(e)},peli:e},e.id)}))]}),Object(U.jsx)(Bt,{open:i,title:"Oletko varma?",text:"Haluatko varmasti poistaa pelin?",close:function(){return s(!1)},onYesClick:u})]})):Object(U.jsx)(C.a,{to:"/login"})},Wt=a(424),Lt=a(312),zt=a.n(Lt),Vt=(a(353),function(){var e=L();return Object(g.useEffect)((function(){zt.a.init({duration:3e3})}),[]),Object(U.jsxs)(Ke.a,{children:[Object(U.jsxs)(tt.a,{className:e.paper,id:"iso-naytto",children:[Object(U.jsx)(G.a,{variant:"h4",children:"Iso n\xe4ytt\xf6"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Onpas Teill\xe4 todella suuri ja mahtava n\xe4ytt\xf6. Tiedoksenne ett\xe4 t\xe4m\xe4 sovellus on suunniteltu k\xe4ytett\xe4v\xe4ksi k\xe4nnyk\xe4n pikkuruiselta n\xe4yt\xf6lt\xe4."})]}),Object(U.jsxs)(tt.a,{className:e.paper,"data-aos":"fade-up",children:[Object(U.jsx)(G.a,{variant:"h4",children:"Mit\xe4 t\xe4m\xe4 on?"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Rageputt on Fullstackopen 2021 -kurssin harjoitusty\xf6n tulos. Fullstackopen on Helsingin yliopiston j\xe4rjest\xe4m\xe4 kurssi jossa tutustutaan JavaScriptilla tapahtuvaan moderniin websovelluskehitykseen. P\xe4\xe4paino on React-kirjaston avulla toteutettavissa single page -sovelluksissa, ja niit\xe4 tukevissa Node.js:ll\xe4 toteutetuissa REST-rajapinnoissa."}),Object(U.jsx)(G.a,{paragraph:!0,children:Object(U.jsx)(Wt.a,{children:"fullstackopen.com"})})]}),Object(U.jsxs)(tt.a,{className:e.paper,"data-aos":"fade-up",children:[Object(U.jsx)(G.a,{variant:"h4",children:"Rageputt"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Sovelluksen idea on pit\xe4\xe4 kirjaa frisbeegolffin JYLY-puttipelin tuloksista. Tulokset tallentuvat palvelimelle reaaliaikaisesti. Pelej\xe4 voi pelata yksin tai yhdess\xe4 kaverin kanssa. Jokaisella peliin osallistuvalla tulee olla oma tunnus. Pelatessa porukalla tarvitsee vain yhden henkil\xf6n kirjata tuloksia sill\xe4 tulokset p\xe4ivittyv\xe4t automaattisesti kaikille pelaajille."})]}),Object(U.jsxs)(tt.a,{className:e.paper,"data-aos":"fade-up",children:[Object(U.jsx)(G.a,{variant:"h4",children:"JYLY?!?"}),Object(U.jsx)(G.a,{paragraph:!0,children:"JYLY Putting game is a putt practice drill/game created by Markus Lindqvist (found by nickename JYLY in dgcr forums as well as frisbeegolf-forum). The drill emphasizes putting from various distances. The more putts you sink and the further you do it, more points you get. (copypaste)"})]}),Object(U.jsxs)(tt.a,{className:e.paper,"data-aos":"fade-up",children:[Object(U.jsx)(G.a,{variant:"h4",children:"Kerro lis\xe4\xe4"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Jotta voit k\xe4ytt\xe4\xe4 sovellusta, tulee sinun luoda oma tunnus. Tunnuksen luomiseen riitt\xe4\xe4 vain ett\xe4 keksit itsellesi tunnuksen ja salasanan. Voit my\xf6s antaa s\xe4hk\xf6postiosoitteesi silt\xe4 varalta ett\xe4 unohdat salasanasi."}),Object(U.jsx)(G.a,{paragraph:!0,children:"Tunnuksen luotuasi voit aloittaa armottoman puttaamisen. My\xf6hemmin kun on liian pime\xe4\xe4 puttaamiselle, voit ihailla ihanaa diagrammidataa!"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Jos satut omistamaan yst\xe4vi\xe4, voit l\xe4hett\xe4\xe4 heille kaveripyynn\xf6n ja lis\xe4t\xe4 heid\xe4t yst\xe4viksesi. T\xe4m\xe4n j\xe4lkeen voitte yhdess\xe4 tuumin puttailla toisianne."})]}),Object(U.jsxs)(tt.a,{className:e.paper,"data-aos":"fade-up",children:[Object(U.jsx)(G.a,{variant:"h4",children:"Vanhan pelin jatkaminen"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Jos haluat jatkaa vanhaa peli\xe4, valitse 'vanhat pelit' -osiosta kyseinen peli ja paina aktivointinappia. T\xe4m\xe4n j\xe4lkeen voit jatkaa tulosten kirjaamista 'uusi peli' -sivulla."}),Object(U.jsx)(G.a,{paragraph:!0,children:"Avoimen pelin tunnistaa oranssista kolmiosta."})]}),Object(U.jsxs)(tt.a,{className:e.paper,"data-aos":"fade-up",children:[Object(U.jsx)(G.a,{variant:"h4",children:"Pelin p\xe4\xe4tt\xe4minen"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Kun peli on p\xe4\xe4tetty peliasetukse sivulta, tulosten kirjaaminen estet\xe4\xe4n ja tulokset otetaan huomioon statistiikka-sivulla."})]})]})}),Kt=function(){var e=Object(g.useState)(!1),t=Object(I.a)(e,2),a=t[0],n=t[1],r=Object(ee.a)(xe),i=Object(I.a)(r,1)[0],s=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:{email:t.target.email.value}});case 4:n(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:t.target.email.value="";case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return a?Object(U.jsxs)(Ke.a,{children:[Object(U.jsx)(G.a,{variant:"h4",gutterBottom:!0,children:"Salasana l\xe4hetetty"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Kertak\xe4ytt\xf6inen salasana on l\xe4hetetty s\xe4hk\xf6postiisi, olettaen ett\xe4 annoit oikean s\xe4hk\xf6postiosoitteen."}),Object(U.jsxs)(G.a,{paragraph:!0,children:["Tarkista s\xe4hk\xf6postisi, sen j\xe4lkeen ",Object(U.jsx)(S.b,{to:"/login",children:"kirjaudu sis\xe4\xe4n"}),"."]})]}):Object(U.jsxs)(Ke.a,{children:[Object(U.jsx)(G.a,{variant:"h4",gutterBottom:!0,children:"Tunnuksen palautus"}),Object(U.jsx)(G.a,{paragraph:!0,children:"Kirjoita alla olevaan kentt\xe4\xe4n s\xe4hk\xf6postiosoitteesi. Kertak\xe4ytt\xf6inen salasana l\xe4hetet\xe4\xe4n antamaasi s\xe4hk\xf6postiosoitteeseen. Mik\xe4li et koskaan liitt\xe4nyt s\xe4hk\xf6postiosoitetta tunnukseesi niin... tough luck."}),Object(U.jsxs)("form",{onSubmit:s,children:[Object(U.jsx)(dt.a,{label:"S\xe4hk\xf6postiosoite",name:"email",variant:"outlined",fullWidth:!0}),Object(U.jsx)(Nt,{type:"submit",children:"Palauta"})]})]})},Gt=function(){var e=Object(w.b)(),t=function(t){e(R("T\xe4m\xe4 on kokeilu!",t,"Kokeilu"))};return Object(U.jsxs)(Ke.a,{children:[Object(U.jsx)(G.a,{variant:"h3",children:"DevPage"}),Object(U.jsx)(G.a,{variant:"h5",children:"Tervetuloa salaiselle dev-sivulle!"}),Object(U.jsx)(B.a,{}),Object(U.jsx)(G.a,{variant:"h5",children:"Testaa notifikaatioita"}),Object(U.jsx)(Nt,{onClick:function(){return t("info")},children:"Info"}),Object(U.jsx)(Nt,{onClick:function(){return t("success")},children:"Success"}),Object(U.jsx)(Nt,{onClick:function(){return t("warning")},children:"Warning"}),Object(U.jsx)(Nt,{onClick:function(){return t("error")},children:"Error"})]})};var _t=function(){var e=Object(g.useState)(!1),t=Object(I.a)(e,2),a=t[0],n=t[1],r=Object(w.b)(),i=Object(w.c)((function(e){return e.user})),s=ze(),c=s.me,o=s.loading;return Object(g.useEffect)((function(){o||null==c||i.user||r(bt(c.name,c.user))}),[c]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{id:"AppBar",children:[Object(U.jsx)(Y,{openMenu:function(){n(!0)}}),Object(U.jsx)(z,{menuOpen:a,setMenuOpen:n}),Object(U.jsx)(F,{})]}),Object(U.jsx)("div",{id:"AppContent",children:Object(U.jsxs)(C.d,{children:[Object(U.jsx)(C.b,{path:"/kaverit",children:Object(U.jsx)(wt,{})}),Object(U.jsx)(C.b,{path:"/login",children:Object(U.jsx)(pt,{})}),Object(U.jsx)(C.b,{path:"/vanhat",children:Object(U.jsx)(At,{})}),Object(U.jsx)(C.b,{path:"/peli",children:Object(U.jsx)(ot,{})}),Object(U.jsx)(C.b,{path:"/stats",children:Object(U.jsx)(jt,{})}),Object(U.jsx)(C.b,{path:"/dev",children:Object(U.jsx)(Gt,{})}),Object(U.jsx)(C.b,{path:"/createUser",children:Object(U.jsx)($t,{})}),Object(U.jsx)(C.b,{path:"/asetukset",children:Object(U.jsx)(Pt,{})}),Object(U.jsx)(C.b,{path:"/palautus",children:Object(U.jsx)(Kt,{})}),Object(U.jsx)(C.b,{path:"/",children:Object(U.jsx)(Vt,{})})]})})]})},Jt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Yt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Qt=a(364),Ht=a(410),Zt=a(315),Xt=a(439),ea=a(42),ta=a(206),aa=a(366),na=a(84),ra=a(313);var ia=new Xt.a({uri:"https://rageputt.herokuapp.com/graphql"}),sa=Object(Zt.a)((function(e,t){var a=t.headers,n=localStorage.getItem("rageToken");return{headers:Object(T.a)(Object(T.a)({},a),{},{authorization:n?"bearer ".concat(n):null})}})),ca=new ra.a({uri:"wss://rageputt.herokuapp.com/graphql",options:{reconnect:!0}}),oa=Object(ea.split)((function(e){var t=e.query,a=Object(na.e)(t);return"OperationDefinition"===a.kind&&"subscription"===a.operation}),ca,sa.concat(ia)),la=new ta.a({cache:new aa.a,link:oa,connectToDevTools:!0}),ua=a(217),ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{round:0,roundId:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INC_ROUND":return e.round<19?Object(T.a)(Object(T.a)({},e),{},{round:e.round+1}):e;case"DEC_ROUND":return e.round>=1?Object(T.a)(Object(T.a)({},e),{},{round:e.round-1}):e;case"SET_ID":return Object(T.a)(Object(T.a)({},e),{},{roundId:t.data.roundId});case"INIT_ROUND":return t.data;case"RESET_ROUND":return{round:0,roundId:null};default:return e}},da=Object(ua.a)({tulokset:ja,user:ht,notification:P}),ba=Object(ua.b)(da),ha=a(97),pa=a(102),Oa=Object(ha.a)({typography:{fontFamily:"Quicksand",fontWeightLight:300,fontWeightMedium:500,fontWeightRegular:400,fontWeightBold:700,h3:{marginBottom:15},h4:{marginBottom:15},h5:{marginBottom:15}},palette:{primary:{main:"#aed581"},secondary:pa.a,action:{disabled:"#8F8F8F"},success:{main:"rgba(76, 175, 80, 0.85)"},info:{main:"rgba(33, 150, 243, 0.85)"}},overrides:{MuiAlert:{root:{borderRadius:15}},MuiCard:{root:{borderRadius:15}},MuiListItem:{root:{fontFamily:"Quicksand"}},MuiButton:{root:{borderRadius:10,fontFamily:"Quicksand",height:40}},MuiDivider:{root:{marginTop:15,marginBottom:15}},MuiAppBar:{root:{borderRadius:0}},MuiTextField:{root:{backgroundColor:"#ffffff"}},MuiOutlinedInput:{root:{borderRadius:15,backgroundColor:"#ffffff"}},MuiPaper:{root:{borderRadius:15,padding:10}},MuiContainer:{root:{paddingBottom:10,paddingTop:10,maxWidth:700}}}});y.a.render(Object(U.jsx)(Qt.a,{client:la,children:Object(U.jsx)(w.a,{store:ba,children:Object(U.jsx)(S.a,{children:Object(U.jsx)(Ht.a,{theme:Oa,children:Object(U.jsx)(_t,{})})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Jt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Yt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Yt(t,e)}))}}()}},[[365,1,2]]]);
//# sourceMappingURL=main.00ccdf29.chunk.js.map