(this.webpackJsonprageputt=this.webpackJsonprageputt||[]).push([[0],{346:function(e,t,a){},366:function(e,t,a){"use strict";a.r(t);var n,i,r,s,c,o,l,u,j,d,b,h,p,O,m,x,v,f,g,k,y,S=a(0),w=a(18),C=a.n(w),I=a(20),P=a(44),T=(a(346),a(12)),R=a(28),$=a(26),N=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:"SET_NOTIFICATION",data:{type:t,message:e,title:a}}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{alive:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return{message:t.data.message,title:t.data.title,type:t.data.type,alive:!0};case"KILL_NOTIFICATION":return Object($.a)(Object($.a)({},e),{},{alive:!1});default:return e}},E=a(405),U=a(440),q=a(409),D=a(1),B=function(){var e=Object(I.b)(),t=Object(I.c)((function(e){return e.notification}));return Object(D.jsx)(E.a,{open:t.alive,autoHideDuration:5e3,onClose:function(){e({type:"KILL_NOTIFICATION",data:{}})},transitionDuration:{enter:1e3,exit:2e3},TransitionProps:{direction:"left"},children:Object(D.jsxs)(U.a,{severity:t.type,variant:"filled",elevation:3,children:[""!==t.title&&Object(D.jsx)(q.a,{children:t.title}),t.message]})})},A=a(430),M=a(67),K=a(371),L=a(421),V=a(322),W=(0,a(19).makeStyles)({paper:{padding:5,paddingLeft:15,marginBottom:20,borderRadius:15},listPaper:{borderRadius:10},dialogi:{padding:50},divider:{margin:0},vetoMenuListItem:{paddingTop:13,paddingBottom:13}}),z=a(380),_=function(e){var t=Object.assign({},e),a=W();return Object(D.jsx)(z.a,Object($.a)(Object($.a)({},t),{},{className:a.vetoMenuListItem}))},G=function(e){var t=e.menuOpen,a=e.setMenuOpen,n=!Object(I.c)((function(e){return e.user})).user,i=W();return Object(D.jsxs)(M.a,{open:t,variant:"persistent",anchor:"left",children:[Object(D.jsx)(K.a,{onClick:function(){return a(!1)},children:Object(D.jsx)(A.a,{})}),Object(D.jsx)(L.a,{className:i.divider}),Object(D.jsxs)(V.a,{style:{paddinTop:10},children:[Object(D.jsx)(_,{button:!0,component:P.b,to:"/",onClick:function(){return a(!1)},divider:!0,children:"Etusivu"}),Object(D.jsx)(_,{divider:!0,disabled:n,button:!0,component:P.b,to:"/peli",onClick:function(){return a(!1)},children:"Uusi peli"}),Object(D.jsx)(_,{disabled:n,button:!0,component:P.b,to:"/vanhat",onClick:function(){return a(!1)},children:"Vanhat pelit"}),Object(D.jsx)(_,{disabled:n,button:!0,component:P.b,to:"/stats",divider:!0,onClick:function(){return a(!1)},children:"Statistiikka"}),Object(D.jsx)(_,{disabled:n,button:!0,component:P.b,to:"/kaverit",divider:!0,onClick:function(){return a(!1)},children:"Kaverit"}),Object(D.jsx)(_,{component:P.b,to:"/asetukset",disabled:n,button:!0,onClick:function(){return a(!1)},children:"Asetukset"}),Object(D.jsx)(_,{component:P.b,to:"/ohje",button:!0,onClick:function(){return a(!1)},children:"Ohje"}),Object(D.jsx)(_,{component:P.b,to:"/palaute",button:!0,divider:!0,onClick:function(){return a(!1)},children:"Palaute"}),Object(D.jsx)(_,{button:!0,component:P.b,to:"/createUser",onClick:function(){return a(!1)},children:"Luo tunnus"}),Object(D.jsx)(_,{button:!0,component:P.b,to:"/login",onClick:function(){return a(!1)},children:"Kirjaudu sis\xe4\xe4n"})]})]})},J=a(412),Y=a(427),Q=a(62),H=a(307),Z=a.n(H),X=function(e){var t=e.openMenu,a=Object(R.g)(),n=Object(S.useState)(0),i=Object(T.a)(n,2),r=i[0],s=i[1],c=Object(S.useState)(null),o=Object(T.a)(c,2),l=o[0],u=o[1];return console.log(r),Object(D.jsx)(J.a,{position:"static",children:Object(D.jsxs)(Y.a,{children:[Object(D.jsx)(K.a,{edge:"start",onClick:t,children:Object(D.jsx)(Z.a,{})}),Object(D.jsx)(Q.a,{variant:"h5",style:{flexGrow:1,marginBottom:0},onClick:function(){s(r+1),null!==l&&clearTimeout(l),r>10&&a.push("/dev"),u(setTimeout((function(){s(0)}),500))},children:"RagePutt"})]})})},ee=a(21),te=a.n(ee),ae=a(38),ne=a(446),ie=a(413),re=a(442),se=a(426),ce=a(423),oe=a(431),le=a(296),ue=a(417),je=a(422),de=a(444),be=a(414),he=a(416),pe=a(415),Oe=a(35),me=a(97),xe=Object(me.a)(n||(n=Object(Oe.a)(["\n    fragment UserFullInfo on User {\n        name\n        user\n        email\n        shareStats\n        ignoreFriendRequests\n        friends { user name id }\n        friendRequests { user name id }\n        id\n    }\n"]))),ve=Object(me.a)(i||(i=Object(Oe.a)(["\n    fragment GameDetails on Game {\n        finished\n        timestamp\n        players { user { user name id } tulokset }\n        id\n    }\n"]))),fe=Object(me.a)(r||(r=Object(Oe.a)(["\n    mutation restoreAccount( $email: String!) {\n        restoreAccount( email: $email )\n    }\n"]))),ge=Object(me.a)(s||(s=Object(Oe.a)(["\n    mutation deleteAccount {\n        deleteAccount\n    }\n"]))),ke=Object(me.a)(c||(c=Object(Oe.a)(["\n    mutation login($user: String!, $password: String!) {\n        login(\n            user: $user\n            password: $password\n        ) {\n            value\n            user { user name }\n        }\n    }\n\n\n"]))),ye=Object(me.a)(o||(o=Object(Oe.a)(["\n    mutation changeSettings($name: String, $password: String, $email: String, $shareStats: Boolean, $ignoreFriendRequests: Boolean) {\n        changeSettings(\n            name: $name,\n            password: $password,\n            email: $email,\n            shareStats: $shareStats,\n            ignoreFriendRequests: $ignoreFriendRequests\n        ) {\n            name\n            user\n            email\n            shareStats\n            ignoreFriendRequests\n            friends { user name id }\n            friendRequests { user name id }\n        }\n    }\n"]))),Se=Object(me.a)(l||(l=Object(Oe.a)(["\n    mutation endGame ($id: String!) {\n        finishGame(\n            roundId: $id\n        )\n    }\n"]))),we=Object(me.a)(u||(u=Object(Oe.a)(["\n    mutation createGame ($pelaajat: [String]) {\n        createGame(\n            pelaajat: $pelaajat\n        )\n    }\n"]))),Ce=Object(me.a)(j||(j=Object(Oe.a)(["\n    mutation deleteGame ( $roundId: String!) {\n        deleteGame(\n            roundId: $roundId\n        )\n    }\n"]))),Ie=Object(me.a)(d||(d=Object(Oe.a)(["\n    mutation setScore($roundId: String!, $round: ID!, $player: String!, $score: Int!) {\n        setScore(\n            roundId: $roundId\n            round: $round\n            player: $player\n            score: $score\n        ) {\n            finished\n            timestamp\n            players {\n                user { user }\n                tulokset\n            }\n        }\n    }\n"]))),Pe=Object(me.a)(b||(b=Object(Oe.a)(["\n    mutation createUser($user: String!, $password: String!, $name: String, $email: String) {\n        createUser(\n            user: $user\n            password: $password\n            name: $name\n            email: $email\n        ) {\n            user\n        }\n    }\n"]))),Te=Object(me.a)(h||(h=Object(Oe.a)(["\n    mutation handleFriendRequest($friendId: String!, $answer: Boolean!) {\n        handleFriendRequest(\n            friendId: $friendId\n            action: $answer\n        ) {\n            ...UserFullInfo\n        }\n    }","\n"])),xe),Re=Object(me.a)(p||(p=Object(Oe.a)(["\n    mutation sendFriendRequest($name: String!) {\n        sendFriendRequest(\n            fName: $name\n        )\n    }\n"]))),$e=Object(me.a)(O||(O=Object(Oe.a)(["\n    mutation deleteFriend( $userId: ID! ) {\n        deleteFriend( userId: $userId ) {\n            ...userFullInfo\n        }\n    }","\n"])),xe),Ne=function(e){for(var t=0,a=10,n=0;n<e.length;n++){if(null===e[n])return t;t+=e[n]*a,a=5+e[n]}return t},Fe=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[{dist:"5m",putteja:0,puttejaSisaan:0,prossa:0},{dist:"6m",putteja:0,puttejaSisaan:0,prossa:0},{dist:"7m",putteja:0,puttejaSisaan:0,prossa:0},{dist:"8m",putteja:0,puttejaSisaan:0,prossa:0},{dist:"9m",putteja:0,puttejaSisaan:0,prossa:0},{dist:"10m",putteja:0,puttejaSisaan:0,prossa:0}],a=0;a<e.length;a++){if(null===e[a])return t;var n=0!==a?e[a-1]:5;t[n].putteja+=5,t[n].puttejaSisaan+=e[a],t[n].prossa=t[n].puttejaSisaan/t[n].putteja*100}return t},Ee=function(e){var t=new Date(0);t.setUTCMilliseconds(e);var a=t.getHours()+t.getTimezoneOffset()/60,n=t.getMinutes();return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()+" "+(a<10?"0"+a:a)+":"+(t.getMinutes()<10?"0"+n:n)},Ue=function(e){var t,a=e.loading,n=[];for(t=0;t<6;t++)a&&t===Number(a)?n.push(Object(D.jsx)(ue.a,{})):n.push(Object(D.jsx)(ce.a,{item:!0,xs:2,children:Object(D.jsx)(je.a,{labelPlacement:"top",value:t,label:t,control:Object(D.jsx)(de.a,{color:"primary",size:"small",style:{padding:"0px"}})})},t));return n},qe=function(e){var t=e.player,a=e.round,n=Object(I.c)((function(e){return e.tulokset})),i=Object(I.b)(),r=Object(S.useState)(null),s=Object(T.a)(r,2),c=s[0],o=s[1],l=Object(ne.a)(Ie,{variables:{roundId:n.roundId}}),u=Object(T.a)(l,1)[0],j=a>0?5+t.tulokset[a-1]:10,d=Ne(t.tulokset),b=t.tulokset[a];return isNaN(b)&&(b=null),Object(D.jsxs)(be.a,{className:"tulos-kortti",elevation:3,children:[Object(D.jsx)(he.a,{title:t.user.name,action:j+"m",subheader:d+" points",titleTypographyProps:{style:{margin:0}}}),Object(D.jsx)(pe.a,{style:{padding:"15px 0px"},children:Object(D.jsx)(le.a,{row:!0,value:b,onChange:function(e){o(e.target.value),u({variables:{roundId:n.roundId,round:n.round,player:t.user.user,score:Number(e.target.value)}}).catch((function(e){i(N(e.message,"error"))})).finally((function(){o(null),a>0&&isNaN(t.tulokset[a-1])&&i(N("Kierroksen "+a+" tulos puuttuu","warning"))}))},children:Object(D.jsx)(ce.a,{container:!0,alignContent:"space-between",children:Object(D.jsx)(Ue,{loading:c})})})})]})},De=function(e){var t=e.kierrosData,a=e.tulokset,n=Object(I.b)(),i=a.round;return Object(D.jsxs)("div",{children:[Object(D.jsxs)(ce.a,{container:!0,className:"rundiValitsin",children:[Object(D.jsx)(ce.a,{item:!0,children:Object(D.jsx)(K.a,{onClick:function(){return n({type:"DEC_ROUND"})},children:Object(D.jsx)(A.a,{})})}),Object(D.jsxs)(ce.a,{item:!0,component:"h2",children:[" ",i+1,"/20"]}),Object(D.jsx)(ce.a,{item:!0,children:Object(D.jsx)(K.a,{onClick:function(){return n({type:"INC_ROUND"})},children:Object(D.jsx)(oe.a,{})})})]}),t.data.getRound.players.map((function(e){return Object(D.jsx)(qe,{player:e,round:i},e.user.user+"ppp")}))]})},Be=a(432),Ae=a(433),Me=Object(me.a)(m||(m=Object(Oe.a)(["\n    query getMe {\n        getMe{\n           ...UserFullInfo\n        }\n    } ","\n"])),xe),Ke=Object(me.a)(x||(x=Object(Oe.a)(["\n    query getGames {\n        getGames {\n           ...GameDetails\n        }\n    } ","\n"])),ve),Le=Object(me.a)(v||(v=Object(Oe.a)(["\n    query getGames( $userId: ID ) {\n        getGames( userId: $userId ) {\n            ...GameDetails\n        }\n    } ","\n"])),ve),Ve=Object(me.a)(f||(f=Object(Oe.a)(["\n    query getRound($roundId: String!) {\n        getRound(\n            roundId: $roundId\n        ) {\n            finished\n            timestamp\n            id\n            players {\n                user { user name }\n                tulokset\n            }\n        }\n    }\n"]))),We=Object(me.a)(g||(g=Object(Oe.a)(["\n    query isUsernameAvailable( $user: String! ) {\n        isUsernameAvailable( user: $user)\n    }\n"]))),ze=function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r={query:t,variables:i,data:{}};r.data[n]=a,e.writeQuery(r)},_e=function(){var e=Object(Be.a)(Me),t=e.loading,a=e.data,n=e.refetch,i=Object(S.useState)(null),r=Object(T.a)(i,2),s=r[0],c=r[1],o=Object(Ae.a)();Object(S.useEffect)((function(){!t&&a&&c(a.getMe)}),[a,t]);return{me:s,loading:t,refetch:n,updateCache:function(e){ze(o,Me,e,"getMe")}}},Ge=a(318),Je=a(419),Ye=a(418),Qe=a(376),He=a(443),Ze=a(390),Xe=function(e){var t=e.options;return!0===e.mappedOptions?Array.from(t.keys()).map((function(e){return Object(D.jsx)("option",{value:t.get(e),children:e},e)})):t.map((function(e){return Object(D.jsx)("option",{children:e},e)}))},et=function(e){var t=e.options,a=e.variant,n=void 0===a?"outlined":a,i=e.mappedOptions,r=void 0!==i&&i,s=e.onChange;return Object(D.jsx)(Ze.a,{native:!0,defaultValue:0,variant:n,onChange:function(e){return s(e.target.value)},children:Object(D.jsx)(Xe,{options:t,mappedOptions:r})})},tt=a(434),at=a(435),nt=function(e){var t=e.kaveri,a=e.kaverit,n=e.setKaverit;return Object(D.jsx)(je.a,{control:Object(D.jsx)(He.a,{onChange:function(){a.includes(t.id)?n(a.filter((function(e){return e!==t.id}))):n(a.concat(t.id))},icon:Object(D.jsx)(at.a,{fontSize:"large"}),checkedIcon:Object(D.jsx)(tt.a,{fontSize:"large",color:"primary"})}),label:t.name})},it=function(e){var t=e.open,a=e.setModal,n=e.handleNewGame,i=_e().me,r=Object(S.useState)([]),s=Object(T.a)(r,2),c=s[0],o=s[1];return null===i?Object(D.jsx)(Ge.a,{open:!0,children:Object(D.jsx)(ue.a,{})}):(console.log(c),Object(D.jsx)(Je.a,{open:t,fullWidth:!0,maxWidth:"xs",PaperProps:{style:{borderRadius:20}},children:Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Uusi peli"}),Object(D.jsxs)(Q.a,{variant:"h5",children:["Pelimoodi: ",Object(D.jsx)(et,{options:["Normaali"]})]}),Object(D.jsx)(Q.a,{variant:"h5",children:"Valitse pelaajat"}),Object(D.jsxs)(Qe.a,{children:[Object(D.jsx)(je.a,{control:Object(D.jsx)(He.a,{checkedIcon:Object(D.jsx)(tt.a,{fontSize:"large"}),checked:!0}),label:"Min\xe4"}),i.friends.map((function(e){return Object(D.jsx)(nt,{kaverit:c,setKaverit:o,kaveri:e},e.user)}))]}),Object(D.jsxs)(ce.a,{container:!0,justify:"space-around",style:{marginTop:20},children:[Object(D.jsx)(ce.a,{item:!0,children:Object(D.jsx)(ie.a,{color:"primary",variant:"contained",onClick:function(){return n(c)},children:"Aloita peli"})}),Object(D.jsx)(ce.a,{item:!0,children:Object(D.jsx)(ie.a,{color:"secondary",variant:"contained",onClick:function(){return a(!1)},children:"Peruuta"})})]})]})}))},rt=a(93),st=a(69),ct=a(27),ot=function(e){var t=e.data,a=e.otsikko,n=void 0===a?"":a,i=e.paperStyle,r=void 0!==i&&i,s=(e.paperProps,W());return Object(D.jsx)(rt.a,{className:!0===r?s.paper:null,children:Object(D.jsxs)(st.c,{data:t,height:"250",children:[Object(D.jsx)(st.e,{text:n}),Object(D.jsx)(st.a,{}),Object(D.jsx)(st.f,{min:0,max:100}),Object(D.jsx)(st.b,{argumentField:"dist",valueField:"prossa"}),Object(D.jsx)(ct.a,{})]})})},lt=function(e){var t=e.player,a=Fe(t.tulokset);return Object(D.jsx)(ot,{data:a,otsikko:t.user.name,paperProps:{elevation:3,style:{marginBottom:"5px"}}})},ut=a(170),jt=function(e){var t=e.children,a=e.value,n=e.index,i=Object(ut.a)(e,["children","value","index"]);return Object(D.jsx)("div",Object($.a)(Object($.a)({hidden:a!==n},i),{},{children:a===n&&t}))},dt=a(436),bt=a(447),ht=Object(me.a)(k||(k=Object(Oe.a)(["\nsubscription changedCard( $roundId: String) {\n    changedCard( roundId: $roundId ) {\n        id\n        finished\n        timestamp\n        players {\n            user { user name id }\n            tulokset\n        }\n    }\n}\n"]))),pt=function(e){var t=Object(S.useState)(null),a=Object(T.a)(t,2),n=a[0],i=a[1],r=Object(dt.a)(Ve),s=Object(T.a)(r,2),c=s[0],o=s[1],l=Object(Ae.a)(),u=Object(bt.a)(ht,{variables:{roundId:e}});Object(S.useEffect)((function(){if(null===e)return null;o.loading||(o.called&&o.variables.roundId===e?i(o):c({variables:{roundId:e}}))}),[e,o]),Object(S.useEffect)((function(){u.loading||j(u.data.changedCard)}),[u]);var j=function(t){ze(l,Ve,t,"getRound",{roundId:e})};return n},Ot=function(){var e=Object(I.b)(),t=Object(S.useState)(!1),a=Object(T.a)(t,2),n=a[0],i=a[1],r=Object(S.useState)(0),s=Object(T.a)(r,2),c=s[0],o=s[1],l=Object(I.c)((function(e){return e.tulokset})),u=Object(I.c)((function(e){return e.user})),j=Object(ne.a)(we),d=Object(T.a)(j,1)[0],b=Object(ne.a)(Se),h=Object(T.a)(b,1)[0],p=Object(ne.a)(Ce),O=Object(T.a)(p,1)[0],m=pt(l.roundId),x=function(){var t=Object(ae.a)(te.a.mark((function t(a){var n;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d({variables:{pelaajat:a},refetchQueries:[{query:Ke}]});case 3:n=t.sent,e({type:"SET_ID",data:{roundId:n.data.createGame}}),e(N("Uusi peli luotu","info")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e(N("Virhe uuden pelin luonnissa","error")),console.log(t.t0.message);case 12:i(!1);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(ae.a)(te.a.mark((function t(){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O({variables:{roundId:l.roundId},refetchQueries:[{query:Ke}]});case 3:e({type:"RESET_ROUND"}),e(N("Peli poistettu","success")),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e(N("Virhe pelin poistamisessa","error")),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=Object(ae.a)(te.a.mark((function t(){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h({variables:{id:l.roundId},refetchQueries:[{query:Ke}]});case 3:e(N("Peli p\xe4\xe4tetty","warning")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("Virhe pelin p\xe4\xe4tt\xe4misess\xe4. "+t.t0.message);case 9:return t.abrupt("return",Object(D.jsx)(R.a,{to:"/pelit"}));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return u.user?null===l.roundId||null===m?Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Q.a,{variant:"h4",gutterBottom:!0,children:"Pakko p\xe4\xe4st\xe4 puttaa"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Ei aktiivista peli\xe4 k\xe4ynniss\xe4. Aloita joko uusi peli tai jatkaa vanhaa peli\xe4."}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Vanhan pelin jatkaminen onnistuu aktivoimalla se 'Vanhat peli' -osiosta."}),Object(D.jsx)(ie.a,{onClick:function(){return i(!0)},color:"primary",variant:"contained",size:"large",fullWidth:!0,children:"Aloita uusi peli"}),Object(D.jsx)(it,{open:n,setModal:i,handleNewGame:x})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(re.a,{value:c,onChange:function(e,t){return o(t)},variant:"fullWidth",children:[Object(D.jsx)(se.a,{label:"Peli"}),Object(D.jsx)(se.a,{label:"Asetukset"}),Object(D.jsx)(se.a,{label:"Statsit"})]}),Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(jt,{value:c,index:0,children:Object(D.jsx)(De,{kierrosData:m,tulokset:l})}),Object(D.jsxs)(jt,{value:c,index:1,children:[Object(D.jsx)(Q.a,{variant:"h5",gutterBottom:!0,children:"Poistu pelist\xe4"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Poistu p\xe4\xe4valikkoon. Peli on tallennettu ja tulosten merkkaamista voi jatkaa."}),Object(D.jsx)(ie.a,{size:"large",onClick:function(){return e({type:"RESET_ROUND"})},variant:"contained",color:"primary",fullWidth:!0,children:"Poistu pelist\xe4"}),Object(D.jsx)(L.a,{style:{margin:"15px 0px"}}),Object(D.jsx)(Q.a,{variant:"h5",gutterBottom:!0,children:"P\xe4\xe4t\xe4 peli"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Peli p\xe4\xe4tet\xe4\xe4n. Tulosten kirjaaminen suljetaan. Tulokset lasketaan mukaan statistiikkoihin."}),Object(D.jsx)(ie.a,{onClick:f,size:"large",variant:"contained",color:"primary",fullWidth:!0,children:"P\xe4\xe4t\xe4 peli"}),Object(D.jsx)(L.a,{style:{margin:"15px 0px"}}),Object(D.jsx)(Q.a,{variant:"h5",gutterBottom:!0,children:"Poista peli"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Peli poistetaan"}),Object(D.jsx)(ie.a,{size:"large",onClick:v,variant:"contained",color:"primary",fullWidth:!0,children:"Poista peli"})]}),Object(D.jsx)(jt,{value:c,index:2,children:m.data.getRound.players.map((function(e){return Object(D.jsx)(lt,{player:e},"ps"+e.user.user)}))})]})]}):Object(D.jsx)(R.a,{to:"/login"})},mt=a(76),xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(S.useState)(e),a=Object(T.a)(t,2),n=a[0],i=a[1],r=Object(I.b)(),s=Object(Be.a)(Le,{variables:{userId:n}}),c=Object(S.useState)(null),o=Object(T.a)(c,2),l=o[0],u=o[1];return Object(S.useEffect)((function(){s.loading||(s.error?r(N("K\xe4ytt\xe4j\xe4 on est\xe4nyt jakamisen","error")):u(s.data.getGames))}),[s]),{games:l,setUserId:i,userId:n}},vt=function(){var e=xt(),t=e.games,a=e.setUserId,n=e.userId,i=Object(I.c)((function(e){return e.user})),r=_e().me;if(null===t||null===r)return Object(D.jsx)(Ge.a,{open:!0,children:Object(D.jsx)(ue.a,{})});for(var s=Fe(),c=[],o=0,l=0;l<t.length;l++)if(t[l].finished){console.log({userId:n,user:i.id});var u=t[l].players.find((function(e){return e.user.id===n?n:r.id}));s=Fe(u.tulokset,s);var j=Ne(u.tulokset);j>o&&(o=j),c.push({game:l,score:j})}var d=new Map;d.set("Min\xe4",r.id);var b,h=Object(mt.a)(r.friends);try{for(h.s();!(b=h.n()).done;){var p=b.value;d.set(p.name,p.id)}}catch(O){h.e(O)}finally{h.f()}return Object(D.jsxs)(Ye.a,{children:[Object(D.jsxs)(Q.a,{variant:"h5",children:["Pelaaja: ",Object(D.jsx)(et,{options:d,mappedOptions:!0,onChange:function(e){return a(e)}})]}),Object(D.jsxs)(ce.a,{container:!0,direction:"column",children:[Object(D.jsxs)(ce.a,{item:!0,component:Q.a,children:["Pelej\xe4: ",t.length]}),Object(D.jsxs)(ce.a,{item:!0,component:Q.a,children:["Paras tulos: ",o]})]}),Object(D.jsx)(ot,{data:s,otsikko:"Puttiprossat",paperStyle:!0}),Object(D.jsx)(rt.a,{style:{borderRadius:15},children:Object(D.jsxs)(st.c,{data:c,height:"200",children:[Object(D.jsx)(st.e,{text:"Pisteet"}),Object(D.jsx)(st.a,{}),Object(D.jsx)(st.f,{}),Object(D.jsx)(st.d,{argumentField:"game",valueField:"score"}),Object(D.jsx)(ct.a,{})]})})]})},ft=a(429),gt=function(e,t){return{type:"SET_USER",data:{user:t,name:e}}},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{user:t.data.user,name:t.data.name};case"CLEAR_USER":return{};default:return e}},yt=function(){var e=Object(I.b)(),t=Object(I.c)((function(e){return e.user})),a=Object(S.useState)(!1),n=Object(T.a)(a,2),i=n[0],r=n[1],s=Object(ne.a)(ke),c=Object(T.a)(s,1)[0],o=Object(Ae.a)(),l=function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.clearStore();case 2:window.localStorage.clear(),e({type:"CLEAR_USER",data:{}}),e({type:"RESET_ROUND"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),r(!0),c({variables:{user:a.target.user.value,password:a.target.password.value}}).then((function(t){window.localStorage.setItem("rageToken",t.data.login.value),console.log("Login data: ",t.data.login);var a=gt(t.data.login.user.name,t.data.login.user.user);e(a),r(!1)})).catch((function(t){e(N("V\xe4\xe4r\xe4 tunnus tai salasana","error")),r(!1)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t.user?Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Q.a,{variant:"h4",gutterBottom:!0,children:"Kirjautunut"}),Object(D.jsxs)(Q.a,{paragraph:!0,children:["Olet kirjautunut tunnuksella ",Object(D.jsx)("b",{children:t.user})]}),Object(D.jsx)(ie.a,{onClick:l,variant:"contained",color:"primary",children:"Kirjaudu ulos"})]}):Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Ge.a,{open:i,children:Object(D.jsx)(ue.a,{})}),Object(D.jsx)(Q.a,{variant:"h4",gutterBottom:!0,children:"Kirjaudu sis\xe4\xe4n"}),Object(D.jsx)("form",{onSubmit:u,children:Object(D.jsxs)(ce.a,{container:!0,spacing:1,children:[Object(D.jsx)(ce.a,{item:!0,xs:12,children:Object(D.jsx)(ft.a,{name:"user",label:"Tunnus",variant:"outlined",fullWidth:!0})}),Object(D.jsx)(ce.a,{item:!0,xs:12,children:Object(D.jsx)(ft.a,{name:"password",label:"Salasana",variant:"outlined",type:"password",fullWidth:!0})}),Object(D.jsx)(ce.a,{item:!0,xs:12,children:Object(D.jsx)(ie.a,{type:"submit",variant:"contained",color:"primary",size:"large",children:"Kirjaudu"})})]})}),Object(D.jsx)(L.a,{}),Object(D.jsx)(Q.a,{variant:"h6",children:"Unohtuiko salasana"}),Object(D.jsx)(Q.a,{paragraph:!0,children:Object(D.jsx)(P.b,{to:"/palautus",children:"Voi ei, unohdin salasanani"})}),Object(D.jsx)(Q.a,{variant:"h6",children:"Luo tunnus"}),Object(D.jsx)(Q.a,{paragraph:!0,children:Object(D.jsx)(P.b,{to:"/createUser",children:"Luo tunnus"})})]})},St=function(){var e=Object(dt.a)(We,{fetchPolicy:"cache-and-network"}),t=Object(T.a)(e,2),a=t[0],n=t[1],i=n.loading,r=n.data,s=Object(S.useState)(""),c=Object(T.a)(s,2),o=c[0],l=c[1],u=Object(S.useState)(null),j=Object(T.a)(u,2),d=j[0],b=j[1],h=Object(S.useState)(null),p=Object(T.a)(h,2),O=p[0],m=p[1];Object(S.useEffect)((function(){!i&&r&&""!==o&&b(r.isUsernameAvailable)}),[r,i]);return{username:o,setName:function(e){l(e),b(""===e?null:"loading"),null!==O&&clearTimeout(O);var t=setTimeout((function(){a({variables:{user:e}})}),1e3);m(t)},available:d}},wt=function(e){var t=e.handleSendFriendRequest,a=St(),n=a.username,i=a.setName,r=a.available;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Q.a,{variant:"h5",children:"L\xe4het\xe4 kaveripyynt\xf6"}),Object(D.jsxs)("form",{onSubmit:t,children:[Object(D.jsx)(ft.a,{label:"Nimi",variant:"outlined",name:"kaveri",size:"small",style:{color:"green"},value:n,onChange:function(e){return i(e.target.value)},error:!0===r,helperText:!0===r?"Nime\xe4 ei l\xf6ydy":""}),"loading"===r&&Object(D.jsx)("span",{style:{marginLeft:10},children:Object(D.jsx)(ue.a,{})}),Object(D.jsx)("br",{}),Object(D.jsx)(ie.a,{disabled:!1!==r,type:"submit",variant:"contained",size:"large",color:"primary",style:{marginTop:"5px"},children:"L\xe4het\xe4"})]})]})},Ct=a(437),It=a(438),Pt=function(e){var t=e.kaveri,a=e.handleFriendRequest,n=W();return Object(D.jsx)(z.a,{children:Object(D.jsxs)(ce.a,{container:!0,component:rt.a,elevation:3,className:n.listPaper,justify:"space-between",alignItems:"center",children:[Object(D.jsxs)(ce.a,{item:!0,xs:6,children:[t.user," (",t.name,")"]}),Object(D.jsxs)(ce.a,{item:!0,children:[Object(D.jsx)(K.a,{onClick:function(){return a(t.id,!0)},children:Object(D.jsx)(Ct.a,{style:{color:"green"}})}),Object(D.jsx)(K.a,{onClick:function(){return a(t.id,!1)},children:Object(D.jsx)(It.a,{style:{color:"#ff4040"}})})]})]})})},Tt=function(e){var t=e.pyynnot,a=e.handleFriendRequest;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Q.a,{variant:"h5",children:"Kaveripyynn\xf6t"}),Object(D.jsx)(V.a,{dense:!0,children:t.map((function(e){return Object(D.jsx)(Pt,{handleFriendRequest:a,kaveri:e},e.id)}))})]})},Rt=function(e){var t=e.kaveri;return Object(D.jsx)(z.a,{children:Object(D.jsxs)(rt.a,{elevation:3,children:[Object(D.jsx)("strong",{children:t.name})," (",t.user,")"]})})},$t=function(e){var t=e.kaverit;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(Q.a,{variant:"h6",children:["Sinulla on ",t.length," kaveria"]}),Object(D.jsx)(V.a,{dense:!0,children:t.map((function(e){return Object(D.jsx)(Rt,{kaveri:e},e.user)}))})]})},Nt=function(e){var t=e.open,a=e.title,n=void 0===a?"Oletko varma?":a,i=e.text,r=void 0===i?"Aivan varma?":i,s=e.close,c=void 0===s?null:s,o=e.onYesClick,l=e.onNoClick,u=void 0===l?null:l;return t?Object(D.jsx)(Je.a,{open:!0,onClick:c,children:Object(D.jsxs)(Ye.a,{style:{paddingBottom:"15px"},children:[Object(D.jsx)(Q.a,{variant:"h4",gutterBottom:!0,children:n}),Object(D.jsx)(Q.a,{paragraph:!0,children:r}),Object(D.jsxs)(ce.a,{container:!0,style:{flexGrow:1,width:"100%",textAlign:"center"},children:[Object(D.jsx)(ce.a,{item:!0,xs:6,children:Object(D.jsx)(ie.a,{variant:"contained",color:"primary",onClick:o,children:"Kyll\xe4"})}),Object(D.jsx)(ce.a,{item:!0,xs:6,children:Object(D.jsx)(ie.a,{variant:"contained",color:"secondary",onClick:u,children:"Ei"})})]})]})}):null},Ft=function(e){var t=e.me,a=e.refetch,n=Object(S.useState)(!1),i=Object(T.a)(n,2),r=i[0],s=i[1],c=Object(S.useState)(""),o=Object(T.a)(c,2),l=o[0],u=o[1],j=Object(I.b)(),d=Object(ne.a)($e),b=Object(T.a)(d,1)[0],h=function(){var e=Object(ae.a)(te.a.mark((function e(){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.friends.find((function(e){return e.user===l}))){e.next=5;break}j(N("Kaveri ei ole listoillasi","error","Does not compute")),e.next=17;break;case 5:return console.log("Kill "+n.id),e.prev=6,e.next=9,b({variables:{userId:n.id}});case 9:return j(N("Huono yst\xe4v\xe4 poistettu","success","Kaveri poistettu")),e.next=12,a();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),j(N("Palvelin palautti virheen","error","Virhe kaverin poistossa"));case 17:s(!1),u("");case 19:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(){return e.apply(this,arguments)}}();return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Q.a,{variant:"h5",children:"Poista kaveri"}),Object(D.jsx)(ft.a,{variant:"outlined",value:l,onChange:function(e){return u(e.target.value.toLowerCase())},size:"small",placeholder:"Kaverin tunnus..."}),"\xa0",Object(D.jsx)(ie.a,{variant:"contained",color:"primary",onClick:function(){return s(!0)},disabled:!t.friends.find((function(e){return e.user===l})),children:"Poista"}),Object(D.jsx)(Nt,{open:r,title:"Vahvista poisto",text:"Haluatko varmasti poistaa kverin ".concat(l),onNoClick:function(){return s(!1)},onYesClick:h})]})},Et=function(){var e=_e(),t=e.me,a=e.loading,n=e.refetch,i=e.updateCache,r=Object(I.b)(),s=Object(ne.a)(Te),c=Object(T.a)(s,1)[0],o=Object(ne.a)(Re),l=Object(T.a)(o,1)[0],u=function(){var e=Object(ae.a)(te.a.mark((function e(t,a){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c({variables:{friendId:t,answer:a}});case 3:n=e.sent,i(n.data.handleFriendRequest),r(N("Kaveripyynt\xf6 k\xe4sitelty","success")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),r(N("Tapahtui virhe: "+e.t0.message,"error"));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}();return a||!t?Object(D.jsx)(ue.a,{}):Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Kaverit"}),Object(D.jsx)($t,{kaverit:t.friends}),Object(D.jsx)(L.a,{}),Object(D.jsx)(wt,{handleSendFriendRequest:function(e){e.preventDefault(),l({variables:{name:e.target.kaveri.value}}).then((function(t){r(N("Kaveripyynt\xf6 l\xe4hetetty!","success")),e.target.kaveri.value=""})).catch((function(e){r(N("Pyynt\xf6 ep\xe4onnistui: "+e.message,"error"))}))}}),Object(D.jsx)(L.a,{}),t.friendRequests.length>0&&Object(D.jsx)(Tt,{pyynnot:t.friendRequests,handleFriendRequest:u}),Object(D.jsx)(L.a,{}),Object(D.jsx)(Ft,{me:t,refetch:n}),Object(D.jsx)(L.a,{}),Object(D.jsx)(ie.a,{fullWidth:!0,variant:"outlined",onClick:function(){n()},children:"P\xe4ivit\xe4 kaveripyynn\xf6t"})]})},Ut=function(e){var t=e.me;return Object(D.jsxs)("div",{children:[Object(D.jsx)(Q.a,{variant:"h4",gutterBottom:!0,children:"Tiedot"}),Object(D.jsx)(Q.a,{variant:"h6",children:"Tunnus"}),Object(D.jsx)(Q.a,{children:t.user}),Object(D.jsx)(Q.a,{variant:"h6",children:"N\xe4ytt\xf6nimi"}),Object(D.jsx)(Q.a,{children:t.name}),Object(D.jsx)(Q.a,{variant:"h6",children:"S\xe4hk\xf6posti"}),Object(D.jsx)(Q.a,{children:t.email})]})},qt=function(e){var t=e.vaihdaSalasana,a=Object(S.useState)({uusiPw:"",uusiPw2:"",ok:!1}),n=Object(T.a)(a,2),i=n[0],r=n[1],s=function(e){var t=Object($.a)({},i);t[e.target.name]=e.target.value,t.uusiPw===t.uusiPw2&&""!==t.uusiPw?t.ok=!0:t.ok=!1,r(t)};return Object(D.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({password:i.uusiPw}),r({uusiPw:"",uusiPw2:"",ok:!1})},children:[Object(D.jsx)(Q.a,{variant:"h5",gutterBottom:!0,children:"Vaihda salasana"}),Object(D.jsxs)(ce.a,{container:!0,spacing:1,children:[Object(D.jsx)(ce.a,{item:!0,xs:12,children:Object(D.jsx)(ft.a,{variant:"outlined",value:i.uusiPw,name:"uusiPw",label:"Uusi salasana",size:"small",type:"password",onChange:s})}),Object(D.jsx)(ce.a,{item:!0,xs:12,children:Object(D.jsx)(ft.a,{variant:"outlined",value:i.uusiPw2,name:"uusiPw2",label:"Uusi uudestaan",size:"small",type:"password",onChange:s})}),Object(D.jsx)(ce.a,{item:!0,children:Object(D.jsx)(ie.a,{variant:"contained",color:"primary",type:"submit",disabled:!i.ok,children:"Vaihda"})})]})]})},Dt=function(e){var t,a=e.handleChangeEmail,n=Object(S.useState)(""),i=Object(T.a)(n,2),r=i[0],s=i[1];return Object(D.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a({email:r}),s("")},children:[Object(D.jsx)(Q.a,{variant:"h5",label:"email",children:"Vaihda email"}),Object(D.jsx)(ft.a,{variant:"outlined",name:"email",value:r,placeholder:"Uusi email",size:"small",onChange:function(e){return s(e.target.value)}}),"\xa0",Object(D.jsx)(ie.a,{variant:"contained",color:"primary",type:"submit",disabled:(t=r,!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())),children:"Vaihda"})]})},Bt=a(425),At=function(e){var t=e.me,a=e.handleChangeSettings;return Object(D.jsxs)("div",{children:[Object(D.jsxs)(ce.a,{container:!0,justify:"space-between",direction:"row",alignItems:"center",children:[Object(D.jsx)(ce.a,{item:!0,xs:8,component:Q.a,children:"Salli kavereiden n\xe4hd\xe4 tilastoni"}),Object(D.jsx)(ce.a,{item:!0,style:{paddingRight:10},children:Object(D.jsx)(Bt.a,{color:"primary",checked:null===t||void 0===t?void 0:t.shareStats,onChange:function(){return a({shareStats:!t.shareStats})}})})]}),Object(D.jsx)(L.a,{}),Object(D.jsxs)(ce.a,{container:!0,justify:"space-between",direction:"row",alignItems:"center",children:[Object(D.jsx)(ce.a,{item:!0,xs:8,component:Q.a,children:"Est\xe4 kaikki kaveripyynn\xf6t"}),Object(D.jsx)(ce.a,{item:!0,style:{paddingRight:10},children:Object(D.jsx)(Bt.a,{color:"primary",checked:null===t||void 0===t?void 0:t.ignoreFriendRequests,onChange:function(){return a({ignoreFriendRequests:!t.ignoreFriendRequests})}})})]})]})},Mt=function(e){var t=e.me,a=Object(S.useState)(!1),n=Object(T.a)(a,2),i=n[0],r=n[1],s=Object(S.useState)(""),c=Object(T.a)(s,2),o=c[0],l=c[1],u=Object(ne.a)(ge),j=Object(T.a)(u,1)[0],d=Object(Ae.a)(),b=Object(I.b)(),h=Object(R.g)(),p=function(){var e=Object(ae.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:d.clearStore(),window.localStorage.clear(),b({type:"CLEAR_USER",data:{}}),b(N("Tunnuksesi on nyt poistettu, heihei!","warning","Tunnukset poistettu")),h.push("/"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),b(N("Jokin meni peieleen! :(","error","VIRHE"));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Q.a,{variant:"h5",children:"Poista tunnukset"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Tunnuksesi poistetaan, pelit tuhotaan, frisbeet heitet\xe4\xe4n lampeen."}),Object(D.jsx)(ie.a,{fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){return r(!0)},children:"Poista tunnuksesi"}),Object(D.jsx)(Je.a,{open:i,fullWidth:!0,maxWidth:"xs",PaperProps:{style:{borderRadius:20,border:o===t.user?"5px solid red":null}},children:Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Tunnusten poisto"}),Object(D.jsx)("p",{children:"Vahvista poisto kirjoittamalla tunnuksesi tekstikentt\xe4\xe4n"}),Object(D.jsx)(ft.a,{variant:"outlined",size:"small",placeholder:"Tunnuksesi...",value:o,onChange:function(e){return l(e.target.value)}}),Object(D.jsxs)(ce.a,{container:!0,style:{marginTop:20},alignContent:"space-between",children:[Object(D.jsx)(ce.a,{item:!0,xs:!0,children:Object(D.jsx)(ie.a,{variant:"contained",color:"secondary",onClick:p,disabled:o!==t.user,children:"Poista"})}),Object(D.jsx)(ce.a,{item:!0,xs:!0,children:Object(D.jsx)(ie.a,{variant:"contained",color:"primary",onClick:function(){l(""),r(!1)},children:"Peruuta"})})]})]})})]})},Kt=function(e){var t=e.handleChangeName,a=Object(S.useState)(""),n=Object(T.a)(a,2),i=n[0],r=n[1];return Object(D.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:i}),r("")},children:[Object(D.jsx)(Q.a,{variant:"h5",children:"Vaihda n\xe4ytt\xf6nimi"}),Object(D.jsx)(ft.a,{value:i,variant:"outlined",label:"Uusi nimi",size:"small",onChange:function(e){return r(e.target.value)}}),"\xa0",Object(D.jsx)(ie.a,{variant:"contained",type:"submit",disabled:i.length<3,color:"primary",children:"Ok"})]})},Lt=function(){var e=_e(),t=e.me,a=e.updateCache,n=Object(I.b)(),i=Object(ne.a)(ye),r=Object(T.a)(i,1)[0],s=Object(Ae.a)(),c=function(){var e=Object(ae.a)(te.a.mark((function e(t){var i,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={name:"",email:"",password:"",shareStats:null,ignoreFriendRequests:null},e.prev=1,e.next=4,r({variables:Object($.a)(Object($.a)({},i),t)});case 4:s=e.sent,a(s.data.changeSettings),n(N("Tietoja vaihdettu","success")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),n(N("Virhe! ".concat(e.t0.message),"error"));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(ae.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.clearStore();case 2:n(N("V\xe4limuisti tyhjennetty","info"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return null===t?Object(D.jsx)(Ge.a,{open:!0,children:Object(D.jsx)(ue.a,{})}):Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Ut,{me:t}),Object(D.jsx)(L.a,{}),Object(D.jsx)(At,{me:t,handleChangeSettings:c}),Object(D.jsx)(L.a,{}),Object(D.jsx)(qt,{vaihdaSalasana:c}),Object(D.jsx)(L.a,{}),Object(D.jsx)(Kt,{handleChangeName:c}),Object(D.jsx)(L.a,{}),Object(D.jsx)(Dt,{me:t,handleChangeEmail:c}),Object(D.jsx)(L.a,{}),Object(D.jsx)(Q.a,{variant:"h5",children:"Tyhjenn\xe4 v\xe4limuisti"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Jos tuntuu ett\xe4 asiat eiv\xe4t n\xe4y oikein, voit yritt\xe4\xe4 tyhjent\xe4\xe4 v\xe4limuistin."}),Object(D.jsx)(ie.a,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:o,children:"Tyhjenn\xe4 v\xe4limuisti"}),Object(D.jsx)(L.a,{}),Object(D.jsx)(Mt,{me:t})]})},Vt=function(e){var t=e.children,a=e.variant,n=void 0===a?"contained":a,i=e.color,r=void 0===i?"primary":i,s=Object(ut.a)(e,["children","variant","color"]);return Object(D.jsx)(ie.a,Object($.a)(Object($.a)({},s),{},{variant:n,color:r,style:{margin:"7px 0px",marginRight:5},children:t}))},Wt=function(){var e=Object(ne.a)(Pe),t=Object(T.a)(e,2),a=t[0],n=t[1],i=Object(I.b)(),r=St(),s=r.username,c=r.setName,o=r.available,l=Object(S.useState)({tunnus:!1,password:!1}),u=Object(T.a)(l,2),j=u[0],d=u[1],b=function(){var e=Object(ae.a)(te.a.mark((function e(t){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==(n={user:t.target.user.value,password:t.target.password.value,name:t.target.name.value,email:t.target.email.value}).user){e.next=6;break}d(Object($.a)(Object($.a)({},j),{},{tunnus:!0})),e.next=19;break;case 6:if(""!==n.password&&n.password===t.target.password2.value){e.next=10;break}d(Object($.a)(Object($.a)({},j),{},{password:!0})),e.next=19;break;case 10:return e.prev=10,e.next=13,a({variables:n});case 13:i(N("Tunnukset luotiin onnistuneesti","success")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),i(N("Virhe tunnusten luonnissa: "+e.t0.message,"error"));case 19:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}();return n.loading?Object(D.jsx)(Ge.a,{children:Object(D.jsx)(ue.a,{})}):n.called&&!n.error?Object(D.jsx)(R.a,{to:"/login"}):Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Luo tunnus"}),Object(D.jsx)(Q.a,{variant:"h5",children:"Perustiedot"}),Object(D.jsxs)("form",{onSubmit:b,children:[Object(D.jsxs)(ce.a,{container:!0,direction:"column",spacing:1,children:[Object(D.jsx)(ce.a,{item:!0,children:Object(D.jsx)(ft.a,{error:j.tunnus||!1===o,name:"user",label:"Tunnus",variant:"outlined",required:!0,value:s,onChange:function(e){return c(e.target.value)},helperText:!1===o?"Tunnus on jo k\xe4yt\xf6ss\xe4":""})}),Object(D.jsx)(ce.a,{item:!0,children:Object(D.jsx)(ft.a,{error:j.password,name:"password",type:"password",label:"Salasana",variant:"outlined",required:!0})}),Object(D.jsx)(ce.a,{item:!0,children:Object(D.jsx)(ft.a,{error:j.password,name:"password2",label:"Salasana uudestaan",type:"password",variant:"outlined",required:!0})})]}),Object(D.jsx)(L.a,{}),Object(D.jsx)(Q.a,{variant:"h5",gutterBottom:!0,children:"Lis\xe4tiedot"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Ei pakollisia. S\xe4hk\xf6postiosoitteen antaminen mahdollistaa tunnuksen palauttamisen."}),Object(D.jsxs)(ce.a,{container:!0,direction:"column",spacing:1,children:[Object(D.jsx)(ce.a,{item:!0,children:Object(D.jsx)(ft.a,{name:"name",label:"Nimi",variant:"outlined"})}),Object(D.jsx)(ce.a,{item:!0,children:Object(D.jsx)(ft.a,{name:"email",label:"S\xe4hk\xf6posti",variant:"outlined",fullWidth:!0})}),Object(D.jsx)(ce.a,{item:!0,children:Object(D.jsx)(Vt,{disabled:!1===o,type:"submit",size:"large",variant:"contained",color:"primary",children:"Luo tunnus"})})]})]})]})},zt=a(411),_t=a(311),Gt=a.n(_t),Jt=a(310),Yt=a.n(Jt),Qt=function(e){var t=e.peli,a=e.aktivoi,n=e.poista,i=e.user,r=t.players.find((function(e){return e.user.user===i})).tulokset,s=Ne(r),c=Object(S.useState)(!1),o=Object(T.a)(c,2),l=o[0],u=o[1];return 0===r.length&&(r=[0]),Object(D.jsxs)(be.a,{style:{marginBottom:"5px"},variant:"outlined",children:[Object(D.jsx)(he.a,{avatar:!t.finished&&Object(D.jsx)(Yt.a,{style:{color:"orange"}}),action:Object(D.jsx)(K.a,{onClick:function(){return u(!l)},size:"small",children:Object(D.jsx)(Gt.a,{})}),title:l?s:null,subheader:l?Ee(t.timestamp):s}),Object(D.jsx)(zt.a,{in:l,unmountOnExit:!0,timeout:"auto",children:Object(D.jsxs)(pe.a,{style:{paddingTop:"0px"},children:[Object(D.jsx)(ie.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return a(t.id)},children:"Aktivoi"}),"\xa0",Object(D.jsx)(ie.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return n(t.id)},children:"Poista"}),Object(D.jsxs)(Q.a,{children:["Puttiprossa: ",(r.reduce((function(e,t){return e+t}))/(5*r.length)*100).toFixed()]}),Object(D.jsx)(ot,{data:Fe(r)})]})})]})},Ht=function(){var e=Object(Be.a)(Ke),t=Object(I.c)((function(e){return e.user})),a=Object(I.b)(),n=Object(S.useState)(null),i=Object(T.a)(n,2),r=i[0],s=i[1],c=Object(ne.a)(Ce),o=Object(T.a)(c,1)[0],l=function(e){a({type:"SET_ID",data:{roundId:e}}),a(N("Siirry peliin valitsemalla 'Uusi peli'","info","Peli aktivoitu"))},u=function(){var e=Object(ae.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Poistetaan",r);try{o({variables:{roundId:r},refetchQueries:[{query:Ke}]}),a(N("Peli poistettu","success"))}catch(t){a(N("Virhe pelin poistamisessa","error")),console.log(t.message)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t.user?e.loading?Object(D.jsx)(Ge.a,{open:!0,children:Object(D.jsx)(ue.a,{})}):(console.log(e),Object(D.jsxs)("div",{children:[Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Q.a,{variant:"h5",gutterBottom:!0,children:"Vanhat peli"}),e.data.getGames.map((function(e){return Object(D.jsx)(Qt,{user:t.user,aktivoi:l,poista:function(e){return s(e)},peli:e},e.id)}))]}),Object(D.jsx)(Nt,{open:r,title:"Oletko varma?",text:"Haluatko varmasti poistaa pelin?",close:function(){return s(!1)},onYesClick:u})]})):Object(D.jsx)(R.a,{to:"/login"})},Zt=a(424),Xt=a(312),ea=a.n(Xt),ta=(a(354),function(){var e=W();return Object(S.useEffect)((function(){ea.a.init({duration:3e3})}),[]),Object(D.jsxs)(Ye.a,{children:[Object(D.jsxs)(rt.a,{className:e.paper,id:"iso-naytto",children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Iso n\xe4ytt\xf6"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Onpas Teill\xe4 todella suuri ja mahtava n\xe4ytt\xf6. Tiedoksenne ett\xe4 t\xe4m\xe4 sovellus on suunniteltu k\xe4ytett\xe4v\xe4ksi k\xe4nnyk\xe4n pikkuruiselta n\xe4yt\xf6lt\xe4."})]}),Object(D.jsxs)(rt.a,{className:e.paper,"data-aos":"fade-up",children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Mit\xe4 t\xe4m\xe4 on?"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Rageputt on Fullstackopen 2021 -kurssin harjoitusty\xf6n tulos. Fullstackopen on Helsingin yliopiston j\xe4rjest\xe4m\xe4 kurssi jossa tutustutaan JavaScriptilla tapahtuvaan moderniin websovelluskehitykseen. P\xe4\xe4paino on React-kirjaston avulla toteutettavissa single page -sovelluksissa, ja niit\xe4 tukevissa Node.js:ll\xe4 toteutetuissa REST-rajapinnoissa."}),Object(D.jsx)(Q.a,{paragraph:!0,children:Object(D.jsx)(Zt.a,{children:"fullstackopen.com"})})]}),Object(D.jsxs)(rt.a,{className:e.paper,"data-aos":"fade-up",children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Rageputt"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Sovelluksen idea on pit\xe4\xe4 kirjaa frisbeegolffin JYLY-puttipelin tuloksista. Tulokset tallentuvat palvelimelle reaaliaikaisesti. Pelej\xe4 voi pelata yksin tai yhdess\xe4 kaverin kanssa. Jokaisella peliin osallistuvalla tulee olla oma tunnus. Pelatessa porukalla tarvitsee vain yhden henkil\xf6n kirjata tuloksia sill\xe4 tulokset p\xe4ivittyv\xe4t automaattisesti kaikille pelaajille."})]}),Object(D.jsxs)(rt.a,{className:e.paper,"data-aos":"fade-up",children:[Object(D.jsx)(Q.a,{variant:"h4",children:"JYLY?!?"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"JYLY Putting game is a putt practice drill/game created by Markus Lindqvist (found by nickename JYLY in dgcr forums as well as frisbeegolf-forum). The drill emphasizes putting from various distances. The more putts you sink and the further you do it, more points you get. (copypaste)"})]}),Object(D.jsxs)(rt.a,{className:e.paper,"data-aos":"fade-up",children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Kerro lis\xe4\xe4"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Jotta voit k\xe4ytt\xe4\xe4 sovellusta, tulee sinun luoda oma tunnus. Tunnuksen luomiseen riitt\xe4\xe4 vain ett\xe4 keksit itsellesi tunnuksen ja salasanan. Voit my\xf6s antaa s\xe4hk\xf6postiosoitteesi silt\xe4 varalta ett\xe4 unohdat salasanasi."}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Tunnuksen luotuasi voit aloittaa armottoman puttaamisen. My\xf6hemmin kun on liian pime\xe4\xe4 puttaamiselle, voit ihailla ihanaa diagrammidataa!"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Jos satut omistamaan yst\xe4vi\xe4, voit l\xe4hett\xe4\xe4 heille kaveripyynn\xf6n ja lis\xe4t\xe4 heid\xe4t yst\xe4viksesi. T\xe4m\xe4n j\xe4lkeen voitte yhdess\xe4 tuumin puttailla toisianne."})]}),Object(D.jsxs)(rt.a,{className:e.paper,"data-aos":"fade-up",children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Vanhan pelin jatkaminen"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Jos haluat jatkaa vanhaa peli\xe4, valitse 'vanhat pelit' -osiosta kyseinen peli ja paina aktivointinappia. T\xe4m\xe4n j\xe4lkeen voit jatkaa tulosten kirjaamista 'uusi peli' -sivulla."}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Avoimen pelin tunnistaa oranssista kolmiosta."})]}),Object(D.jsxs)(rt.a,{className:e.paper,"data-aos":"fade-up",children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Pelin p\xe4\xe4tt\xe4minen"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Kun peli on p\xe4\xe4tetty peliasetukse sivulta, tulosten kirjaaminen estet\xe4\xe4n ja tulokset otetaan huomioon statistiikka-sivulla."})]})]})}),aa=function(){var e=Object(S.useState)(!1),t=Object(T.a)(e,2),a=t[0],n=t[1],i=Object(ne.a)(fe),r=Object(T.a)(i,1)[0],s=function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,r({variables:{email:t.target.email.value}});case 4:n(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:t.target.email.value="";case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return a?Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Q.a,{variant:"h4",gutterBottom:!0,children:"Salasana l\xe4hetetty"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Kertak\xe4ytt\xf6inen salasana on l\xe4hetetty s\xe4hk\xf6postiisi, olettaen ett\xe4 annoit oikean s\xe4hk\xf6postiosoitteen."}),Object(D.jsxs)(Q.a,{paragraph:!0,children:["Tarkista s\xe4hk\xf6postisi, sen j\xe4lkeen ",Object(D.jsx)(P.b,{to:"/login",children:"kirjaudu sis\xe4\xe4n"}),"."]})]}):Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Q.a,{variant:"h4",gutterBottom:!0,children:"Tunnuksen palautus"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Kirjoita alla olevaan kentt\xe4\xe4n s\xe4hk\xf6postiosoitteesi. Kertak\xe4ytt\xf6inen salasana l\xe4hetet\xe4\xe4n antamaasi s\xe4hk\xf6postiosoitteeseen. Mik\xe4li et koskaan liitt\xe4nyt s\xe4hk\xf6postiosoitetta tunnukseesi niin... tough luck."}),Object(D.jsxs)("form",{onSubmit:s,children:[Object(D.jsx)(ft.a,{label:"S\xe4hk\xf6postiosoite",name:"email",variant:"outlined",fullWidth:!0}),Object(D.jsx)(Vt,{type:"submit",children:"Palauta"})]})]})},na=function(){var e=Object(I.b)(),t=function(t){e(N("T\xe4m\xe4 on kokeilu!",t,"Kokeilu"))};return Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Q.a,{variant:"h3",children:"DevPage"}),Object(D.jsx)(Q.a,{variant:"h5",children:"Tervetuloa salaiselle dev-sivulle!"}),Object(D.jsx)(L.a,{}),Object(D.jsx)(Q.a,{variant:"h5",children:"Testaa notifikaatioita"}),Object(D.jsx)(Vt,{onClick:function(){return t("info")},children:"Info"}),Object(D.jsx)(Vt,{onClick:function(){return t("success")},children:"Success"}),Object(D.jsx)(Vt,{onClick:function(){return t("warning")},children:"Warning"}),Object(D.jsx)(Vt,{onClick:function(){return t("error")},children:"Error"})]})},ia=function(e){var t=W();return Object(D.jsx)(rt.a,{className:t.paper,children:e.children})},ra=function(e){var t=Object(S.useState)(0),a=Object(T.a)(t,2),n=a[0],i=a[1],r=function(t){n+t>=0&&n+t<e.children.length&&i(n+t)};return Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-around"},children:[Object(D.jsx)(ie.a,{onClick:function(){return r(-1)},disabled:n<=0,children:"Edellinen"}),Object(D.jsx)(ie.a,{onClick:function(){return r(1)},disabled:n>=e.children.length-1,children:"Seuraava"})]}),e.children[n]]})},sa=a.p+"static/media/tkortti.dc5b766e.jpg",ca=a.p+"static/media/korti.2fd39798.png",oa=a.p+"static/media/vanha_peli.71efa63e.png",la=function(){return Object(D.jsx)(Ye.a,{children:Object(D.jsxs)(ra,{children:[Object(D.jsxs)(ia,{children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Pelin valmistelu"}),Object(D.jsxs)(Q.a,{paragraph:!0,children:["Aloita merkitsem\xe4ll\xe4 et\xe4isyydet metrin v\xe4lein korista v\xe4lill\xe4 5 - 10m.",Object(D.jsx)("img",{src:ca,alt:"etaisyys",style:{width:"100%"}})]})]}),Object(D.jsxs)(ia,{children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Uusi peli"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Valitse valikosta 'Uusi peli', klikkaa 'Aloita uusi peli' -nappia ja valitse mahdolliset pelaajat itsesi lis\xe4ksi."}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Peliss\xe4 on 20 kierrosta. Jokaisella kierroksella puttaat 5 kertaa. Pisteit\xe4 saat aina kun putti menee sis\xe4\xe4n. Seuraavan kierroksen et\xe4isyys m\xe4\xe4r\xe4ytyy edellisen kierroksen onnistuneiden puttien perusteella."})]}),Object(D.jsxs)(ia,{children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Tuloskortti"}),Object(D.jsx)("img",{src:sa,alt:"kuva",style:{width:"100%"}}),Object(D.jsxs)("ol",{children:[Object(D.jsx)("li",{children:"Puttiet\xe4isyys"}),Object(D.jsx)("li",{children:"Kierros"}),Object(D.jsx)("li",{children:"Pisteet"}),Object(D.jsx)("li",{children:"Edellinen/seuraava kierros"}),Object(D.jsx)("li",{children:"Kieroksen tulos/putteja sis\xe4\xe4n"})]})]}),Object(D.jsxs)(ia,{children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Pelin loppu"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Kun 20 kierrosta on t\xe4ynn\xe4, valitse pelin asetukset -v\xe4lilehdest\xe4 'P\xe4\xe4t\xe4 peli'. Peli\xe4 ei voi en\xe4\xe4 muokata ja tulokset otetaan mukaan tilastoihin."})]}),Object(D.jsxs)(ia,{children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Vanhat pelit"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Vanhat pelit -osiossa voit tarkastella, aktivoida tai poistaa vanhoja pelej\xe4si. Keskener\xe4isen pelin tunnistaa oranssista kolmiosta."}),Object(D.jsx)("img",{src:oa,alt:"Vanha peli",style:{width:"50%"}})]})]})})},ua=a(448),ja=function(){var e=_e().me,t=Object(S.useState)(""),a=Object(T.a)(t,2),n=a[0],i=a[1],r=Object(S.useState)(""),s=Object(T.a)(r,2),c=s[0],o=s[1],l=Object(S.useState)(""),u=Object(T.a)(l,2),j=u[0],d=u[1],b=Object(S.useState)(4),h=Object(T.a)(b,2),p=h[0],O=h[1],m=Object(ne.a)(Object(me.a)(y||(y=Object(Oe.a)(["\n        mutation sendFeedback($name: String, $email: String, $rating: Int, $message: String) {\n            sendFeedback(name: $name, email: $email, rating: $rating message: $message)\n        }\n    "])))),x=Object(T.a)(m,1)[0],v=Object(S.useState)(!1),f=Object(T.a)(v,2),g=f[0],k=f[1];return Object(S.useEffect)((function(){null!==e&&(i(e.name),o(e.email))}),[e]),!0===g?Object(D.jsxs)(Ye.a,{children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Palaute l\xe4hetetty"}),Object(D.jsx)(Q.a,{paragraph:!0,children:"Kiitos palautteestasi!"})]}):Object(D.jsx)(Ye.a,{children:Object(D.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x({variables:{name:n,email:c,rating:p,message:j}}),k(!0)},children:[Object(D.jsx)(Q.a,{variant:"h4",children:"Palaute"}),Object(D.jsx)(Q.a,{variant:"h5",style:{marginBottom:0},children:"Nimi"}),Object(D.jsx)(ft.a,{variant:"outlined",placeholder:"Nimi",size:"small",value:n,onChange:function(e){return i(e.target.value)}}),Object(D.jsx)(Q.a,{variant:"h5",style:{marginBottom:0,marginTop:10},children:"Email"}),Object(D.jsx)(ft.a,{variant:"outlined",placeholder:"Email",size:"small",value:c,onChange:function(e){return o(e.target.value)}}),Object(D.jsx)(Q.a,{variant:"h5",style:{marginBottom:0,marginTop:10},children:"Arvosana"}),Object(D.jsx)(ua.a,{value:p,name:"rating",onChange:function(e,t){return O(t)},size:"large"}),Object(D.jsx)(Q.a,{variant:"h5",style:{marginBottom:0,marginTop:10},children:"Viesti"}),Object(D.jsx)(ft.a,{variant:"outlined",placeholder:"Kirjoita viesti...",size:"small",value:j,onChange:function(e){return d(e.target.value)},multiline:!0,rows:7,fullWidth:!0}),Object(D.jsx)(ie.a,{type:"submit",style:{marginTop:10},variant:"contained",color:"primary",fullWidth:!0,children:"L\xe4het\xe4 palaute"})]})})};var da=function(){var e=Object(S.useState)(!1),t=Object(T.a)(e,2),a=t[0],n=t[1],i=Object(I.b)(),r=Object(I.c)((function(e){return e.user})),s=_e(),c=s.me,o=s.loading;return Object(S.useEffect)((function(){o||null==c||r.user||i(gt(c.name,c.user))}),[c]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{id:"AppBar",children:[Object(D.jsx)(X,{openMenu:function(){n(!0)}}),Object(D.jsx)(G,{menuOpen:a,setMenuOpen:n}),Object(D.jsx)(B,{})]}),Object(D.jsx)("div",{id:"AppContent",children:Object(D.jsxs)(R.d,{children:[Object(D.jsx)(R.b,{path:"/kaverit",children:Object(D.jsx)(Et,{})}),Object(D.jsx)(R.b,{path:"/palaute",children:Object(D.jsx)(ja,{})}),Object(D.jsx)(R.b,{path:"/login",children:Object(D.jsx)(yt,{})}),Object(D.jsx)(R.b,{path:"/vanhat",children:Object(D.jsx)(Ht,{})}),Object(D.jsx)(R.b,{path:"/peli",children:Object(D.jsx)(Ot,{})}),Object(D.jsx)(R.b,{path:"/stats",children:Object(D.jsx)(vt,{})}),Object(D.jsx)(R.b,{path:"/dev",children:Object(D.jsx)(na,{})}),Object(D.jsx)(R.b,{path:"/createUser",children:Object(D.jsx)(Wt,{})}),Object(D.jsx)(R.b,{path:"/asetukset",children:Object(D.jsx)(Lt,{})}),Object(D.jsx)(R.b,{path:"/palautus",children:Object(D.jsx)(aa,{})}),Object(D.jsx)(R.b,{path:"/ohje",children:Object(D.jsx)(la,{})}),Object(D.jsx)(R.b,{path:"/",children:Object(D.jsx)(ta,{})})]})})]})},ba=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ha(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var pa=a(365),Oa=a(410),ma=a(315),xa=a(439),va=a(36),fa=a(206),ga=a(367),ka=a(84),ya=a(313);var Sa=new xa.a({uri:"https://rageputt.herokuapp.com/graphql"}),wa=Object(ma.a)((function(e,t){var a=t.headers,n=localStorage.getItem("rageToken");return{headers:Object($.a)(Object($.a)({},a),{},{authorization:n?"bearer ".concat(n):null})}})),Ca=new ya.a({uri:"wss://rageputt.herokuapp.com/graphql",options:{reconnect:!0}}),Ia=Object(va.split)((function(e){var t=e.query,a=Object(ka.e)(t);return"OperationDefinition"===a.kind&&"subscription"===a.operation}),Ca,wa.concat(Sa)),Pa=new fa.a({cache:new ga.a,link:Ia,connectToDevTools:!0}),Ta=a(217),Ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{round:0,roundId:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INC_ROUND":return e.round<19?Object($.a)(Object($.a)({},e),{},{round:e.round+1}):e;case"DEC_ROUND":return e.round>=1?Object($.a)(Object($.a)({},e),{},{round:e.round-1}):e;case"SET_ID":return Object($.a)(Object($.a)({},e),{},{roundId:t.data.roundId});case"INIT_ROUND":return t.data;case"RESET_ROUND":return{round:0,roundId:null};default:return e}},$a=Object(Ta.a)({tulokset:Ra,user:kt,notification:F}),Na=Object(Ta.b)($a),Fa=a(99),Ea=a(104),Ua=Object(Fa.a)({typography:{fontFamily:"Quicksand",fontWeightLight:300,fontWeightMedium:500,fontWeightRegular:400,fontWeightBold:700,h3:{marginBottom:15},h4:{marginBottom:15},h5:{marginBottom:15}},palette:{primary:{main:"#aed581"},secondary:Ea.a,action:{disabled:"#8F8F8F"},success:{main:"rgba(76, 175, 80, 0.85)"},info:{main:"rgba(33, 150, 243, 0.85)"}},overrides:{MuiAlert:{root:{borderRadius:15}},MuiCard:{root:{borderRadius:15}},MuiListItem:{root:{fontFamily:"Quicksand"}},MuiButton:{root:{borderRadius:10,fontFamily:"Quicksand",height:40}},MuiDivider:{root:{marginTop:15,marginBottom:15}},MuiAppBar:{root:{borderRadius:0}},MuiTextField:{root:{backgroundColor:"#ffffff"}},MuiOutlinedInput:{root:{borderRadius:15,backgroundColor:"#ffffff"}},MuiPaper:{root:{borderRadius:15,padding:10}},MuiContainer:{root:{paddingBottom:10,paddingTop:10,maxWidth:700}}}});C.a.render(Object(D.jsx)(pa.a,{client:Pa,children:Object(D.jsx)(I.a,{store:Na,children:Object(D.jsx)(P.a,{children:Object(D.jsx)(Oa.a,{theme:Ua,children:Object(D.jsx)(da,{})})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ba?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ha(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ha(t,e)}))}}()}},[[366,1,2]]]);
//# sourceMappingURL=main.7b001d76.chunk.js.map