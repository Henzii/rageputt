{"version":3,"sources":["reducers/notificationReducer.js","components/Notification.js","components/Vetomenu.js","components/YlaPalkki.js","graphql/mutations.js","utils/stuff.js","pages/Peli/Player.js","graphql/queries.js","graphql/subscriptions.js","pages/Peli/Tulosruutu.js","pages/Peli/NewGameModal.js","components/BarChart.js","pages/Peli/PlayerStats.js","components/TabPanel.js","pages/Peli/index.js","pages/Statsit/index.js","reducers/userReducer.js","components/LoginForm.js","hooks/useIsUsernameAvailable.js","pages/Kaverit/FriendRequestForm.js","pages/Kaverit/FriendRequests.js","hooks/useGetMe.js","pages/Kaverit/index.js","pages/Asetukset/OmatTiedot.js","pages/Asetukset/SalasananVaihto.js","pages/Asetukset/VaihdaEmail.js","pages/Asetukset/index.js","components/Button.js","pages/CreateUser/index.js","pages/VanhatPelit/Pelikortti.js","components/YesNoModal.js","pages/VanhatPelit/index.js","hooks/useStyles.js","pages/Etusivu/index.js","components/RestoreAccount.js","App.js","serviceWorkerRegistration.js","utils/apolloClient.js","reducers/tuloksetReducer.js","utils/store.js","utils/theme.js","index.js"],"names":["setNotification","message","type","data","reducer","state","alive","action","Notification","dispatch","useDispatch","notification","useSelector","Snackbar","open","autoHideDuration","onClose","Alert","severity","variant","Vetomenu","menuOpen","setMenuOpen","notLogged","user","Typography","Drawer","anchor","IconButton","onClick","ChevronLeft","Divider","List","ListItem","button","component","Link","to","disabled","YlaPalkki","openMenu","AppBar","position","Toolbar","edge","style","flexGrow","RESTORE_ACCOUNT","gql","LOGIN","CHANGE_SETTINGS","END_GAME","CREATE_GAME","DELETE_GAME","SET_SCORE","CREATE_USER","ANSWER_FRIEND_REQUEST","SEND_FRIEND_REQUEST","laskePisteet","tulokset","pisteet","dist","i","length","tulokset2ChartData","palautus","putteja","puttejaSisaan","prossa","etaisyys","timestamp2String","ts","aika","Date","setUTCMilliseconds","tunti","getHours","getTimezoneOffset","minsat","getMinutes","getDate","getMonth","getFullYear","RadioButtons","loading","Number","push","CircularProgress","Grid","item","xs","FormControlLabel","labelPlacement","value","label","control","Radio","color","size","padding","Player","player","round","roundData","useState","setLoading","useMutation","variables","roundId","setScore","distance","isNaN","Card","className","elevation","CardHeader","title","name","subheader","CardContent","RadioGroup","row","whiteSpace","onChange","e","target","score","catch","finally","container","GET_ME","GET_GAMES","GET_ROUND","IS_USERNAME_AVAILABLE","CARD_CHANGED","Tulosruutu","kierrosData","kierros","client","useApolloClient","pushed","useSubscription","getRound","id","useEffect","dataMuistissa","readQuery","query","writeQuery","players","map","p","changedCard","ChevronRight","Kaverivalinta","kaverit","handleClick","k","Checkbox","NewGameModal","setModal","handleNewGame","mina","useQuery","pelaajat","setPelaajat","Modal","onSubmit","preventDefault","InputLabel","htmlFor","Select","native","checked","getMe","friends","pelaaja","includes","filter","fullWidth","marginTop","BarChart","otsikko","paperProps","Paper","height","text","min","max","argumentField","valueField","PlayerStats","statsit","marginBottom","TabPanel","props","children","index","other","hidden","Peli","modalOpen","tabValue","setTabValue","useLazyQuery","haeRundi","uusiPeli","paataPeli","poistaPeli","console","log","a","refetchQueries","res","createGame","handleDeleteGame","handleEndGame","Backdrop","Tabs","event","uusi","backgroundColor","Tab","Container","gutterBottom","paragraph","margin","Statsit","statsRawData","statsData","getGames","kaikkiPuttiProssat","kaikkiPisteet","maxPisteet","finished","find","game","setUser","LoginForm","loginProcess","setLoginProcess","login","handleLogout","clearStore","window","localStorage","clear","handleLogin","password","then","result","setItem","sailo","spacing","TextField","useIsUsernameAvailable","getName","username","setUsername","available","setAvailable","timerId","setTimerId","isUsernameAvailable","setName","clearTimeout","tid","setTimeout","FriendRequestForm","handleSendFriendRequest","error","helperText","marginLeft","KaveriKortti","kaveri","handleFriendRequest","paddingLeft","display","width","float","paddingTop","fontWeight","Check","Cancel","FriendRequests","pyynnot","refetchMe","useGetMe","refetch","me","setMe","KaveriLista","Kaverit","answerFriendRequest","sendFriendRequest","friendRequests","friendId","answer","OmatTiedot","email","SalasananVaihto","vaihdaSalasana","uusiPw","uusiPw2","ok","pwHandler","setPwHandler","handleChange","updatedPwHandler","VaihdaEmail","handleChangeEmail","newEmail","setNewEmail","placeholder","test","String","toLowerCase","VaihdaNayttonimi","handleChangeName","newName","setNewName","Asetukset","changeSettings","handleChangeSettings","newSettings","handleCelarCache","justifycontent","direction","alignItems","Switch","shareStatics","Button","CreateUserForm","createUser","cuData","tunnus","errors","setErrors","handleSubmit","vars","password2","called","required","Pelikortti","peli","aktivoi","poista","showStats","setShotStats","avatar","timestamp","Collapse","in","unmountOnExit","timeout","reduce","total","cur","toFixed","YesNoModal","close","onYesClick","onNoClick","Dialog","paddingBottom","textAlign","VanhatPelit","poistaPeliId","setPoistaPeliId","g","handlePoistaPeli","useStyles","makeStyles","require","paper","Etusivu","tyylit","Aos","init","duration","data-aos","RestoreAccount","mailSent","setMailSent","restoreAccount","handleResetAccount","App","path","CreateUser","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","httpLink","HttpLink","uri","authLink","setContext","_","headers","token","getItem","authorization","socketLink","WebSocketLink","options","reconnect","splitLink","split","definition","getMainDefinition","kind","operation","concat","ApolloClient","cache","InMemoryCache","link","connectToDevTools","reducers","combineReducers","tuloksetReducer","userReducer","notificationReducer","store","createStore","theme","createMuiTheme","typography","fontFamily","fontWeightLight","fontWeightMedium","fontWeightRegular","fontWeightBold","h3","h4","h5","palette","secondary","red","ReactDOM","render","ApolloProvider","ThemeProvider","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.0a13acee.chunk.js","sourcesContent":["const reducer = (state = { alive: false}, action) => {\r\n    switch(action.type) {\r\n        case 'SET_NOTIFICATION':\r\n            return {\r\n                message: action.data.message,\r\n                type: action.data.type,\r\n                alive: true\r\n            }\r\n        case 'KILL_NOTIFICATION':\r\n           return { ...state, alive:false }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const setNotification = (message, type) => {\r\n    return {\r\n        type: 'SET_NOTIFICATION',\r\n        data: {\r\n            type,\r\n            message,\r\n        }\r\n    }\r\n}\r\nexport const killNotification = () => {\r\n    return {\r\n        type: 'KILL_NOTIFICATION',\r\n        data: {}\r\n    }\r\n}\r\nexport default reducer;","import { killNotification } from '../reducers/notificationReducer'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport Alert from '@material-ui/lab/Alert'\r\n\r\nconst Notification = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const notification = useSelector(state => state.notification)\r\n\r\n    const handleClose = () => {\r\n        dispatch(killNotification())\r\n    }\r\n    return (\r\n        <div>\r\n            <Snackbar open={notification.alive} autoHideDuration={5000} onClose={handleClose}>\r\n                <Alert severity={notification.type} variant=\"filled\">\r\n                    {notification.message}\r\n                </Alert>\r\n            </Snackbar>\r\n        </div>\r\n    )\r\n}\r\nexport default Notification","import { ChevronLeft } from '@material-ui/icons';\r\nimport { Drawer, Divider, List, ListItem, IconButton, Typography } from '@material-ui/core'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\n\r\nconst Vetomenu = ({ menuOpen, setMenuOpen }) => {\r\n\r\n    const user = useSelector(state => state.user)\r\n    const notLogged = (!user.user)\r\n    return (\r\n        <Typography>\r\n            <Drawer\r\n                open={menuOpen}\r\n                variant=\"persistent\"\r\n                anchor=\"left\"\r\n            >\r\n                <IconButton onClick={() => setMenuOpen(false)}>\r\n                    <ChevronLeft />\r\n                </IconButton>\r\n                <Divider />\r\n                <List>\r\n                    <ListItem button component={Link} to=\"/\" onClick={() => setMenuOpen(false)}>\r\n                        Etusivu\r\n                    </ListItem>\r\n                </List>\r\n                <Divider />\r\n\r\n                <List>\r\n                    <ListItem disabled={notLogged} button component={Link} to=\"/peli\" onClick={() => setMenuOpen(false)}>\r\n                        Uusi peli\r\n                    </ListItem>\r\n                </List>\r\n                <Divider />\r\n                <List>\r\n                    <ListItem disabled={notLogged} button component={Link} to=\"/vanhat\" onClick={() => setMenuOpen(false)}>\r\n                        Vanhat pelit\r\n                    </ListItem>\r\n                    <ListItem disabled={notLogged} button component={Link} to=\"/stats\" onClick={() => setMenuOpen(false)}>\r\n                        Statistiikka\r\n                    </ListItem>\r\n                </List>\r\n                <Divider />\r\n                <List>\r\n                    <ListItem disabled={notLogged} button component={Link} to=\"/kaverit\" onClick={() => setMenuOpen(false)}>\r\n                        Kaverit\r\n                    </ListItem>\r\n                </List>\r\n                <Divider />\r\n                <List>\r\n                    <ListItem component={Link} to=\"/asetukset\" disabled={notLogged} button onClick={() => setMenuOpen(false)}>\r\n                        Asetukset\r\n                    </ListItem>\r\n                    <ListItem button component={Link} to=\"/createUser\" onClick={() => setMenuOpen(false)}>\r\n                        Luo tunnus\r\n                    </ListItem>\r\n                    <ListItem button component={Link} to=\"/login\" onClick={() => setMenuOpen(false)}>\r\n                        Kirjaudu sisään\r\n                    </ListItem>\r\n\r\n                </List>\r\n            </Drawer></Typography>\r\n    )\r\n}\r\nexport default Vetomenu;","import { AppBar, Toolbar, IconButton, Typography } from '@material-ui/core'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\n\r\nconst YlaPalkki = ({ openMenu }) => {\r\n    return (\r\n        <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton edge=\"start\" onClick={openMenu}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\r\n            RagePutt\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      )\r\n}\r\nexport default YlaPalkki","import { gql } from '@apollo/client';\r\n\r\nexport const RESTORE_ACCOUNT = gql`\r\n    mutation restoreAccount( $email: String!) {\r\n        restoreAccount( email: $email )\r\n    }\r\n`\r\nexport const LOGIN = gql`\r\n    mutation login($user: String!, $password: String!) {\r\n        login(\r\n            user: $user\r\n            password: $password\r\n        ) {\r\n            value\r\n            user { user name }\r\n        }\r\n    }\r\n\r\n\r\n`\r\nexport const CHANGE_SETTINGS = gql`\r\n    mutation changeSettings($name: String, $password: String, $email: String) {\r\n        changeSettings(\r\n            name: $name,\r\n            password: $password,\r\n            email: $email\r\n        ) {\r\n            name\r\n            email\r\n        }\r\n    }\r\n`\r\nexport const END_GAME = gql`\r\n    mutation endGame ($id: String!) {\r\n        finishGame(\r\n            roundId: $id\r\n        )\r\n    }\r\n`\r\nexport const CREATE_GAME = gql`\r\n    mutation createGame ($pelaajat: [String]) {\r\n        createGame(\r\n            pelaajat: $pelaajat\r\n        )\r\n    }\r\n`\r\nexport const DELETE_GAME = gql`\r\n    mutation deleteGame ( $roundId: String!) {\r\n        deleteGame(\r\n            roundId: $roundId\r\n        )\r\n    }\r\n`\r\nexport const SET_SCORE = gql`\r\n    mutation setScore($roundId: String!, $round: ID!, $player: String!, $score: Int!) {\r\n        setScore(\r\n            roundId: $roundId\r\n            round: $round\r\n            player: $player\r\n            score: $score\r\n        ) {\r\n            finished\r\n            timestamp\r\n            players {\r\n                user { user }\r\n                tulokset\r\n            }\r\n        }\r\n    }\r\n`\r\nexport const CREATE_USER = gql`\r\n    mutation createUser($user: String!, $password: String!, $name: String, $email: String) {\r\n        createUser(\r\n            user: $user\r\n            password: $password\r\n            name: $name\r\n            email: $email\r\n        ) {\r\n            user\r\n        }\r\n    }\r\n`\r\nexport const ANSWER_FRIEND_REQUEST = gql`\r\n    mutation handleFriendRequest($friendId: String!, $answer: Boolean!) {\r\n        handleFriendRequest(\r\n            friendId: $friendId\r\n            action: $answer\r\n        )\r\n    }\r\n`\r\nexport const SEND_FRIEND_REQUEST = gql`\r\n    mutation sendFriendRequest($name: String!) {\r\n        sendFriendRequest(\r\n            fName: $name\r\n        )\r\n    }\r\n`","\r\nexport const laskePisteet = (tulokset) => {\r\n\r\n    let pisteet = 0\r\n    let dist = 10\r\n    for (var i = 0; i < tulokset.length; i++ ) {\r\n        if (tulokset[i] === null) return pisteet\r\n        pisteet += tulokset[i]*dist\r\n        dist = 5+tulokset[i]\r\n    }\r\n    return pisteet\r\n}\r\nexport const tulokset2ChartData = (tulokset = [], palautus = [\r\n        { dist: '5m', putteja: 0, puttejaSisaan: 0, prossa: 0 },\r\n        { dist: '6m', putteja: 0, puttejaSisaan: 0, prossa: 0 },\r\n        { dist: '7m', putteja: 0, puttejaSisaan: 0, prossa: 0 },\r\n        { dist: '8m', putteja: 0, puttejaSisaan: 0, prossa: 0},\r\n        { dist: '9m', putteja: 0, puttejaSisaan: 0, prossa: 0},\r\n        { dist: '10m', putteja: 0, puttejaSisaan: 0, prossa: 0 } ]) => {\r\n    \r\n    for (let i=0; i < tulokset.length; i++) {\r\n        if (tulokset[i] === null) return palautus\r\n        const etaisyys = (i !== 0) ? tulokset[i-1] : 5\r\n\r\n        palautus[etaisyys].putteja += 5\r\n        palautus[etaisyys].puttejaSisaan += tulokset[i]\r\n\r\n        palautus[etaisyys].prossa = palautus[etaisyys].puttejaSisaan / palautus[etaisyys].putteja * 100\r\n    }\r\n    return palautus\r\n}\r\nexport const timestamp2String = (ts) => {\r\n    let aika = new Date(0)\r\n    aika.setUTCMilliseconds(ts)\r\n    const tunti = aika.getHours()+aika.getTimezoneOffset()/60\r\n    const minsat = aika.getMinutes()\r\n    return aika.getDate() + \".\" + (aika.getMonth()+1) + \".\" + aika.getFullYear() + \" \" + \r\n        ((tunti < 10) ? '0'+tunti : tunti) + \":\" + \r\n        ( (aika.getMinutes() < 10) ? '0'+minsat : minsat)\r\n}","import { useMutation } from \"@apollo/client\"\r\nimport { CircularProgress, FormControlLabel, Radio, RadioGroup, Grid } from \"@material-ui/core\"\r\nimport { Card, CardHeader, CardContent } from '@material-ui/core'\r\nimport { useState } from \"react\"\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { SET_SCORE } from \"../../graphql/mutations\"\r\n\r\nimport { setNotification } from \"../../reducers/notificationReducer\"\r\n\r\nimport { laskePisteet } from '../../utils/stuff'\r\n\r\nconst Player = ({ player, round }) => {\r\n\r\n    const roundData = useSelector(state => state.tulokset)\r\n    const dispatch = useDispatch()\r\n\r\n    const [loading, setLoading] = useState(null)\r\n\r\n    const [setScore] = useMutation(SET_SCORE, { variables: { roundId: roundData.roundId } })\r\n\r\n    const handleChange = (e) => {\r\n        setLoading(e.target.value)\r\n        setScore({\r\n            variables: {\r\n                roundId: roundData.roundId,\r\n                round: roundData.round,\r\n                player: player.user.user,\r\n                score: Number(e.target.value)\r\n            }\r\n        }).catch(e => {\r\n            dispatch(setNotification(e.message, 'error'))\r\n        }).finally(() => {\r\n            setLoading(null)\r\n            if (round > 0 && !player.tulokset[round - 1])\r\n                dispatch(setNotification('Kierroksen ' + round + ' tulos puuttuu', 'warning'))\r\n        })\r\n    }\r\n    const distance = (round > 0) ? 5 + player.tulokset[round - 1] : 10\r\n    const pisteet = laskePisteet(player.tulokset)\r\n    let putteja = player.tulokset[round]\r\n    if (isNaN(putteja)) putteja = null\r\n    return (\r\n        <Card className=\"tulos-kortti\" elevation={3}>\r\n            <CardHeader\r\n                title={player.user.name}\r\n                action={distance + 'm'}\r\n                subheader={pisteet + ' points'}\r\n            />\r\n            <CardContent style={{padding: '15px 0px'}}>\r\n                <RadioGroup row style={{ whiteSpace: 'nowrap' }} value={putteja} onChange={handleChange}>\r\n                    <Grid container>\r\n                        <RadioButtons loading={loading} />\r\n                    </Grid>\r\n                </RadioGroup>\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\nconst RadioButtons = ({ loading }) => {\r\n    const palautus = []\r\n    var i\r\n    for (i = 0; i < 6; i++) {\r\n        if (loading && i === Number(loading)) {\r\n            palautus.push(\r\n                <CircularProgress />\r\n            )\r\n        }\r\n        else {\r\n            palautus.push(\r\n                <Grid item xs\r\n                    key={i}\r\n                >\r\n                    <FormControlLabel\r\n                        labelPlacement=\"top\"\r\n                        value={i}\r\n                        label={i}\r\n                        control={\r\n                            <Radio color=\"primary\" size=\"small\"\r\n                                style={{ padding: '0px' }}\r\n                            />}\r\n                    />\r\n                </Grid>\r\n            )\r\n        }\r\n    }\r\n    return palautus;\r\n}\r\n\r\nexport default Player","import { gql } from '@apollo/client';\r\n\r\nexport const GET_ME = gql`\r\n    query getMe {\r\n        getMe{\r\n           name\r\n           user\r\n           email\r\n           friends { user name id }\r\n           friendRequests { user name id }\r\n        }\r\n    }\r\n`\r\nexport const GET_GAMES = gql`\r\n    query getGames {\r\n        getGames {\r\n            finished\r\n            timestamp\r\n            id\r\n            players{ tulokset user{user name}}\r\n        }\r\n    }\r\n`\r\nexport const GET_ROUND = gql`\r\n    query getRound($roundId: String!) {\r\n        getRound(\r\n            roundId: $roundId\r\n        ) {\r\n            finished\r\n            timestamp\r\n            id\r\n            players {\r\n                user { user name }\r\n                tulokset\r\n            }\r\n        }\r\n    }\r\n`\r\nexport const IS_USERNAME_AVAILABLE = gql`\r\n    query isUsernameAvailable( $user: String! ) {\r\n        isUsernameAvailable( user: $user)\r\n    }\r\n`","import { gql } from '@apollo/client';\r\n\r\nexport const CARD_CHANGED = gql`\r\nsubscription changedCard( $roundId: String!) {\r\n    changedCard( roundId: $roundId) {\r\n        data {\r\n            tulokset\r\n            user { user name }\r\n        }\r\n    }\r\n}\r\n`","import { Grid, IconButton, Typography } from '@material-ui/core'\r\nimport { ChevronLeft, ChevronRight } from '@material-ui/icons'\r\nimport { useDispatch } from 'react-redux'\r\nimport Player from './Player'\r\n\r\nimport { useSubscription, useApolloClient } from '@apollo/client'\r\n\r\nimport { GET_ROUND } from '../../graphql/queries'\r\nimport { CARD_CHANGED } from '../../graphql/subscriptions'\r\n\r\nimport { useEffect } from 'react'\r\n\r\nconst Tulosruutu = ({ kierrosData, tulokset }) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const kierros = tulokset.round\r\n\r\n    const client = useApolloClient()\r\n    const pushed = useSubscription(CARD_CHANGED, { variables: { roundId: kierrosData.data.getRound.id } })\r\n\r\n    useEffect(() => {\r\n        if (!pushed.loading) {\r\n            const dataMuistissa = client.readQuery({ query: GET_ROUND, variables: { roundId: kierrosData.data.getRound.id } })\r\n\r\n            if (dataMuistissa !== null) {\r\n\r\n                client.writeQuery({\r\n                    query: GET_ROUND,\r\n                    variables: { roundId: kierrosData.data.getRound.id },\r\n                    data: {\r\n                        getRound: {\r\n                            ...dataMuistissa.getRound,\r\n                            players: dataMuistissa.getRound.players.map(p =>\r\n                                (p.user.user === pushed.data.changedCard.data.user.user)\r\n                                    ? pushed.data.changedCard.data\r\n                                    : p\r\n                            )\r\n                        }\r\n                    }\r\n                })\r\n\r\n            }\r\n\r\n        }\r\n    }, [pushed])\r\n\r\n    return (\r\n        <div>\r\n            <Grid container className=\"rundiValitsin\">\r\n                <Grid item><IconButton size=\"large\" onClick={() => dispatch({ type: 'DEC_ROUND' })}><ChevronLeft /></IconButton></Grid>\r\n                <Grid item component={'h2'}> {kierros + 1}/20</Grid>\r\n                <Grid item><IconButton onClick={() => dispatch({ type: 'INC_ROUND' })}><ChevronRight /></IconButton></Grid>\r\n            </Grid>\r\n            {kierrosData.data.getRound.players.map(p => <Player key={p.user.user + 'ppp'} player={p} round={kierros} />)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Tulosruutu","import { useQuery } from \"@apollo/client\"\r\nimport { Button, Checkbox, Divider, FormControlLabel, InputLabel, List, ListItem, Modal, Select } from \"@material-ui/core\"\r\nimport { useState } from \"react\"\r\n\r\nimport { GET_ME } from \"../../graphql/queries\"\r\n\r\nconst NewGameModal = ({ open, setModal, handleNewGame }) => {\r\n\r\n    const mina = useQuery( GET_ME )\r\n    const [ pelaajat, setPelaajat ] = useState([])\r\n\r\n    if (mina.loading) {\r\n        return (\r\n            <h2>Loading stuff...</h2>\r\n        )\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        handleNewGame( pelaajat )\r\n    }\r\n    const handleClick = (pelaaja) => {\r\n        if (pelaajat.includes(pelaaja.id)) {\r\n            setPelaajat( pelaajat.filter( p => p !== pelaaja.id ))\r\n        } else {\r\n            setPelaajat( [...pelaajat, pelaaja.id] )\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            <Modal\r\n                open={open}\r\n                onClose={() => setModal(false)}\r\n            >\r\n                <div className=\"newGameModal\">\r\n                    <form onSubmit={handleSubmit}>\r\n                        <h2>Uusi peli</h2>\r\n                        <div>\r\n                            <InputLabel htmlFor=\"age-native-simple\">Pelimoodi</InputLabel>\r\n                            <Select native>\r\n                                <option value={0}>Normaali</option>\r\n                            </Select>\r\n                        </div>\r\n                        <Divider />\r\n                        <div>\r\n                            <h3>Pelaajat</h3>\r\n                            <List>\r\n                            <ListItem>\r\n                                <FormControlLabel control={<Checkbox checked />} label=\"Minä\" />\r\n                            </ListItem>\r\n                            <Kaverivalinta kaverit={mina.data.getMe.friends} handleClick={handleClick} />\r\n                            </List>\r\n                            <Button fullWidth variant=\"contained\" color=\"primary\" type=\"submit\">Aloita</Button>\r\n                            <Button fullWidth onClick={() => setModal(false)} variant=\"contained\" color=\"secondary\" style={{ marginTop: '5px' }}>Kansel</Button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Kaverivalinta = ({ kaverit, handleClick }) => {\r\n    return (\r\n        kaverit.map(k => <ListItem key={k.id}><FormControlLabel control={<Checkbox onChange={() => handleClick(k)} />} label={k.user} /></ListItem>)\r\n    )\r\n}\r\n\r\nexport default NewGameModal","import { Paper } from '@material-ui/core'\r\nimport { ValueAxis, Chart, Title, BarSeries, ArgumentAxis } from '@devexpress/dx-react-chart-material-ui'\r\nimport { Animation } from '@devexpress/dx-react-chart'\r\n\r\nconst BarChart = ({ data, otsikko='', paperProps=null } ) => {\r\n    return (\r\n        <Paper {...paperProps}>\r\n            <Chart data={data} height='250'>\r\n                <Title text={otsikko} />\r\n                <ArgumentAxis />\r\n                <ValueAxis min={0} max={100} />\r\n                <BarSeries\r\n                    argumentField=\"dist\"\r\n                    valueField=\"prossa\"\r\n                />\r\n                <Animation />\r\n            </Chart>\r\n        </Paper>\r\n    )\r\n\r\n}\r\nexport default BarChart","import { tulokset2ChartData } from \"../../utils/stuff\"\r\n\r\nimport BarChart from '../../components/BarChart'\r\n\r\nconst PlayerStats = ({ player }) => {\r\n\r\n    const statsit = tulokset2ChartData(player.tulokset)\r\n    return (\r\n            <BarChart data={statsit} otsikko={player.user.name} paperProps={ {\r\n                elevation: 3,\r\n                style: { marginBottom: '5px' }\r\n            }} />\r\n    )\r\n}\r\nexport default PlayerStats","\r\nconst TabPanel = (props) => {\r\n  \r\n    const { children, value, index, ...other } = props;\r\n  \r\n    return (\r\n      <div\r\n        hidden={value !== index}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n            children\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  export default TabPanel\r\n  ","import { useMutation, useLazyQuery } from '@apollo/client'\r\nimport { Button, Divider, CircularProgress, Typography } from '@material-ui/core'\r\nimport { Tabs, Tab, Backdrop } from '@material-ui/core'\r\nimport { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Tulosruutu from './Tulosruutu'\r\nimport NewGameModal from './NewGameModal'\r\nimport PlayerStats from './PlayerStats'\r\nimport { Redirect } from 'react-router'\r\n\r\nimport TabPanel from '../../components/TabPanel'\r\n\r\nimport { GET_ROUND, GET_GAMES } from '../../graphql/queries'\r\nimport { CREATE_GAME, DELETE_GAME, END_GAME } from '../../graphql/mutations'\r\n\r\nimport { Container } from '@material-ui/core'\r\nimport { setNotification } from '../../reducers/notificationReducer'\r\n\r\nconst Peli = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const [modalOpen, setModal] = useState(false)\r\n    const [tabValue, setTabValue] = useState(0)\r\n\r\n    const tulokset = useSelector(state => state.tulokset)\r\n    const user = useSelector(state => state.user)\r\n\r\n    const [haeRundi, kierrosData] = useLazyQuery(GET_ROUND)\r\n\r\n    const [uusiPeli] = useMutation(CREATE_GAME)\r\n    const [paataPeli] = useMutation(END_GAME)\r\n    const [poistaPeli] = useMutation(DELETE_GAME)\r\n    \r\n    useEffect( () => {\r\n        if (tulokset.roundId && kierrosData.roundId !== tulokset.roundId) {\r\n            try {\r\n                haeRundi({ variables: { roundId: tulokset.roundId } });\r\n            } catch (e) {\r\n                console.log('Virhe peliä hakiessa', e.message)\r\n            }\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [tulokset.roundId])\r\n    const handleNewGame = async (pelaajat) => {\r\n        try {\r\n            const res = await uusiPeli({ variables: { pelaajat: pelaajat }, refetchQueries: [{ query: GET_GAMES } ] })\r\n            dispatch({ type: 'SET_ID', data: { roundId: res.data.createGame } })\r\n            dispatch(setNotification('Uusi peli luotu', 'info'))\r\n        } catch (e) {\r\n            dispatch(setNotification('Virhe uuden pelin luonnissa', 'error'))\r\n            console.log(e.message)\r\n        }\r\n        setModal(false);\r\n    }\r\n    const handleDeleteGame = async () => {\r\n        try {\r\n            await poistaPeli({ variables: { roundId: tulokset.roundId }, refetchQueries: [{ query: GET_GAMES }] })\r\n            dispatch({ type: 'RESET_ROUND' })\r\n            dispatch(setNotification('Peli poistettu', 'success'))\r\n        } catch (e) {\r\n            dispatch(setNotification(`Virhe pelin poistamisessa`, 'error'))\r\n            console.log(e.message)\r\n        }\r\n    }\r\n    const handleEndGame = async () => {\r\n\r\n        try {\r\n            await paataPeli({ variables: { id: tulokset.roundId }, refetchQueries: [{ query: GET_GAMES }] })\r\n            dispatch(setNotification('Peli päätetty', 'warning'))\r\n        } catch (e) {\r\n            console.log('Virhe pelin päättämisessä. ' + e.message)\r\n        }\r\n        return (\r\n            <Redirect to=\"/pelit\" />\r\n        )\r\n\r\n    }\r\n    if (!user.user) {\r\n        return (\r\n            <Redirect to=\"/login\" />\r\n        )\r\n    }\r\n    if (kierrosData.loading) {\r\n        return (\r\n            <Backdrop open={true}>\r\n                <CircularProgress />\r\n            </Backdrop>\r\n\r\n        )\r\n    } \r\n    if (tulokset.roundId === null || !kierrosData.data) {\r\n        return (\r\n            <Container>\r\n                <Typography variant=\"h4\" gutterBottom>Pakko päästä puttaa</Typography>\r\n                <Typography paragraph>\r\n                    Ei aktiivista peliä käynnissä. Aloita joko uusi peli tai jatkaa vanhaa peliä.\r\n                </Typography>\r\n                <Typography paragraph>\r\n                    Vanhan pelin jatkaminen onnistuu aktivoimalla se 'Vanhat peli' -osiosta.\r\n                </Typography>\r\n                <Button onClick={() => setModal(true)} color=\"primary\" variant=\"contained\" size=\"large\" fullWidth>Aloita uusi peli</Button>\r\n\r\n                <NewGameModal open={modalOpen} setModal={setModal} handleNewGame={handleNewGame} />\r\n\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Tabs\r\n                value={tabValue}\r\n                onChange={(event, uusi) => setTabValue(uusi)}\r\n                variant=\"fullWidth\"\r\n                style={{ backgroundColor: '#3f51b5', color: 'white' }}\r\n            >\r\n                <Tab label=\"Peli\" />\r\n                <Tab label=\"Asetukset\" />\r\n                <Tab label=\"Statsit\" />\r\n            </Tabs>\r\n\r\n            <Container>\r\n                <TabPanel value={tabValue} index={0}>\r\n                    <Tulosruutu kierrosData={kierrosData} tulokset={tulokset} />\r\n                </TabPanel>\r\n                <TabPanel value={tabValue} index={1}>\r\n\r\n                    <Typography variant=\"h5\" gutterBottom>Poistu pelistä</Typography>\r\n                    <Typography paragraph>\r\n                        Poistu päävalikkoon. Peli on tallennettu ja tulosten merkkaamista voi jatkaa.\r\n                    </Typography>\r\n                    <Button size=\"large\" onClick={() => dispatch({ type: 'RESET_ROUND' })} variant=\"contained\" color=\"primary\" fullWidth>Poistu pelistä</Button>\r\n\r\n                    <Divider style={{ margin: '15px 0px' }} />\r\n\r\n                    <Typography variant=\"h5\" gutterBottom>Päätä peli</Typography>\r\n                    <Typography paragraph>Peli päätetään. Tulosten kirjaaminen suljetaan. Tulokset lasketaan mukaan statistiikkoihin.</Typography>\r\n                    <Button onClick={handleEndGame} size=\"large\" variant=\"contained\" color=\"primary\" fullWidth>Päätä peli</Button>\r\n\r\n                    <Divider style={{ margin: '15px 0px' }} />\r\n\r\n                    <Typography variant=\"h5\" gutterBottom>Poista peli</Typography>\r\n                    <Typography paragraph>Peli poistetaan</Typography>\r\n                    <Button size=\"large\" onClick={handleDeleteGame} variant=\"contained\" color=\"primary\" fullWidth>Poista peli</Button>\r\n                </TabPanel>\r\n                <TabPanel value={tabValue} index={2}>\r\n                    {kierrosData.data.getRound.players.map(p => <PlayerStats player={p} key={'ps' + p.user.user} />)}\r\n                </TabPanel>\r\n            </Container>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default Peli;","import { useQuery } from '@apollo/client'\r\nimport { ArgumentAxis, ValueAxis, LineSeries, Chart, Title } from '@devexpress/dx-react-chart-material-ui'\r\nimport { Backdrop, CircularProgress, Paper, Grid, Container } from '@material-ui/core'\r\nimport { useSelector } from 'react-redux'\r\nimport { GET_GAMES } from '../../graphql/queries'\r\nimport { laskePisteet, tulokset2ChartData } from '../../utils/stuff'\r\nimport BarChart from '../../components/BarChart'\r\nimport { Animation } from '@devexpress/dx-react-chart'\r\n\r\n\r\nconst Statsit = () => {\r\n\r\n    const statsRawData = useQuery(GET_GAMES)\r\n    const user = useSelector(state => state.user)\r\n\r\n    if (statsRawData.loading) {\r\n        return (\r\n            <Backdrop open={true}>\r\n                <CircularProgress />\r\n            </Backdrop>\r\n        )\r\n    }\r\n    const statsData = statsRawData.data.getGames\r\n    let kaikkiPuttiProssat = tulokset2ChartData()\r\n    let kaikkiPisteet = []\r\n    let maxPisteet = 0\r\n    for (let i = 0; i < statsData.length; i++) {\r\n        \r\n        if (!statsData[i].finished) continue    // Ei lasketa keskeneräisiä pelejä mukaan\r\n\r\n        const player = statsData[i].players.find(p => p.user.user === user.user)\r\n        kaikkiPuttiProssat = tulokset2ChartData(player.tulokset, kaikkiPuttiProssat)\r\n        const pisteet = laskePisteet(player.tulokset)\r\n        if (pisteet > maxPisteet) maxPisteet = pisteet\r\n        kaikkiPisteet.push({ game: i, score: pisteet })\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Paper>\r\n                <Grid>\r\n                    <Grid>\r\n                        Pelejä: {statsData.length}\r\n                    </Grid>\r\n                    <Grid>\r\n                        Paras tulos: {maxPisteet}\r\n                    </Grid>\r\n                </Grid>\r\n            </Paper>\r\n            <BarChart data={kaikkiPuttiProssat} otsikko=\"Puttiprossat\" />\r\n\r\n            <Chart data={kaikkiPisteet} height='200'>\r\n                <Title text=\"Pisteet\" />\r\n                <ArgumentAxis />\r\n                <ValueAxis />\r\n                <LineSeries\r\n                    argumentField=\"game\"\r\n                    valueField=\"score\"\r\n                />\r\n                <Animation />\r\n            </Chart>\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Statsit","\r\nconst reducer = (state = {}, action ) => {\r\n    switch(action.type) {\r\n        case 'SET_USER':\r\n            return {\r\n                user: action.data.user,\r\n                name: action.data.name\r\n            }\r\n        case 'CLEAR_USER':\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const setUser = (name, user) => {\r\n    return {\r\n        type: 'SET_USER',\r\n        data: {\r\n            user,\r\n            name\r\n            \r\n        }\r\n    }\r\n}\r\nexport const clearUser = () => {\r\n    return {\r\n        type: 'CLEAR_USER',\r\n        data: {}\r\n    }\r\n}\r\nexport default reducer","import { useState } from 'react'\r\nimport { Button, TextField, Grid, Backdrop, CircularProgress, Container, Typography, Divider } from '@material-ui/core'\r\nimport { useApolloClient, useMutation } from '@apollo/client'\r\nimport { LOGIN } from '../graphql/mutations'\r\nimport { setUser, clearUser } from '../reducers/userReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst LoginForm = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(state => state.user);\r\n    const [loginProcess, setLoginProcess] = useState(false)\r\n    const [login] = useMutation(LOGIN);\r\n    const client = useApolloClient()\r\n\r\n    const handleLogout = async (e) => {\r\n        await client.clearStore()\r\n        window.localStorage.clear()\r\n        dispatch(clearUser());\r\n        dispatch({ type: 'RESET_ROUND' })\r\n    }\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault()\r\n        setLoginProcess(true);\r\n        login({ variables: { user: e.target.user.value, password: e.target.password.value } }).then(result => {\r\n            window.localStorage.setItem('rageToken', result.data.login.value)\r\n            console.log('Login data: ', result.data.login)\r\n            const sailo = setUser(result.data.login.user.name, result.data.login.user.user);\r\n            dispatch(sailo);\r\n            setLoginProcess(false);\r\n        }).catch(e => {\r\n            dispatch(setNotification('Väärä tunnus tai salasana', 'error'))\r\n            setLoginProcess(false);\r\n        })\r\n    }\r\n    if (user.user) {\r\n        return (\r\n            <Container>\r\n                <Typography variant=\"h4\" gutterBottom>Kirjautunut</Typography>\r\n                <Typography paragraph>Olet kirjautunut tunnuksella <b>{user.user}</b></Typography>\r\n                <Button onClick={handleLogout} variant=\"contained\" color=\"primary\">Kirjaudu ulos</Button>\r\n            </Container>\r\n        )\r\n    }\r\n    return (\r\n        <Container>\r\n            <Backdrop open={loginProcess}>\r\n                <CircularProgress />\r\n            </Backdrop>\r\n            <Typography variant=\"h4\" gutterBottom>Kirjaudu sisään</Typography>\r\n            <form onSubmit={handleLogin}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12}>\r\n                        <TextField name=\"user\" label=\"Tunnus\" variant=\"outlined\" fullWidth />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <TextField name=\"password\" label=\"Salasana\" variant=\"outlined\" type=\"password\" fullWidth />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Button type=\"submit\" variant=\"contained\" color=\"primary\" size=\"large\">Kirjaudu</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n            <Divider />\r\n            <Typography variant=\"h6\">Unohtuiko salasana</Typography>\r\n            <Typography paragraph>\r\n                <Link to=\"/palautus\">Voi ei, unohdin salasanani</Link>\r\n            </Typography>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default LoginForm;","import { useLazyQuery, useQuery } from \"@apollo/client\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { IS_USERNAME_AVAILABLE } from \"../graphql/queries\"\r\n\r\nconst useIsUsernameAvailable = () => {\r\n    \r\n    const [ getName, { loading, data } ] = useLazyQuery(IS_USERNAME_AVAILABLE)\r\n    const [ username, setUsername ] = useState('')\r\n    const [ available, setAvailable] = useState(null)\r\n    const [ timerId, setTimerId ] = useState(null)\r\n\r\n    useEffect( () => {\r\n        if (!loading && data) {\r\n            if (username !== '')\r\n                setAvailable( data.isUsernameAvailable )\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [data, loading])\r\n\r\n    const setName = (name) => {\r\n        setUsername(name)\r\n        if (name === '') setAvailable(null)\r\n        else setAvailable('loading')\r\n        \r\n        if (timerId !== null) clearTimeout(timerId)\r\n        \r\n        const tid = setTimeout( () => {\r\n            getName({ variables: { user: name }})\r\n        }, 1000)\r\n        setTimerId(tid)\r\n    }\r\n    return { username, setName, available }\r\n}\r\nexport default useIsUsernameAvailable","import { Button, CircularProgress, TextField, Typography } from '@material-ui/core'\r\nimport useIsUsernameAvailable from '../../hooks/useIsUsernameAvailable'\r\n\r\nconst FriendRequestForm = ({ handleSendFriendRequest }) => {\r\n\r\n    const { username, setName, available } = useIsUsernameAvailable()\r\n    console.log(username, available)\r\n    return (\r\n        <>\r\n            <Typography variant=\"h5\">Lähetä kaveripyyntö</Typography>\r\n            <form onSubmit={handleSendFriendRequest}>\r\n                <TextField label=\"Nimi\" variant=\"outlined\" name=\"kaveri\" size=\"small\"\r\n                    style={{ color: 'green' }}\r\n                    value={username}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    error={(available === true)}\r\n                    helperText={(available === true) ? 'Nimeä ei löydy' : ''}\r\n                />\r\n                {(available === 'loading' && <span style={{ marginLeft: 10 }}><CircularProgress /></span>)}\r\n                <br /><Button disabled={(available !== false)} type=\"submit\" variant=\"contained\" size=\"large\" color=\"primary\" style={{ marginTop: '5px' }}>Lähetä</Button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\nexport default FriendRequestForm","import { IconButton, Paper, Typography, Button } from '@material-ui/core'\r\nimport { Cancel, Check } from '@material-ui/icons/'\r\n\r\nconst FriendRequests = ({ pyynnot, handleFriendRequest, refetchMe }) => {\r\n    if (pyynnot.length < 1) {\r\n        return (\r\n            <div>\r\n                <Typography variant=\"h5\">Ei kaveripyyntöjä</Typography>\r\n                <Button variant=\"outlined\" fullWidth onClick={refetchMe}>Päivitä kaveripyynnöt</Button>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            <h2>Kaveripyynnöt</h2>\r\n            {pyynnot.map(k => <KaveriKortti handleFriendRequest={handleFriendRequest} kaveri={k} key={k.id} />)}\r\n        </>\r\n    )\r\n}\r\nconst KaveriKortti = ({ kaveri, handleFriendRequest }) => {\r\n    return (\r\n        <Paper elevation={2} style={{ paddingLeft: '5px', display: 'inline-block', width: '100%' }}>\r\n            <div style={{ float: 'left', paddingTop: '10px', fontWeight: 'bold' }}>\r\n                {kaveri.user} ({kaveri.name})\r\n            </div>\r\n            <div style={{ float: 'right' }}>\r\n                <IconButton onClick={() => handleFriendRequest(kaveri.id, true)}>\r\n                    <Check style={{ color: 'green' }} />\r\n                </IconButton>\r\n                <IconButton onClick={() => handleFriendRequest(kaveri.id, false)}>\r\n                    <Cancel style={{ color: 'red' }} />\r\n                </IconButton>\r\n            </div>\r\n\r\n        </Paper>\r\n    )\r\n}\r\nexport default FriendRequests","\r\nimport { useQuery } from '@apollo/client'\r\nimport { useEffect, useState } from 'react'\r\nimport { GET_ME } from '../graphql/queries'\r\n\r\nconst useGetMe = () => {\r\n\r\n    const { loading, data, refetch } = useQuery(GET_ME)\r\n\r\n    const [ me, setMe ] = useState(null)\r\n\r\n    useEffect( () => {\r\n        if (!loading && data) {\r\n            setMe(data.getMe);\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [data, loading])\r\n    return { me, loading, refetch };\r\n}\r\n\r\nexport default useGetMe;","import { useMutation, useQuery } from \"@apollo/client\"\r\nimport FriendRequestForm from \"./FriendRequestForm\"\r\nimport FriendRequests from \"./FriendRequests\"\r\nimport { useDispatch } from 'react-redux'\r\nimport { setNotification } from '../../reducers/notificationReducer'\r\n\r\nimport { CircularProgress, Container, Divider, Typography } from '@material-ui/core'\r\n\r\nimport { ANSWER_FRIEND_REQUEST, SEND_FRIEND_REQUEST } from \"../../graphql/mutations\"\r\nimport { GET_ME } from '../../graphql/queries';\r\n\r\nimport useGetMe from \"../../hooks/useGetMe\"\r\n\r\nconst Kaverit = () => {\r\n\r\n    const { me, loading, refetch } = useGetMe();\r\n\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const [answerFriendRequest] = useMutation(ANSWER_FRIEND_REQUEST, { refetchQueries: [{ query: GET_ME }] })\r\n    const [sendFriendRequest] = useMutation(SEND_FRIEND_REQUEST)\r\n\r\n    const handleSendFriendRequest = (e) => {\r\n        e.preventDefault()\r\n        sendFriendRequest({ variables: { name: e.target.kaveri.value } }).then(res => {\r\n            dispatch(setNotification('Kaveripyyntö lähetetty!', 'success'))\r\n        }).catch(e => {\r\n            dispatch(setNotification('Pyyntö epäonnistui: ' + e.message, 'error'))\r\n        })\r\n        e.target.kaveri.value = ''\r\n    }\r\n    const handleFriendRequest = (friendId, answer) => {\r\n        answerFriendRequest({ variables: { friendId, answer } }).then(res => {\r\n            dispatch(setNotification('Kaveripyyntö hyväksytty', 'success'))\r\n        }).catch(e => {\r\n            dispatch(setNotification('Tapahtui virhe: ' + e.message, 'error'))\r\n        })\r\n    }\r\n    const refetchMe = () => {\r\n        refetch();\r\n    }\r\n    if (loading || !me) {\r\n        return (<CircularProgress />)\r\n    }\r\n    return (\r\n        <Container>\r\n            <Typography variant=\"h4\">Kaverit</Typography>\r\n            <KaveriLista kaverit={me.friends} />\r\n            <Divider />\r\n            <FriendRequests pyynnot={me.friendRequests} handleFriendRequest={handleFriendRequest} refetchMe={refetchMe} />\r\n            <Divider />\r\n            <FriendRequestForm handleSendFriendRequest={handleSendFriendRequest} />\r\n        </Container>\r\n    )\r\n\r\n}\r\nconst KaveriLista = ({ kaverit }) => {\r\n    if (kaverit.length < 1) {\r\n        return (<div>Ei kavereita :(</div>)\r\n    }\r\n    return (\r\n        <div> {kaverit.map(k => <li key={k.id}>{k.user} ({k.name})</li>)}</div>\r\n    )\r\n}\r\nexport default Kaverit","import { Typography, Grid, Paper } from \"@material-ui/core\"\r\n\r\nconst OmatTiedot = ({ me }) => {\r\n    return (\r\n        <div>\r\n            <Typography variant=\"h4\" gutterBottom>Tiedot</Typography>\r\n            <Typography variant=\"h6\">Tunnus</Typography>\r\n            <Typography>{me.user}</Typography>\r\n\r\n            <Typography variant=\"h6\">Näyttönimi</Typography>\r\n            <Typography>{me.name}</Typography>\r\n\r\n            <Typography variant=\"h6\">Sähköposti</Typography>\r\n            <Typography>{me.email}</Typography>\r\n        </div>\r\n    )\r\n}\r\nexport default OmatTiedot","import { Grid, Typography, TextField, Button } from '@material-ui/core'\r\nimport { useState } from 'react'\r\n\r\nconst SalasananVaihto = ({ vaihdaSalasana }) => {\r\n\r\n    \r\n    const [ pwHandler, setPwHandler ] = useState({\r\n        uusiPw: '',\r\n        uusiPw2: '',\r\n        ok: false\r\n    })\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        vaihdaSalasana( { password: pwHandler.uusiPw } )\r\n        setPwHandler( { uusiPw: '', uusiPw2: '', ok: false })\r\n    }\r\n    const handleChange = (e) => {\r\n        const updatedPwHandler = {...pwHandler}\r\n        updatedPwHandler[e.target.name] = e.target.value\r\n        if (updatedPwHandler.uusiPw === updatedPwHandler.uusiPw2 && updatedPwHandler.uusiPw !== '')\r\n            updatedPwHandler.ok = true\r\n        else updatedPwHandler.ok = false\r\n        setPwHandler(updatedPwHandler)\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <Typography variant=\"h5\" gutterBottom>Vaihda salasana</Typography>\r\n\r\n            <Grid container spacing={1}>\r\n                <Grid item xs={12}>\r\n                    <TextField variant=\"outlined\" value={pwHandler.uusiPw} name=\"uusiPw\" label=\"Uusi salasana\" size=\"small\" type=\"password\" onChange={handleChange}/>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <TextField variant=\"outlined\" value={pwHandler.uusiPw2} name=\"uusiPw2\" label=\"Uusi uudestaan\" size=\"small\" type=\"password\" onChange={handleChange} />\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={!pwHandler.ok}>Vaihda</Button>\r\n                </Grid>\r\n            </Grid>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SalasananVaihto","import { Typography, TextField } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst VaihdaEmail = ({ handleChangeEmail }) => {\r\n\r\n    const [newEmail, setNewEmail ] = useState('')\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        handleChangeEmail({ email: newEmail })\r\n        setNewEmail('')\r\n    }\r\n    function validateEmail(email) {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(String(email).toLowerCase());\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <Typography variant=\"h5\" label=\"email\">Vaihda email</Typography>\r\n            <TextField variant=\"outlined\" \r\n                name=\"email\" \r\n                value={newEmail} \r\n                placeholder=\"Uusi email\" \r\n                size=\"small\" \r\n                onChange={(e) => setNewEmail(e.target.value)}\r\n            />\r\n            &nbsp;<Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={!(validateEmail(newEmail))}>Vaihda</Button>\r\n        </form>\r\n    )\r\n\r\n}\r\nexport default VaihdaEmail;","import { Backdrop, CircularProgress, TextField, Button, Container, Typography, Divider, Switch, Grid, FormControlLabel, FormGroup } from \"@material-ui/core\"\r\nimport { useState } from \"react\";\r\n\r\nimport useGetMe from \"../../hooks/useGetMe\";\r\nimport OmatTiedot from \"./OmatTiedot\";\r\n\r\nimport SalasananVaihto from './SalasananVaihto'\r\nimport VaihdaEmail from './VaihdaEmail';\r\n\r\nimport { CHANGE_SETTINGS } from \"../../graphql/mutations\";\r\nimport { useApolloClient, useMutation } from \"@apollo/client\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setNotification } from \"../../reducers/notificationReducer\";\r\n\r\nconst Asetukset = () => {\r\n\r\n    const { me, refetch } = useGetMe();\r\n    const dispatch = useDispatch()\r\n    const [changeSettings] = useMutation(CHANGE_SETTINGS)\r\n    const client = useApolloClient()\r\n\r\n    const handleChangeSettings = (newSettings) => {\r\n        const oldSettings = {\r\n            name: '',\r\n            email: '',\r\n            password: '',\r\n        }\r\n        changeSettings({ variables: { ...oldSettings, ...newSettings } }).then(res => {\r\n            dispatch(setNotification('Tietoja vaihdettu', 'success'))\r\n            refetch()\r\n        }).catch(e => {\r\n            console.log(e)\r\n            dispatch(setNotification(`Virhe! ${e.message}`, 'error'))\r\n        })\r\n    }\r\n    const handleCelarCache = async () => {\r\n        await client.clearStore()\r\n        dispatch( setNotification('Välimuisti tyhjennetty', 'info'))\r\n    }\r\n    if (me === null) {\r\n        return (\r\n            <Backdrop open={true}>\r\n                <CircularProgress />\r\n            </Backdrop>\r\n        )\r\n    }\r\n    return (\r\n        <Container>\r\n            <OmatTiedot me={me} />\r\n            <Divider />\r\n            <Grid container justifycontent=\"space-between\" direction=\"row\" alignItems=\"center\">\r\n                <Grid item xs={8} component={Typography}>\r\n                    Salli kavereiden nähdä tilastoni\r\n                </Grid>\r\n                <Grid item>\r\n                    <Switch color=\"primary\" checked={(me?.shareStatics)} />\r\n                </Grid>\r\n            </Grid>\r\n            \r\n            <Divider />\r\n            <SalasananVaihto vaihdaSalasana={handleChangeSettings} />\r\n            <Divider />\r\n            <VaihdaNayttonimi handleChangeName={handleChangeSettings} />\r\n            <Divider />\r\n            <VaihdaEmail me={me} handleChangeEmail={handleChangeSettings} />\r\n            <Divider />\r\n            <Typography variant=\"h5\">Tyhjennä välimuisti</Typography>\r\n            <Typography paragraph>Jos tuntuu että asiat eivät näy oikein, voit yrittää tyhjentää välimuistin.</Typography>\r\n            <Button variant=\"outlined\" color=\"secondary\" fullWidth onClick={handleCelarCache}>Tyhjennä välimuisti</Button>\r\n        </Container>\r\n    )\r\n\r\n}\r\nconst VaihdaNayttonimi = ({ handleChangeName }) => {\r\n\r\n    const [newName, setNewName] = useState('')\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        handleChangeName({ name: newName })\r\n        setNewName('')\r\n\r\n    }\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <Typography variant=\"h5\">Vaihda näyttönimi</Typography>\r\n            <TextField value={newName} variant=\"outlined\" label=\"Uusi nimi\" size=\"small\" onChange={(e) => setNewName(e.target.value)} />\r\n            &nbsp;<Button variant=\"contained\" type=\"submit\" disabled={(newName.length < 3)} color=\"primary\">Ok</Button>\r\n        </form>\r\n\r\n    )\r\n}\r\nexport default Asetukset","import { Button as Nbutton } from '@material-ui/core'\r\n\r\nconst Button = ({ children, variant=\"contained\", color=\"primary\", ...props }) => {\r\n    const style = {\r\n        margin: '7px 0px',\r\n    }\r\n    return <Nbutton {...props} variant={variant} color={color} style={style}>{children}</Nbutton>\r\n}\r\n\r\nexport default Button;","import { useMutation } from \"@apollo/client\"\r\nimport { TextField, Divider, Container, Typography, Grid } from \"@material-ui/core\"\r\nimport { useState } from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { Redirect } from \"react-router\"\r\nimport { setNotification } from \"../../reducers/notificationReducer\"\r\n\r\nimport { CREATE_USER } from '../../graphql/mutations'\r\n\r\nimport Button from '../../components/Button'\r\nimport useIsUsernameAvailable from \"../../hooks/useIsUsernameAvailable\"\r\n\r\nconst CreateUserForm = () => {\r\n\r\n    const [createUser, cuData] = useMutation(CREATE_USER)\r\n    const dispatch = useDispatch()\r\n\r\n    const { username, setName, available } = useIsUsernameAvailable()\r\n\r\n    const [errors, setErrors] = useState({ tunnus: false, password: false })\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const vars = {\r\n            user: e.target.user.value,\r\n            password: e.target.password.value,\r\n            name: e.target.name.value,\r\n            email: e.target.email.value\r\n        }\r\n        if (vars.user === '') {\r\n            setErrors({ ...errors, tunnus: true })\r\n        } else if (vars.password === '' || vars.password !== e.target.password2.value) {\r\n            setErrors({ ...errors, password: true })\r\n        }\r\n        else {\r\n            try {\r\n                await createUser({ variables: vars })\r\n                dispatch(setNotification('Tunnukset luotiin onnistuneesti', 'success'))\r\n            } catch (e) {\r\n                dispatch(setNotification('Virhe tunnusten luonnissa: ' + e.message, 'error'))\r\n            }\r\n        }\r\n    }\r\n    if (cuData.loading) {\r\n        return (<h2>Creating user...</h2>)\r\n    }\r\n    if (cuData.called && !cuData.error) {\r\n        return (<Redirect to=\"/login\" />)\r\n    }\r\n    return (\r\n        <Container>\r\n            <Typography variant=\"h4\">Luo tunnus</Typography>\r\n            <Typography variant=\"h5\">Perustiedot</Typography>\r\n            <form onSubmit={handleSubmit}>\r\n                <Grid container direction=\"column\" spacing={1}>\r\n                    <Grid item>\r\n                        <TextField error={errors.tunnus || available === false } name=\"user\" label=\"Tunnus\" variant=\"outlined\" required \r\n                            value={username}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            helperText={ (available === false) ? 'Tunnus on jo käytössä' : ''}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <TextField error={errors.password} name=\"password\" type=\"password\" label=\"Salasana\" variant=\"outlined\" required  />\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <TextField error={errors.password} name=\"password2\" label=\"Salasana uudestaan\" type=\"password\" variant=\"outlined\" required />\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <Divider />\r\n                <Typography variant=\"h5\" gutterBottom>Lisätiedot</Typography>\r\n                <Typography paragraph>Ei pakollisia. Sähköpostiosoitteen antaminen mahdollistaa tunnusten palauttamisen.</Typography>\r\n\r\n                <Grid container direction=\"column\" spacing={1}>\r\n                    <Grid item>\r\n                    <TextField name=\"name\" label=\"Nimi\" variant=\"outlined\" />\r\n\r\n                    </Grid>\r\n                    <Grid item>\r\n                    <TextField name=\"email\" label=\"Sähköposti\" variant=\"outlined\" fullWidth />\r\n\r\n                    </Grid>\r\n                    <Grid item>\r\n                    <Button disabled={(available === false)} type=\"submit\" size=\"large\" variant=\"contained\"color=\"primary\">Luo tunnus</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CreateUserForm","import { Button, Card, CardHeader, CardContent, Collapse } from '@material-ui/core'\r\nimport { laskePisteet, timestamp2String, tulokset2ChartData } from '../../utils/stuff'\r\nimport { useState } from 'react'\r\nimport { IconButton, Typography } from '@material-ui/core'\r\n\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\n\r\nimport BarChart from '../../components/BarChart'\r\n\r\nconst Pelikortti = ({ peli, aktivoi, poista, user }) => {\r\n\r\n    let { tulokset } = peli.players.find(p => p.user.user === user)\r\n    const pisteet = laskePisteet(tulokset)\r\n\r\n    const [showStats, setShotStats] = useState(false)\r\n\r\n    if (tulokset.length === 0) {\r\n        tulokset = [0]\r\n    }\r\n    return (\r\n        <Card style={{ marginBottom: '5px' }} variant=\"outlined\">\r\n            <CardHeader\r\n                avatar= {\r\n                    (!peli.finished && <WarningIcon style={{color: 'orange'}}/>)\r\n                }\r\n                action={\r\n                    <IconButton onClick={() => setShotStats(!showStats)} size=\"small\">\r\n                        <ExpandMoreIcon />\r\n                    </IconButton>\r\n                }\r\n\r\n                title={ (showStats) ? pisteet : null}\r\n                subheader={ ((showStats) ? timestamp2String(peli.timestamp) : pisteet) }\r\n            />\r\n            <Collapse in={showStats} unmountOnExit timeout=\"auto\">\r\n                <CardContent style={{paddingTop: '0px'}}>\r\n                    <Button size=\"small\" variant=\"outlined\" color=\"primary\" onClick={() => aktivoi(peli.id)}>Aktivoi</Button>&nbsp;                                 \r\n                    <Button size=\"small\" variant=\"outlined\" color=\"secondary\" onClick={() => poista(peli.id)}>Poista</Button>\r\n                    <Typography>\r\n                        Puttiprossa: { (tulokset.reduce((total, cur) => total+cur) / (tulokset.length*5) * 100).toFixed()}\r\n                    </Typography>\r\n                    <BarChart data={tulokset2ChartData(tulokset)} />\r\n                </CardContent>\r\n            </Collapse>\r\n        </Card>\r\n    )\r\n\r\n}\r\nexport default Pelikortti","import { Button, Container, Dialog, Grid, Typography } from \"@material-ui/core\"\r\n\r\nconst YesNoModal = ({ open, \r\n    title = \"Oletko varma?\", \r\n    text = \"Aivan varma?\",\r\n    close=null,\r\n    onYesClick,\r\n    onNoClick=null\r\n}) => {\r\n    if (!open) return null\r\n    return (\r\n        <Dialog open onClick={close}>\r\n            <Container style={{ paddingBottom: '15px'}}>\r\n                <Typography variant=\"h4\" gutterBottom>{title}</Typography>\r\n                <Typography paragraph>{text}</Typography>\r\n                <Grid container style={{ flexGrow: 1, width: '100%', textAlign: 'center' }}>\r\n                    <Grid item xs={6} >\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={onYesClick}>Kyllä</Button>\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                        <Button variant=\"contained\" color=\"secondary\" onClick={onNoClick}>Ei</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Container>\r\n        </Dialog>\r\n    )\r\n}\r\nexport default YesNoModal","import { useMutation, useQuery } from \"@apollo/client\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { Redirect } from \"react-router\"\r\nimport { GET_GAMES } from \"../../graphql/queries\"\r\nimport { DELETE_GAME } from '../../graphql/mutations'\r\nimport { Backdrop, CircularProgress, Container, Typography } from '@material-ui/core'\r\nimport Pelikortti from \"./Pelikortti\"\r\n\r\nimport { setNotification } from '../../reducers/notificationReducer'\r\nimport { useState } from \"react\"\r\nimport YesNoModal from \"../../components/YesNoModal\"\r\n\r\nconst VanhatPelit = () => {\r\n\r\n    const getGames = useQuery(GET_GAMES)\r\n    const user = useSelector(state => state.user)\r\n    const dispatch = useDispatch()\r\n    const [poistaPeliId, setPoistaPeliId] = useState(null)\r\n    const [poistaPeli] = useMutation(DELETE_GAME)\r\n\r\n    const aktivoi = (g) => {\r\n        dispatch({ type: 'SET_ID', data: { roundId: g } })\r\n        dispatch(setNotification('Peli akitoivu, valitse \\'Uusi peli\\'', 'info'))\r\n    }\r\n    const handlePoistaPeli = async () => {\r\n        console.log('Poistetaan', poistaPeliId)\r\n        try {\r\n            poistaPeli({ variables: { roundId: poistaPeliId }, refetchQueries: [{ query: GET_GAMES }] })\r\n            dispatch( setNotification('Peli poistettu', 'success'))\r\n        } catch (e) {\r\n            dispatch( setNotification('Virhe pelin poistamisessa', 'error'))\r\n            console.log(e.message)\r\n        }\r\n    }\r\n    if (!user.user) {\r\n        return (\r\n            <Redirect to=\"/login\" />\r\n        )\r\n    }\r\n\r\n    if (getGames.loading) {\r\n        return (\r\n            <Backdrop open={true}>\r\n                <CircularProgress />\r\n            </Backdrop>\r\n        )\r\n    }\r\n    console.log(getGames)\r\n    return (\r\n        <div>\r\n            <Container>\r\n                <Typography variant=\"h5\" gutterBottom>Vanhat peli</Typography>\r\n                {getGames.data.getGames.map(g =>\r\n                    <Pelikortti user={user.user}\r\n                        aktivoi={aktivoi} poista={(roundId) => setPoistaPeliId(roundId)}\r\n                        peli={g} key={g.id}\r\n                    />)}\r\n            </Container>\r\n            <YesNoModal open={(poistaPeliId)}\r\n                title=\"Oletko varma?\"\r\n                text=\"Haluatko varmasti poistaa pelin?\"\r\n                close={() => setPoistaPeliId(false)}\r\n                onYesClick={handlePoistaPeli}\r\n            />\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default VanhatPelit","const { makeStyles } = require(\"@material-ui/core\");\r\n\r\nconst useStyles = makeStyles( {\r\n    paper: {\r\n        padding: 5,\r\n        paddingLeft: 15,\r\n        marginBottom: 20\r\n    },\r\n});\r\nexport default useStyles;","import { Container, Typography, Paper, Link } from '@material-ui/core'\r\nimport useStyles from '../../hooks/useStyles'\r\n\r\nimport Aos from 'aos';\r\nimport 'aos/dist/aos.css';\r\nimport { useEffect } from 'react';\r\n\r\nconst Etusivu = () => {\r\n\r\n    const tyylit = useStyles()\r\n\r\n    useEffect(() => {\r\n        Aos.init({ duration: 3000 })\r\n    }, [])\r\n\r\n    return (\r\n        <Container>\r\n            <Paper className={tyylit.paper} id=\"iso-naytto\">\r\n                <Typography variant=\"h4\">\r\n                    Onpas iso näyttö\r\n                </Typography>\r\n                <Typography paragraph>\r\n                    Tämä sovellus on suunniteltu käytettäväksi kännykän pikkuruiselta näytöltä.\r\n                </Typography>\r\n            </Paper>\r\n            <Paper className={tyylit.paper}>\r\n                <Typography variant=\"h4\">\r\n                    Mitä tämä on?\r\n                </Typography>\r\n                <Typography paragraph data-aos=\"fade-up\">\r\n                    Rageputt on Fullstackopen 2021 -kurssin harjoitustyön tulos. Fullstackopen on Helsingin yliopiston\r\n                    järjestämä kurssi jossa tutustutaan JavaScriptilla tapahtuvaan moderniin websovelluskehitykseen. Pääpaino on\r\n                    React-kirjaston avulla toteutettavissa single page -sovelluksissa, ja niitä tukevissa Node.js:llä toteutetuissa\r\n                    REST-rajapinnoissa.\r\n                </Typography>\r\n                <Typography paragraph>\r\n                    <Link>fullstackopen.com</Link>\r\n                </Typography>\r\n            </Paper>\r\n            <Paper className={tyylit.paper} data-aos=\"fade-up\">\r\n                <Typography variant=\"h4\">\r\n                    Rageputt\r\n                </Typography>\r\n                <Typography paragraph>\r\n                    Sovelluksen idea on pitää kirjaa frisbeegolffin JYLY-puttipelin tuloksista. Tulokset tallentuvat palvelimelle\r\n                    reaaliaikaisesti. Pelejä voi pelata yksin tai yhdessä kaverin kanssa. Jokaisella peliin osallistuvalla tulee\r\n                    olla oma tunnus. Pelatessa porukalla tarvitsee vain yhden henkilön kirjata tuloksia sillä tulokset päivittyvät\r\n                    automaattisesti kaikille pelaajille.\r\n                </Typography>\r\n\r\n            </Paper>\r\n            <Paper className={tyylit.paper} data-aos=\"fade-up\">\r\n                <Typography variant=\"h4\">\r\n                    JYLY?!?\r\n                </Typography>\r\n                <Typography paragraph>\r\n                    JYLY Putting game is a putt practice drill/game created by Markus Lindqvist\r\n                    (found by nickename JYLY in dgcr forums as well as frisbeegolf-forum). The drill\r\n                    emphasizes putting from various distances. The more putts you sink and the further\r\n                    you do it, more points you get. (copypaste)\r\n                </Typography>\r\n            </Paper>\r\n            <Paper className={tyylit.paper} data-aos=\"fade-up\">\r\n                <Typography variant=\"h4\">\r\n                    Kerro lisää\r\n                </Typography>\r\n                <Typography paragraph>\r\n                    Jotta voit käyttää sovellusta, tulee sinun luoda oma tunnus. Tunnuksen luomiseen riittää vain että keksit itsellesi\r\n                    tunnuksen ja salasanan. Voit myös antaa sähköpostiosoitteesi siltä varalta että unohdat\r\n                    salasanasi.\r\n                </Typography>\r\n                <Typography paragraph>\r\n                    Tunnuksen luotuasi voit aloittaa armottoman puttaamisen. Myöhemmin kun on liian pimeää puttaamiselle, voit ihailla ihanaa\r\n                    diagrammidataa!\r\n                </Typography>\r\n                <Typography paragraph>\r\n                    Jos satut omistamaan ystäviä, voit lähettää heille kaveripyynnön ja lisätä heidät ystäviksesi.\r\n                    Tämän jälkeen voitte yhdessä tuumin puttailla toisianne.\r\n                </Typography>\r\n            </Paper>\r\n            <Paper className={tyylit.paper} data-aos=\"fade-up\">\r\n                <Typography variant=\"h4\">\r\n                    Vanhan pelin jatkaminen\r\n                </Typography>\r\n                <Typography paragraph>\r\n                    Jos haluat jatkaa vanhaa peliä, valitse 'vanhat pelit' -osiosta kyseinen peli ja paina aktivointinappia. Tämän\r\n                    jälkeen voit jatkaa tulosten kirjaamista 'uusi peli' -sivulla.\r\n                </Typography>\r\n                <Typography paragraph>\r\n                    Avoimen pelin tunnistaa oranssista kolmiosta.\r\n                </Typography>\r\n\r\n            </Paper>\r\n            <Paper className={tyylit.paper} data-aos=\"fade-up\">\r\n                <Typography variant=\"h4\">\r\n                    Pelin päättäminen\r\n                </Typography>\r\n                <Typography paragraph>\r\n                    Kun peli on päätetty peliasetukse sivulta, tulosten kirjaaminen estetään ja tulokset otetaan huomioon statistiikka-sivulla.\r\n                </Typography>\r\n            </Paper>\r\n\r\n\r\n        </Container>\r\n\r\n    )\r\n}\r\nexport default Etusivu\r\n","import { useMutation } from \"@apollo/client\"\r\nimport { Container, Typography, TextField } from \"@material-ui/core\"\r\nimport { useState } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { RESTORE_ACCOUNT } from \"../graphql/mutations\"\r\nimport Button from './Button'\r\n\r\nconst RestoreAccount = () => {\r\n    const [mailSent, setMailSent ] = useState(false)\r\n    const [ restoreAccount ] = useMutation( RESTORE_ACCOUNT )\r\n\r\n    const handleResetAccount = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            await restoreAccount( { variables: { email: e.target.email.value }} )\r\n            setMailSent(true)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n        e.target.email.value = ''\r\n    }\r\n\r\n    if (mailSent) {\r\n        return (\r\n            <Container>\r\n                <Typography variant=\"h4\" gutterBottom>Salasana lähetetty</Typography>\r\n                <Typography paragraph>Kertakäyttöinen salasana on lähetetty sähköpostiisi, olettaen että annoit\r\n                oikean sähköpostiosoitteen.</Typography>\r\n                <Typography paragraph>Tarkista sähköpostisi, sen jälkeen <Link to=\"/login\">kirjaudu sisään</Link>.</Typography>\r\n            </Container>\r\n        )\r\n    }\r\n    return (\r\n        <Container>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n                Tunnuksen palautus\r\n            </Typography>\r\n            <Typography paragraph>\r\n                Kirjoita alla olevaan kenttään sähköpostiosoitteesi. Kertakäyttöinen salasana lähetetään antamaasi sähköpostiosoitteeseen.\r\n                Mikäli et koskaan liittänyt sähköpostiosoitetta tunnukseesi niin... tough luck.\r\n            </Typography>\r\n            <form onSubmit={handleResetAccount}>\r\n                <TextField label=\"Sähköpostiosoite\" name=\"email\" variant=\"outlined\" fullWidth />\r\n                <Button type=\"submit\">Palauta</Button>\r\n            </form>\r\n        </Container>\r\n    )\r\n}\r\nexport default RestoreAccount","import React, { useEffect, useState } from 'react';\nimport { Route, Switch } from 'react-router-dom'\n\nimport Notification from './components/Notification'\nimport Vetomenu from './components/Vetomenu'\nimport YlaPalkki from './components/YlaPalkki';\n\nimport Peli from './pages/Peli';\nimport Statsit from './pages/Statsit'\nimport LoginForm from './components/LoginForm'\nimport Kaverit from './pages/Kaverit'\nimport Asetukset from './pages/Asetukset'\nimport CreateUserForm from './pages/CreateUser';\nimport VanhatPelit from './pages/VanhatPelit';\nimport Etusivu from './pages/Etusivu'\n\nimport { setUser } from './reducers/userReducer';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport useGetMe from './hooks/useGetMe';\nimport RestoreAccount from './components/RestoreAccount';\n\n\nfunction App() {\n\n  const [menuOpen, setMenuOpen] = useState(false)\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n\n  const { me, loading } = useGetMe();\n\n  const openMenu = () => {\n    setMenuOpen(true)\n  }\n  useEffect(() => {\n      if (!loading && me != null && !user.user) {\n        dispatch( setUser( me.name, me.user ))\n      }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [me] )\n\n  return (\n    <div>\n\n      <YlaPalkki openMenu={openMenu} />\n      <Vetomenu menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\n\n      <Notification />\n        <Switch>\n          <Route path=\"/kaverit\">\n            <Kaverit />\n          </Route>\n          <Route path=\"/login\" >\n            <LoginForm />\n          </Route>\n          <Route path=\"/vanhat\" >\n            <VanhatPelit />\n          </Route>\n          <Route path=\"/peli\">\n            <Peli />\n          </Route>\n          <Route path=\"/stats\">\n            <Statsit />\n          </Route>\n          <Route path=\"/createUser\">\n            <CreateUserForm />\n          </Route>\n          <Route path=\"/asetukset\">\n            <Asetukset />\n          </Route>\n          <Route path=\"/palautus\">\n            <RestoreAccount />\n          </Route>\n          <Route path=\"/\">\n           <Etusivu />\n          </Route>\n        </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { setContext } from 'apollo-link-context'\r\nimport { ApolloClient, HttpLink, InMemoryCache, split } from '@apollo/client'\r\n\r\nimport { getMainDefinition } from '@apollo/client/utilities';\r\nimport { WebSocketLink } from '@apollo/client/link/ws'\r\n\r\n\r\nlet ApolloUri = 'https://rageputt.herokuapp.com/graphql'\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('Development mode selected!')\r\n  ApolloUri = 'http://localhost:4000/graphql'\r\n}\r\n\r\nconst httpLink = new HttpLink({ uri: ApolloUri })\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  const token = localStorage.getItem('rageToken')\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `bearer ${token}` : null\r\n    }\r\n  }\r\n})\r\n\r\nconst socketLink = new WebSocketLink({\r\n  uri: (process.env.NODE_ENV !== 'production') ? 'ws://localhost:4000/graphql' : 'wss://rageputt.herokuapp.com/graphql',\r\n  options: {\r\n    reconnect: true\r\n  }\r\n})\r\n\r\nconst splitLink = split(\r\n  ({ query }) => {\r\n    const definition = getMainDefinition(query)\r\n    return (\r\n      definition.kind === 'OperationDefinition' &&\r\n      definition.operation === 'subscription'\r\n    )\r\n  },\r\n  socketLink,\r\n  authLink.concat(httpLink)\r\n\r\n)\r\n\r\nconst client = new ApolloClient({\r\n  cache: new InMemoryCache(),\r\n  link: splitLink,\r\n  connectToDevTools: true,\r\n})\r\n\r\nexport default client;","\r\nconst reducer = (state = {round: 0, roundId: null}, action) => {\r\n    switch(action.type) {\r\n        case 'INC_ROUND':\r\n            if (state.round < 19)\r\n                return {...state, round: state.round + 1 }\r\n            else return state;\r\n        case 'DEC_ROUND':\r\n            if (state.round >= 1)\r\n                return {...state, round: state.round - 1 } \r\n            else return state;\r\n        case 'SET_ID':\r\n            return { ...state, roundId: action.data.roundId }\r\n        case 'INIT_ROUND':\r\n            return action.data;\r\n        case 'RESET_ROUND':\r\n            return { round: 0, roundId: null }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import { combineReducers, createStore } from 'redux';\r\nimport tuloksetReducer from '../reducers/tuloksetReducer'\r\nimport userReducer from '../reducers/userReducer'\r\nimport notificationReducer from '../reducers/notificationReducer'\r\n\r\nconst reducers = combineReducers({\r\n    tulokset: tuloksetReducer,\r\n    user: userReducer,\r\n    notification: notificationReducer\r\n})\r\n\r\nconst store = createStore(reducers);\r\n\r\nexport default store\r\n","import { createMuiTheme } from \"@material-ui/core\"\r\nimport { red } from \"@material-ui/core/colors\";\r\n\r\nconst theme = createMuiTheme( {\r\n    typography: {\r\n        fontFamily: 'Quicksand',\r\n        fontWeightLight: 300,\r\n        fontWeightMedium: 500,\r\n        fontWeightRegular: 400,\r\n        fontWeightBold: 700,\r\n        h3: {\r\n            marginBottom: 15,\r\n        },\r\n        h4: {\r\n            marginBottom: 15,\r\n        },\r\n        h5: {\r\n            marginBottom: 15\r\n        }\r\n    },\r\n    palette: {\r\n        secondary: red\r\n    }\r\n});\r\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom'\n\nimport { Provider } from 'react-redux'\n\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nimport { ApolloProvider } from '@apollo/client'\nimport { ThemeProvider } from '@material-ui/styles';\n\nimport client from './utils/apolloClient';\nimport store from './utils/store'\n\nimport theme from './utils/theme';\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <Provider store={store}>\n      <Router>\n        <ThemeProvider theme={theme}>\n          <App />\n        </ThemeProvider>\n      </Router>\n    </Provider>\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n"],"sourceRoot":""}