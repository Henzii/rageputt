{"version":3,"sources":["queries.js","Peli/Player.js","utils/stuff.js","Peli/NewGameModal.js","Peli/index.js","reducers/notificationReducer.js","components/Notification.js","components/Vetomenu.js","reducers/userReducer.js","components/LoginForm.js","Kaverit/FriendRequestForm.js","Kaverit/FriendRequests.js","Kaverit/index.js","components/CreateUserForm.js","VanhatPelit/Pelikortti.js","VanhatPelit/index.js","App.js","serviceWorkerRegistration.js","reducers/tuloksetReducer.js","store.js","index.js"],"names":["LOGIN","gql","GET_ME","CREATE_GAME","GET_GAMES","SET_SCORE","CREATE_USER","GET_ROUND","ANSWER_FRIEND_REQUEST","SEND_FRIEND_REQUEST","RadioButtons","i","palautus","push","FormControlLabel","labelPlacement","value","label","control","Radio","color","size","style","padding","Player","player","round","roundData","useSelector","state","tulokset","useMutation","refetchQueries","query","variables","roundId","setScore","distance","pisteet","dist","length","laskePisteet","putteja","isNaN","console","log","user","name","className","RadioGroup","row","whiteSpace","onChange","e","target","score","Number","NewGameModal","open","setModal","handleNewGame","Modal","onClose","onSubmit","InputLabel","htmlFor","Select","native","Divider","Checkbox","checked","Button","fullWidth","variant","type","onClick","marginTop","Peli","dispatch","useDispatch","useState","modalOpen","useLazyQuery","haeRundi","kierrosData","uusiPeli","a","preventDefault","res","data","createGame","to","loading","called","kierros","Grid","container","item","IconButton","ChevronLeft","component","ChevronRight","getRound","players","map","p","setNotification","message","reducer","alive","action","Notification","notification","Snackbar","autoHideDuration","Alert","severity","Vetomenu","menuOpen","setMenuOpen","notLogged","Drawer","anchor","List","ListItem","button","Link","disabled","setUser","LoginForm","loginProcess","setLoginProcess","login","client","useApolloClient","handleLogout","clearStore","window","localStorage","clear","handleLogin","password","then","result","setItem","sailo","catch","Backdrop","CircularProgress","TextField","FriendRequestForm","handleSendFriendRequest","KaveriKortti","kaveri","handleFriendRequest","Paper","elevation","paddingLeft","display","width","float","paddingTop","fontWeight","id","Check","Cancel","FriendRequests","pyynnot","k","KaveriLista","kaverit","Kaverit","mina","useQuery","answerFriendRequest","sendFriendRequest","getMe","friends","friendRequests","friendId","answer","CreateUserForm","createUser","cuData","tunnus","errors","setErrors","handleSubmit","vars","email","password2","error","Container","Pelikortti","peli","aktivoi","marginBottom","VanhatPelit","getGames","g","App","gotme","useEffect","token","getItem","otaToken","AppBar","position","Toolbar","edge","Typography","flexGrow","path","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","reducers","combineReducers","tuloksetReducer","userReducer","notificationReducer","store","createStore","authLink","setContext","_","headers","authorization","httpLink","HttpLink","uri","ApolloClient","cache","InMemoryCache","link","concat","ReactDOM","render","ApolloProvider","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.d3bc1e1d.chunk.js","sourcesContent":["import { gql } from '@apollo/client'\r\nexport const LOGIN = gql`\r\n    mutation login($user: String!, $password: String!) {\r\n        login(\r\n            user: $user\r\n            password: $password\r\n        ) {\r\n            value\r\n            user { user name }\r\n        }\r\n    }\r\n\r\n\r\n`\r\nexport const GET_ME = gql`\r\n    query getMe {\r\n        getMe{\r\n           name\r\n           user\r\n           friends { user name id }\r\n           friendRequests { user name id }\r\n        }\r\n    }\r\n`\r\nexport const CREATE_GAME = gql`\r\n    mutation createGame {\r\n        createGame\r\n    }\r\n`\r\nexport const GET_GAMES = gql`\r\n    query getGames {\r\n        getGames\r\n    }\r\n`\r\nexport const SET_SCORE = gql`\r\n    mutation setScore($roundId: String!, $round: ID!, $player: String!, $score: Int!) {\r\n        setScore(\r\n            roundId: $roundId\r\n            round: $round\r\n            player: $player\r\n            score: $score\r\n        ) {\r\n            finished\r\n            timestamp\r\n            players {\r\n                user { user }\r\n                tulokset\r\n            }\r\n        }\r\n    }\r\n`\r\nexport const CREATE_USER = gql`\r\n    mutation createUser($user: String!, $password: String!, $name: String, $email: String) {\r\n        createUser(\r\n            user: $user\r\n            password: $password\r\n            name: $name\r\n            email: $email\r\n        ) {\r\n            user\r\n        }\r\n    }\r\n`\r\nexport const GET_ROUND = gql`\r\n    query getRound($roundId: String!) {\r\n        getRound(\r\n            roundId: $roundId\r\n        ) {\r\n            finished\r\n            timestamp\r\n            players {\r\n                user { user name }\r\n                tulokset\r\n            }\r\n        }\r\n    }\r\n`\r\nexport const ANSWER_FRIEND_REQUEST = gql`\r\n    mutation handleFriendRequest($friendId: String!, $answer: Boolean!) {\r\n        handleFriendRequest(\r\n            friendId: $friendId\r\n            action: $answer\r\n        )\r\n    }\r\n`\r\nexport const SEND_FRIEND_REQUEST = gql`\r\n    mutation sendFriendRequest($name: String!) {\r\n        sendFriendRequest(\r\n            fName: $name\r\n        )\r\n    }\r\n`","import { useMutation } from \"@apollo/client\"\r\nimport { FormControlLabel, Radio, RadioGroup } from \"@material-ui/core\"\r\nimport { useSelector } from 'react-redux'\r\nimport { SET_SCORE, GET_ROUND } from \"../queries\"\r\n\r\nimport { laskePisteet } from '../utils/stuff'\r\n\r\nconst Player = ({ player, round }) => {\r\n\r\n    const roundData = useSelector(state => state.tulokset)\r\n\r\n    const [setScore] = useMutation(SET_SCORE, {\r\n        refetchQueries: [{ query: GET_ROUND, variables: { roundId: roundData.roundId } }]\r\n    })\r\n\r\n\r\n    const handleChange = (e) => {\r\n        console.log('Clickkiä arvoon ', e.target.value)\r\n        setScore({\r\n            variables: {\r\n                roundId: roundData.roundId,\r\n                round: roundData.round,\r\n                player: player.user.user,\r\n                score: Number(e.target.value)\r\n            }\r\n        })\r\n    }\r\n    const distance = (round > 0 ) ? 5 + player.tulokset[ round-1 ] : 10\r\n    const pisteet = laskePisteet(player.tulokset)\r\n    let putteja = player.tulokset[round]\r\n    if (isNaN(putteja)) putteja = null\r\n    console.log(putteja)\r\n    return (\r\n        <div>\r\n            <h2>{player.user.name} { (distance) ? distance : ' xx '}m - {pisteet}</h2>\r\n            <div className=\"tulosValitsin\">\r\n                <RadioGroup row style={{ whiteSpace: 'nowrap' }} value={putteja} onChange={handleChange}>\r\n                    <RadioButtons />\r\n                </RadioGroup>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst RadioButtons = () => {\r\n    const palautus = []\r\n    var i\r\n    for (i = 0; i < 6; i++) {\r\n        palautus.push(\r\n            <FormControlLabel\r\n                labelPlacement=\"top\"\r\n                key={i}\r\n                value={i}\r\n                label={i}\r\n                control={\r\n                    <Radio color=\"primary\" size=\"small\"\r\n                        style={{ padding: '0px' }}\r\n                    />}\r\n            />)\r\n    }\r\n    return palautus;\r\n}\r\n\r\nexport default Player","export const laskePisteet = (tulokset) => {\r\n\r\n    let pisteet = 0\r\n    let dist = 10\r\n\r\n    for (var i = 0; i < tulokset.length; i++ ) {\r\n        if (!tulokset[i]) return pisteet\r\n        pisteet += tulokset[i]*dist\r\n        dist = 5+tulokset[i]\r\n    }\r\n    return pisteet\r\n}\r\n","import { Button, Checkbox, Divider, FormControlLabel, InputLabel, makeStyles, Modal, Select } from \"@material-ui/core\"\r\n\r\nconst NewGameModal = ({ open, setModal, handleNewGame }) => {\r\n    return (\r\n        <div>\r\n            <Modal\r\n                open={open}\r\n                onClose={() => setModal(false)}\r\n            >\r\n                <div className=\"newGameModal\">\r\n                    <form onSubmit={handleNewGame}>\r\n                        <h2>Uusi peli</h2>\r\n                        <div>\r\n                            <InputLabel htmlFor=\"age-native-simple\">Pelimoodi</InputLabel>\r\n                            <Select native>\r\n                                <option value={0}>Normaali</option>\r\n                            </Select>\r\n                        </div>\r\n                        <Divider />\r\n                        <div>\r\n                            <h3>Pelaajat</h3>\r\n                            <FormControlLabel control={<Checkbox name=\"pelaaja\" checked />} label=\"Minä\" />\r\n                            <Button fullWidth variant=\"contained\" color=\"primary\" type=\"submit\">Aloita</Button>\r\n                            <Button fullWidth onClick={() => setModal(false)} variant=\"contained\" color=\"secondary\" style={{ marginTop: '5px' }}>Kansel</Button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\nexport default NewGameModal","import { useMutation, useLazyQuery } from '@apollo/client'\r\nimport { Button } from '@material-ui/core'\r\nimport { Grid, IconButton } from '@material-ui/core'\r\nimport { ChevronLeft, ChevronRight } from '@material-ui/icons'\r\nimport { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { CREATE_GAME, GET_ROUND } from '../queries'\r\nimport Player from './Player'\r\nimport NewGameModal from './NewGameModal'\r\nimport { Redirect } from 'react-router'\r\n\r\nconst Peli = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const [modalOpen, setModal] = useState(false)\r\n\r\n    const tulokset = useSelector(state => state.tulokset)\r\n    const user = useSelector(state => state.user)\r\n\r\n    const [haeRundi, kierrosData] = useLazyQuery(GET_ROUND)\r\n    const [uusiPeli] = useMutation(CREATE_GAME)\r\n\r\n    const handleNewGame = async (e) => {\r\n        e.preventDefault()\r\n        const res = await uusiPeli()\r\n        dispatch({ type: 'SET_ID', data: { roundId: res.data.createGame } })\r\n        setModal(false);\r\n    }\r\n    console.log(tulokset)\r\n    console.log(kierrosData)\r\n    if (!user.user) {\r\n        return (\r\n            <Redirect to=\"/login\" />\r\n        )\r\n    }\r\n    if (kierrosData.loading) {\r\n        return (\r\n            <div>\r\n                <h2>Loading round...</h2>\r\n            </div>\r\n        )\r\n    }\r\n    if (!kierrosData.called && tulokset.roundId)\r\n        haeRundi({ variables: { roundId: tulokset.roundId }});\r\n    if (tulokset.roundId === null || !kierrosData.data) {\r\n        return (\r\n            <div>\r\n                <h2>Pakko päästä puttaa</h2>\r\n                <p>\r\n                    Ei aktiivista peliä käynnissä. Aloita joko uusi peli tai jatkaa vanhaa peliä.\r\n                </p>\r\n                <p>\r\n                    Vanhan pelin jatkaminen onnistuu aktivoimalla se 'Vanhat peli' -osiosta.\r\n                </p>\r\n                <Button onClick={() => setModal(true)} color=\"primary\" variant=\"contained\" size=\"large\" fullWidth>Aloita uusi peli</Button>\r\n\r\n                <NewGameModal open={modalOpen} setModal={setModal} handleNewGame={handleNewGame} />\r\n\r\n            </div>\r\n        )\r\n    }\r\n    const kierros = tulokset.round\r\n\r\n    return (\r\n        <div>\r\n\r\n            <Grid container className=\"rundiValitsin\">\r\n                <Grid item ><IconButton onClick={() => dispatch({ type: 'DEC_ROUND' })}><ChevronLeft /></IconButton></Grid>\r\n                <Grid item component={'h2'}>Round {kierros + 1}</Grid>\r\n                <Grid item><IconButton onClick={() => dispatch({ type: 'INC_ROUND' })}><ChevronRight /></IconButton></Grid>\r\n            </Grid>\r\n            {kierrosData.data.getRound.players.map(p => <Player key={p.user.name} player={p} round={kierros} />)}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Peli;","const reducer = (state = { alive: false}, action) => {\r\n    switch(action.type) {\r\n        case 'SET_NOTIFICATION':\r\n            return {\r\n                message: action.data.message,\r\n                type: action.data.type,\r\n                alive: true\r\n            }\r\n        case 'KILL_NOTIFICATION':\r\n           return { ...state, alive:false }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const setNotification = (message, type) => {\r\n    return {\r\n        type: 'SET_NOTIFICATION',\r\n        data: {\r\n            type,\r\n            message,\r\n        }\r\n    }\r\n}\r\nexport const killNotification = () => {\r\n    return {\r\n        type: 'KILL_NOTIFICATION',\r\n        data: {}\r\n    }\r\n}\r\nexport default reducer;","import { killNotification } from '../reducers/notificationReducer'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport Alert from '@material-ui/lab/Alert'\r\n\r\nconst Notification = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const notification = useSelector(state => state.notification)\r\n\r\n    const handleClose = () => {\r\n        dispatch(killNotification())\r\n    }\r\n    return (\r\n        <div>\r\n            <Snackbar open={notification.alive} autoHideDuration={5000} onClose={handleClose}>\r\n                <Alert severity={notification.type} variant=\"filled\">\r\n                    {notification.message}\r\n                </Alert>\r\n            </Snackbar>\r\n        </div>\r\n    )\r\n}\r\nexport default Notification","import { ChevronLeft } from '@material-ui/icons';\r\nimport { Drawer, Divider, List, ListItem, IconButton } from '@material-ui/core'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Vetomenu = ({ menuOpen, setMenuOpen }) =>  {\r\n    \r\n    const user = useSelector(state => state.user)\r\n    const notLogged = (!user.user)\r\n    return (\r\n    <Drawer\r\n        open={menuOpen}\r\n        variant=\"persistent\"\r\n        anchor=\"left\"\r\n    >\r\n        <IconButton onClick={() => setMenuOpen(false)}>\r\n            <ChevronLeft />\r\n        </IconButton>\r\n        <Divider />\r\n        <List>\r\n            <ListItem button component={Link} to=\"/\" onClick={() => setMenuOpen(false)}>\r\n                Etusivu\r\n            </ListItem>\r\n        </List>\r\n        <Divider />\r\n\r\n        <List>\r\n            <ListItem disabled={notLogged} button component={Link} to=\"/peli\" onClick={() => setMenuOpen(false)}>\r\n                Uusi peli\r\n            </ListItem>\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n            <ListItem disabled={notLogged} button component={Link} to=\"/vanhat\" onClick={() => setMenuOpen(false)}>\r\n                Vanhat pelit\r\n            </ListItem>\r\n            <ListItem disabled={notLogged} button onClick={() => setMenuOpen(false)}>\r\n                Statistiikka\r\n            </ListItem>\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n            <ListItem disabled={notLogged} button component={Link} to=\"/kaverit\" onClick={() => setMenuOpen(false)}>\r\n                Kaverit\r\n            </ListItem>\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n            <ListItem disabled={notLogged} button onClick={() => setMenuOpen(false)}>\r\n                Asetukset\r\n            </ListItem>\r\n            <ListItem button component={Link} to=\"/createUser\" onClick={() => setMenuOpen(false)}>\r\n                Luo tunnus\r\n            </ListItem>\r\n            <ListItem button component={Link} to=\"/login\" onClick={() => setMenuOpen(false)}>\r\n                Kirjaudu sisään\r\n            </ListItem>\r\n\r\n        </List>\r\n    </Drawer>\r\n)}\r\nexport default Vetomenu;","\r\nconst reducer = (state = {}, action ) => {\r\n    switch(action.type) {\r\n        case 'SET_USER':\r\n            return {\r\n                user: action.data.user,\r\n                name: action.data.name\r\n            }\r\n        case 'CLEAR_USER':\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const setUser = (name, user) => {\r\n    return {\r\n        type: 'SET_USER',\r\n        data: {\r\n            user,\r\n            name\r\n            \r\n        }\r\n    }\r\n}\r\nexport const clearUser = () => {\r\n    return {\r\n        type: 'CLEAR_USER',\r\n        data: {}\r\n    }\r\n}\r\nexport default reducer","import { useState } from 'react'\r\nimport { Button, TextField, List, ListItem, Backdrop, CircularProgress } from '@material-ui/core'\r\nimport { useApolloClient, useMutation } from '@apollo/client'\r\nimport { LOGIN } from '../queries'\r\nimport { setUser, clearUser } from '../reducers/userReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst LoginForm = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(state => state.user);\r\n\r\n    const [loginProcess, setLoginProcess] = useState(false)\r\n    const [ login ] = useMutation( LOGIN );\r\n    const client = useApolloClient()\r\n\r\n    const handleLogout = async (e) => {\r\n        await client.clearStore()\r\n        window.localStorage.clear()\r\n        dispatch( clearUser() );\r\n    }\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault()\r\n        setLoginProcess(true);\r\n        login({ variables: { user: e.target.user.value, password: e.target.password.value }}).then(result => {\r\n            window.localStorage.setItem('rageToken', result.data.login.value)\r\n            console.log('Login data: ', result.data.login)\r\n            const sailo = setUser(result.data.login.user.name, result.data.login.user.user);\r\n            dispatch(sailo);\r\n            setLoginProcess(false);\r\n        }).catch(e => {\r\n            dispatch( setNotification('Väärä tunnus tai salasana', 'error'))\r\n            setLoginProcess(false);\r\n        })\r\n    }\r\n    console.log(user)\r\n    if (user.user) {\r\n        return (\r\n            <div>\r\n                <h1>Kirjautunut</h1>\r\n                <p>Olet kirjautunut {user.user}:na</p>\r\n                <Button onClick={handleLogout} variant=\"contained\" color=\"primary\">Kirjaudu ulos</Button>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div>\r\n            <Backdrop open={loginProcess}>\r\n                <CircularProgress />\r\n            </Backdrop>\r\n\r\n            <h1>Kirjaudu sisään</h1>\r\n            <form onSubmit={handleLogin}>\r\n                <List>\r\n                    <ListItem><TextField name=\"user\" label=\"Tunnus\" variant=\"outlined\" fullWidth /></ListItem>\r\n                    <ListItem><TextField name=\"password\" label=\"Salasana\" variant=\"outlined\" type=\"password\" fullWidth /></ListItem>\r\n                    <ListItem><Button type=\"submit\" variant=\"contained\" color=\"primary\" size=\"large\">Kirjaudu</Button></ListItem>\r\n                </List>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm;","import { Button, TextField } from '@material-ui/core'\r\n\r\nconst FriendRequestForm = ({ handleSendFriendRequest }) => {\r\n    return (\r\n        <>\r\n        <h2>Lähetä kaveripyyntö</h2>\r\n        <form onSubmit={handleSendFriendRequest}>\r\n        <TextField label=\"Nimi\" variant=\"outlined\" fullWidth name=\"kaveri\" />\r\n        <Button type=\"submit\" variant=\"contained\" fullWidth size=\"large\" color=\"primary\" style={{marginTop: '5px'}}>Lähetä</Button>\r\n        </form>\r\n        </>\r\n    )\r\n}\r\nexport default FriendRequestForm","import { IconButton, Paper } from '@material-ui/core'\r\nimport { Cancel, Check } from '@material-ui/icons/'\r\n\r\nconst FriendRequests = ({ pyynnot, handleFriendRequest }) => {\r\n    if (pyynnot.length < 1) {\r\n        return (\r\n            <h3>Ei kaveripyyntöjä</h3>\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            <h2>Kaveripyynnöt</h2>\r\n            {pyynnot.map(k => <KaveriKortti handleFriendRequest={handleFriendRequest} kaveri={k} key={k.id} />)}\r\n        </>\r\n    )\r\n}\r\nconst KaveriKortti = ({ kaveri, handleFriendRequest }) => {\r\n    return (\r\n        <Paper elevation={2} style={{ paddingLeft: '5px', display: 'inline-block', width: '100%'}}>\r\n            <div style={{float: 'left', paddingTop: '10px', fontWeight: 'bold' }}>\r\n               {kaveri.user} ({kaveri.name})\r\n            </div>\r\n            <div style={{float: 'right' }}>\r\n                <IconButton onClick={() => handleFriendRequest(kaveri.id, true )}>\r\n                    <Check style={{ color: 'green' }} />\r\n                </IconButton>\r\n                <IconButton onClick={() => handleFriendRequest(kaveri.id, false )}>\r\n                    <Cancel style={{ color: 'red' }} />\r\n                </IconButton>\r\n            </div>\r\n\r\n        </Paper>\r\n    )\r\n}\r\nexport default FriendRequests","import { useMutation, useQuery } from \"@apollo/client\"\r\nimport { ANSWER_FRIEND_REQUEST, GET_ME, SEND_FRIEND_REQUEST } from \"../queries\"\r\nimport FriendRequestForm from \"./FriendRequestForm\"\r\nimport FriendRequests from \"./FriendRequests\"\r\nimport { useDispatch } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\n\r\nconst Kaverit = () => {\r\n\r\n    const mina = useQuery(GET_ME)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const [ answerFriendRequest ] = useMutation( ANSWER_FRIEND_REQUEST, { refetchQueries: [{ query: GET_ME }] } )\r\n    const [ sendFriendRequest ] = useMutation( SEND_FRIEND_REQUEST)\r\n\r\n    const handleSendFriendRequest = (e) => {\r\n        e.preventDefault()\r\n        sendFriendRequest( { variables: { name: e.target.kaveri.value }} ).then(res => {\r\n            dispatch( setNotification('Kaveripyyntö lähetetty!', 'success'))\r\n        }).catch(e => {\r\n            dispatch( setNotification('Pyyntö epäonnistui: ' + e.message, 'error'))\r\n        })\r\n        e.target.kaveri.value = ''\r\n    }\r\n    const handleFriendRequest = (friendId, answer) => {\r\n        answerFriendRequest( { variables: { friendId, answer }}).then(res => {\r\n            dispatch( setNotification('Kaveripyyntö hyväksytty', 'success'))\r\n        }).catch(e => {\r\n            dispatch( setNotification('Tapahtui virhe: ' + e.message, 'error' ))\r\n        })\r\n    }\r\n    if (mina.loading) {\r\n        return ( <h2>Loading friends...</h2>)\r\n    }\r\n    console.log(mina)\r\n    return (\r\n        <div>\r\n        <h2>Kaverisi</h2>\r\n        <KaveriLista kaverit={mina.data.getMe.friends} />\r\n        <FriendRequests pyynnot={mina.data.getMe.friendRequests} handleFriendRequest={handleFriendRequest} />\r\n        <FriendRequestForm handleSendFriendRequest={handleSendFriendRequest} />\r\n        </div>\r\n    )\r\n\r\n}\r\nconst KaveriLista = ({ kaverit }) => {\r\n    if (kaverit.length < 1) {\r\n        return (<div>Ei kavereita :(</div>)\r\n    }\r\n    return (\r\n        <div> {kaverit.map(k => <li key={k.id}>{k.user} ({k.name})</li>)}</div>\r\n    )\r\n}\r\nexport default Kaverit","import { useMutation } from \"@apollo/client\"\r\nimport { ListItem, List, Button, TextField, Divider, Container } from \"@material-ui/core\"\r\nimport { useState } from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { Redirect } from \"react-router\"\r\nimport { CREATE_USER } from '../queries'\r\nimport { setNotification } from \"../reducers/notificationReducer\"\r\n\r\nconst CreateUserForm = () => {\r\n\r\n    const [createUser, cuData ] = useMutation(CREATE_USER)\r\n    const dispatch = useDispatch()\r\n\r\n    const [ errors, setErrors] = useState({ tunnus: false, password: false })\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const vars = {\r\n            user: e.target.user.value,\r\n            password: e.target.password.value,\r\n            name: e.target.name.value,\r\n            email: e.target.email.value\r\n        }\r\n        if (vars.user === '') {\r\n            setErrors( { ...errors, tunnus: true })\r\n        } else if (vars.password === '' || vars.password !== e.target.password2.value) {\r\n            setErrors( { ...errors, password: true })\r\n        }\r\n        else {\r\n            try {\r\n                await createUser({ variables: vars })\r\n                dispatch(setNotification('Tunnukset luotiin onnistuneesti', 'success'))\r\n            } catch (e) {\r\n                dispatch(setNotification('Virhe tunnusten luonnissa: ' + e.message, 'error'))\r\n            }\r\n        }\r\n    }\r\n    if (cuData.loading) {\r\n        return (<h2>Creating user...</h2>)\r\n    }\r\n    if (cuData.called && !cuData.error) {\r\n        return (<Redirect to=\"/login\" /> )\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Luo tunnus</h1>\r\n            <h2>Perustiedot</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <List>\r\n                    <ListItem><TextField error={errors.tunnus} name=\"user\" label=\"Tunnus\" variant=\"outlined\" fullWidth></TextField></ListItem>\r\n                    <ListItem><TextField error={errors.password} name=\"password\" type=\"password\" label=\"Salasana\" variant=\"outlined\" fullWidth></TextField></ListItem>\r\n                    <ListItem><TextField error={errors.password} name=\"password2\" label=\"Salasana uudestaan\" type=\"password\" variant=\"outlined\" fullWidth></TextField></ListItem>\r\n                    <Divider style={{ marginTop: '15px' }} />\r\n                    <h2>Lisätiedot</h2>\r\n                    <Container>\r\n                        Ei pakollisia. Sähköpostiosoitteen antaminen mahdollistaa tunnusten palauttamisen.\r\n                    </Container>\r\n                    <ListItem><TextField name=\"name\" label=\"Nimi\" variant=\"outlined\" fullWidth></TextField></ListItem>\r\n                    <ListItem><TextField name=\"email\" label=\"Sähköposti\" variant=\"outlined\" fullWidth></TextField></ListItem>\r\n                    <ListItem><Button type=\"submit\" size=\"large\" variant=\"contained\" fullWidth color=\"primary\">Luo tunnus</Button></ListItem>\r\n                </List>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateUserForm","import { Button } from '@material-ui/core'\r\n\r\nconst Pelikortti = ({ peli, aktivoi }) => {\r\n    return (\r\n        <Button onClick={() => aktivoi(peli)} fullWidth variant=\"outlined\" style={{marginBottom: '5px'}}>{peli}</Button>\r\n    )\r\n\r\n}\r\nexport default Pelikortti","import { useQuery } from \"@apollo/client\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { Redirect } from \"react-router\"\r\nimport { GET_GAMES } from \"../queries\"\r\nimport { Button } from '@material-ui/core'\r\nimport Pelikortti from \"./Pelikortti\"\r\n\r\nconst VanhatPelit = () => {\r\n\r\n    const getGames = useQuery(GET_GAMES)\r\n    const user = useSelector(state => state.user)\r\n    const dispatch = useDispatch()\r\n\r\n    const aktivoi = (g) => {\r\n        dispatch({ type: 'SET_ID', data: { roundId: g }})\r\n    }\r\n\r\n    if (!user.user) {\r\n        return (\r\n            <Redirect to=\"/login\" />\r\n        )\r\n    }\r\n\r\n    if (getGames.loading) {\r\n        return (\r\n            <h2>Loading rounds...</h2>\r\n        )\r\n    }\r\n    console.log(getGames)\r\n    return (\r\n        <div>\r\n            <h2>Vanhat pelit</h2>\r\n            {getGames.data.getGames.map(g => <Pelikortti aktivoi={aktivoi} peli={g} key={g} />)}\r\n        </div>\r\n    )\r\n}\r\nexport default VanhatPelit","import React, { useEffect, useState } from 'react';\nimport { Route, Switch } from 'react-router-dom'\n\nimport Peli from './Peli';\nimport Notification from './components/Notification'\n\nimport Vetomenu from './components/Vetomenu'\nimport LoginForm from './components/LoginForm'\nimport Kaverit from './Kaverit'\n\nimport { AppBar, Toolbar, IconButton, Typography, Button, Container } from '@material-ui/core'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport CreateUserForm from './components/CreateUserForm';\nimport VanhatPelit from './VanhatPelit';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { GET_ME } from './queries';\nimport { useLazyQuery } from '@apollo/client';\nimport { setUser } from './reducers/userReducer';\n\n\nfunction App() {\n\n  const [menuOpen, setMenuOpen] = useState(false)\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n\n  const [getMe, gotme] = useLazyQuery(GET_ME)\n\n  const openMenu = () => {\n    setMenuOpen(true)\n  }\n  useEffect(() => {\n    const otaToken = () => {\n      const token = localStorage.getItem('rageToken')\n      console.log(token)\n      console.log(user)\n      if (token && !user.user) {\n        if (!gotme.loading && gotme.data) {\n          console.log(gotme)\n          dispatch( setUser(gotme.data.getMe.name, gotme.data.getMe.user))\n        }\n        else if (gotme.called === false) {\n          getMe()\n        }\n      }\n    }\n    otaToken()\n  }, [gotme])\n  return (\n    <div>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton edge=\"start\" onClick={openMenu}>\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n            RagePutt\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Vetomenu menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\n      <Notification />\n      <Container>\n        <Switch>\n          <Route path=\"/kaverit\">\n            <Kaverit />\n          </Route>\n          <Route path=\"/login\" >\n            <LoginForm />\n          </Route>\n          <Route path=\"/vanhat\" >\n            <VanhatPelit />\n          </Route>\n          <Route path=\"/peli\">\n            <Peli />\n          </Route>\n          <Route path=\"/createUser\">\n            <CreateUserForm />\n          </Route>\n          <Route path=\"/\">\n            <h1>Etusivu</h1>\n            <p>\n              Rageputt is bäk\n            </p>\n          </Route>\n        </Switch>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","\r\nconst reducer = (state = {round: 0, roundId: null}, action) => {\r\n    switch(action.type) {\r\n        case 'INC_ROUND':\r\n            if (state.round < 19)\r\n                return {...state, round: state.round + 1 }\r\n            else return state;\r\n        case 'DEC_ROUND':\r\n            if (state.round >= 1)\r\n                return {...state, round: state.round - 1 } \r\n            else return state;\r\n        case 'SET_ID':\r\n            return { ...state, roundId: action.data.roundId }\r\n        case 'INIT_ROUND':\r\n            return action.data;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import { combineReducers, createStore } from 'redux';\r\nimport tuloksetReducer from './reducers/tuloksetReducer'\r\nimport userReducer from './reducers/userReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\n\r\nconst reducers = combineReducers({\r\n    tulokset: tuloksetReducer,\r\n    user: userReducer,\r\n    notification: notificationReducer\r\n})\r\n\r\nconst store = createStore(reducers);\r\n\r\nexport default store\r\n","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport { setContext } from 'apollo-link-context'\n\nimport { Provider } from 'react-redux'\n\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nimport { ApolloClient, ApolloProvider, HttpLink, InMemoryCache } from '@apollo/client'\n\nimport store from './store'\n\nconst authLink = setContext(( _, { headers }) => {\n  const token = localStorage.getItem('rageToken')\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `bearer ${token}` : null\n    }\n  }\n})\nlet ApolloUri = 'https://rageputt.herokuapp.com/graphql'\nif (process.env.NODE_ENV !== 'production') {\n  console.log('Development mode selected!')\n  ApolloUri = 'http://localhost:4000/graphql'\n}\nconst httpLink = new HttpLink( { uri: ApolloUri })\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: authLink.concat(httpLink)\n})\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n    </Provider>\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n"],"sourceRoot":""}